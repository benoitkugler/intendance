(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["agenda"],{"0869":function(e,t,n){},"0c18":function(e,t,n){},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"1d38":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fill-height"},[n("v-dialog",{attrs:{"max-width":"800"},model:{value:e.showPreferences,callback:function(t){e.showPreferences=t},expression:"showPreferences"}},[n("form-preferences",{model:{value:e.preferences,callback:function(t){e.preferences=t},expression:"preferences"}})],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.showEditFormRepas,callback:function(t){e.showEditFormRepas=t},expression:"showEditFormRepas"}},[n("form-repas",{attrs:{initialRepas:e.editedRepas,mode:e.editMode},on:{accept:e.onEditRepasDone,delete:e.deleteRepas}})],1),n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[null==e.sejour?n("v-col",{staticClass:"align-self-center"},[n("v-alert",{staticClass:"align-self-center",attrs:{color:"secondary",value:!0,transition:"fade-transition"}},[e._v(" Veuillez choisir un séjour via l'onglet "),n("b",[e._v("Séjours")])])],1):n("v-col",[n("v-toolbar",{staticClass:"calendar-toolbar mb-1",attrs:{dense:""}},[n("v-toolbar-title",[e._v(" Organisation du séjour "),n("b",[e._v(e._s(e.sejour.nom))])]),n("v-spacer"),n("v-toolbar-items",[n("toolbar-switch",{attrs:{label:"Détails journée","tooltip-off":"Passer vers le choix des <b>menus</b>","tooltip-on":"Passer vers la répartition des <b>groupes</b>"},model:{value:e.calendarModeGroupe,callback:function(t){e.calendarModeGroupe=t},expression:"calendarModeGroupe"}}),n("v-divider",{attrs:{vertical:""}}),n("tooltip-btn",{attrs:{tooltip:"Préférences d'affichage...","mdi-icon":"cogs"},on:{click:function(t){e.showPreferences=!0}}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"8"}},[n("calendar",{ref:"calendar",attrs:{sejour:e.sejour,preferences:e.preferences,mode:e.calendarMode,activeJourOffset:e.activeJourOffset},on:{change:e.onChangeDay,addRepas:e.startAddRepasFromDate,editRepas:e.startEditRepas}})],1),n("v-col",{attrs:{cols:"4"}},[n("div",["menus"==e.calendarMode?n("div",[n("choix-menus",{attrs:{height:"67vh"}})],1):n("div",[null!=e.activeJourOffset?n("day",{attrs:{height:"67vh",jourOffset:e.activeJourOffset},on:{addRepas:e.startAddRepasFromHoraire,editRepas:e.startEditRepas}}):n("v-alert",{attrs:{type:"info",value:!0}},[e._v(" Sélectionner une journée pour afficher les détails... ")])],1)])])],1)],1)],1)],1)],1)},r=[],i=n("5530"),s=(n("96cf"),n("1da1")),o=n("d4ec"),l=n("bee2"),c=n("99de"),u=n("7e84"),d=n("262e"),h=n("9ab4"),f=n("2fe1"),p=n("2b0e"),v=n("0f2e"),m=n("5dc2"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"weeks",staticClass:"two-weeks-calendar"},[n("week",{attrs:{sejour:e.sejour,weekdays:e.weekdays,start:e.startWeek1,dayHeight:e.dayHeight,events:e.events,mode:e.mode,currentDay:e.currentDay,hoverDay:e.hoverDay},on:{editRepas:function(t){return e.$emit("editRepas",t)},addRepas:function(t){return e.$emit("addRepas",t)},change:function(t){return e.$emit("change",t)},hover:function(t){return e.hoverDay=t}}}),n("week",{attrs:{sejour:e.sejour,weekdays:e.weekdays,start:e.startWeek2,dayHeight:e.dayHeight,events:e.events,mode:e.mode,currentDay:e.currentDay,hoverDay:e.hoverDay},on:{editRepas:function(t){return e.$emit("editRepas",t)},addRepas:function(t){return e.$emit("addRepas",t)},change:function(t){return e.$emit("change",t)},hover:function(t){return e.hoverDay=t}}})],1)},b=[],y=(n("c975"),n("d81d"),n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.repass?n("v-list",{staticStyle:{"border-radius":"0"},attrs:{dense:""}},[n("v-list-item-group",e._l(e.repass,(function(t){return n("v-list-item",{key:t.id,staticClass:"px-1",attrs:{draggable:""},on:{click:function(n){return n.stopPropagation(),e.$emit("edit",t)},dragstart:function(n){return e.onDragstart(n,t)},dragover:function(n){return n.stopPropagation(),e.onDragover(n,t)},drop:function(n){return n.stopPropagation(),e.onDrop(n,t)}}},[n("v-list-item-icon",{staticClass:"ml-0 mr-1 y-0 align-self-center"},[n("v-chip",{staticClass:"px-1",attrs:{label:"",small:"",color:e.getColorRepas(t)}},[e._v(" "+e._s(e.getHoraireInitiale(t))+" ")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e.repasTitle(t))+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(e.repasSubTitle(t))+" ")])],1)],1)})),1)],1):e._e()}),j=[],x=(n("caad"),n("2532"),n("fe36")),O=n("5afb");n("99af");function k(e){return e.toISOString().substr(0,10)}function w(e){var t=e.offset_personnes;return 0!=t?"".concat(t>0?"+":"").concat(t," pers."):""}var S=p["a"].extend({props:{repass:Array,mode:String}}),I=function(e){function t(){return Object(o["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"repasTitle",value:function(e){if("groupes"==this.mode){var t=v["a"].getRepasGroupes(e).length;return"".concat(t," gr.")}return v["a"].formatter.formatRepasName(e)}},{key:"repasSubTitle",value:function(e){if("groupes"==this.mode)return w(e);var t=v["a"].getRepasNbPersonnes(e);return"".concat(t," pers.")}},{key:"getColorRepas",value:function(e){return x["a"][e.horaire]}},{key:"getHoraireInitiale",value:function(e){var t=Object(O["d"])(e.horaire);return t.substr(0,2)}},{key:"onDragstart",value:function(e,t){null!=e&&null!=e.dataTransfer&&(e.dataTransfer.setData("repas",JSON.stringify(t)),e.dataTransfer.effectAllowed="linkMove")}},{key:"onDragover",value:function(e,t){e.dataTransfer&&(e.dataTransfer.types.includes("repas")||e.dataTransfer.types.includes("menu"))&&(e.preventDefault(),e.dataTransfer.dropEffect="link")}},{key:"onDrop",value:function(e,t){e.dataTransfer&&(e.dataTransfer.types.includes("repas")?(e.preventDefault(),this.onDropRepas(e,t)):e.dataTransfer.types.includes("menu")&&(e.preventDefault(),this.onDropMenu(e,t)))}},{key:"onDropRepas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataTransfer){e.next=2;break}return e.abrupt("return");case 2:if(a=JSON.parse(t.dataTransfer.getData("repas")),n.id!=a.id){e.next=5;break}return e.abrupt("return");case 5:return n=Object(m["b"])(n),r=[n.jour_offset,a.jour_offset],a.jour_offset=r[0],n.jour_offset=r[1],i=[n.horaire,a.horaire],a.horaire=i[0],n.horaire=i[1],e.next=14,v["a"].data.updateManyRepas([n,a]);case 14:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage("Repas échangés avec succès.");case 15:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"onDropMenu",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataTransfer){e.next=2;break}return e.abrupt("return");case 2:if(a=JSON.parse(t.dataTransfer.getData("menu")),!n.id_menu.Valid||n.id_menu.Int64!=a.id){e.next=5;break}return e.abrupt("return");case 5:return n=Object(m["b"])(n),n.id_menu=Object(m["c"])(a.id),e.next=9,v["a"].data.updateManyRepas([n]);case 9:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage("Menu associé avec succès.");case 10:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(S);I=Object(h["a"])([Object(f["b"])({})],I);var _=I,C=_,D=n("2877"),T=n("6544"),E=n.n(T),$=n("cc20"),R=n("8860"),M=n("da13"),V=n("5d23"),A=n("1baa"),F=n("34c3"),B=Object(D["a"])(C,y,j,!1,null,"7626fd10",null),P=B.exports;E()(B,{VChip:$["a"],VList:R["a"],VListItem:M["a"],VListItemContent:V["a"],VListItemGroup:A["a"],VListItemIcon:F["a"],VListItemSubtitle:V["b"],VListItemTitle:V["c"]});var H=n("1c9b"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-calendar",{attrs:{type:"custom-weekly","hide-header":"",start:e.start,weekdays:e.weekdays},scopedSlots:e._u([{key:"day-label",fn:function(t){var a=t.date;return[n("v-row",{staticClass:"mb-1",attrs:{"no-gutters":""},on:{mouseover:function(t){return e.$emit("hover",a)}}},[n("v-col",[n("v-btn",{staticClass:"mx-0 px-1",attrs:{text:"",small:"","input-value":e.currentDay===a},on:{click:function(t){return e.$emit("change",a)},dragover:function(t){return e.onDayDragover(t,a)},drop:function(t){return e.onDayDrop(t,a)}}},[e._v(e._s(e.dayTitle(a))+" ")])],1),n("v-col",{attrs:{cols:"4"}},[e.hoverDay===a?n("tooltip-btn",{attrs:{small:"","mdi-icon":"plus",color:"green",tooltip:"Ajouter un repas..."},on:{click:function(t){return e.$emit("addRepas",a)}}}):e._e()],1)],1)]}},{key:"day",fn:function(t){var a=t.date;return[n("div",{staticClass:"overflow-y-auto",style:{height:e.dayHeight},on:{dragover:function(t){return e.onDayDragover(t,a)},drop:function(t){return e.onDayDrop(t,a)},mouseover:function(t){return e.$emit("hover",a)}}},[n("liste-repas",{attrs:{repass:e.events[a],mode:e.mode},on:{edit:function(t){return e.$emit("editRepas",t)}}})],1)]}}])})},N=[],W=p["a"].extend({props:{sejour:Object,weekdays:Array,start:String,dayHeight:String,events:Object,mode:String,currentDay:String,hoverDay:String}}),J=function(e){function t(){return Object(o["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"dayTitle",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"})}},{key:"onDayDragover",value:function(e,t){if(e.dataTransfer&&null!=this.sejour){var n=new Date(this.sejour.date_debut).valueOf(),a=new Date(t).valueOf();if(!(a<n)){var r=e.dataTransfer.types.includes("repas");r&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}}}},{key:"onDayDrop",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataTransfer&&null!=v["a"].state.idSejour){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),a=JSON.parse(t.dataTransfer.getData("repas")),r=v["a"].dateToOffset(v["a"].state.idSejour,new Date(n)),r!=a.jour_offset){e.next=7;break}return e.abrupt("return");case 7:return a.jour_offset=r,e.next=10,v["a"].data.updateManyRepas([a]);case 10:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage("Repas déplacé avec succès.");case 11:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(W);J=Object(h["a"])([Object(f["b"])({components:{ListeRepas:P,TooltipBtn:H["a"]}})],J);var G=J,z=G,Y=n("8336"),U=(n("4de4"),n("4160"),n("159b"),n("d13b"),n("5607")),Z=(n("fb6a"),n("ac1f"),n("1276"),n("58df")),q=n("a9ad"),Q=n("dfda"),K=n("ade3"),X=p["a"].extend({name:"mouse",methods:{getDefaultMouseEventHandlers:function(e,t){var n;return this.getMouseEventHandlers((n={},Object(K["a"])(n,"click"+e,{event:"click"}),Object(K["a"])(n,"contextmenu"+e,{event:"contextmenu",prevent:!0,result:!1}),Object(K["a"])(n,"mousedown"+e,{event:"mousedown"}),Object(K["a"])(n,"mousemove"+e,{event:"mousemove"}),Object(K["a"])(n,"mouseup"+e,{event:"mouseup"}),Object(K["a"])(n,"mouseenter"+e,{event:"mouseenter"}),Object(K["a"])(n,"mouseleave"+e,{event:"mouseleave"}),Object(K["a"])(n,"touchstart"+e,{event:"touchstart"}),Object(K["a"])(n,"touchmove"+e,{event:"touchmove"}),Object(K["a"])(n,"touchend"+e,{event:"touchend"}),n),t)},getMouseEventHandlers:function(e,t){var n=this,a={},r=function(r){var i=e[r];if(!n.$listeners[r])return"continue";var s=i.passive?"&":(i.once?"~":"")+(i.capture?"!":""),o=s+i.event,l=function(e){var a=e;return(void 0===i.button||a.buttons>0&&a.button===i.button)&&(i.prevent&&e.preventDefault(),i.stop&&e.stopPropagation(),n.$emit(r,t(e))),i.result};o in a?Array.isArray(a[o])?a[o].push(l):a[o]=[a[o],l]:a[o]=l};for(var i in e)r(i);return a}}}),ee=n("7560"),te=n("ea4a"),ne=p["a"].extend({name:"times",props:{now:{type:String,validator:te["A"]}},data:function(){return{times:{now:Object(te["t"])("0000-00-00 00:00",!0),today:Object(te["t"])("0000-00-00",!0)}}},computed:{parsedNow:function(){return this.now?Object(te["t"])(this.now,!0):null}},watch:{parsedNow:"updateTimes"},created:function(){this.updateTimes(),this.setPresent()},methods:{setPresent:function(){this.times.now.present=this.times.today.present=!0,this.times.now.past=this.times.today.past=!1,this.times.now.future=this.times.today.future=!1},updateTimes:function(){var e=this.parsedNow||this.getNow();this.updateDay(e,this.times.now),this.updateTime(e,this.times.now),this.updateDay(e,this.times.today)},getNow:function(){return Object(te["r"])(new Date)},updateDay:function(e,t){e.date!==t.date&&(t.year=e.year,t.month=e.month,t.day=e.day,t.weekday=e.weekday,t.date=e.date)},updateTime:function(e,t){e.time!==t.time&&(t.hour=e.hour,t.minute=e.minute,t.time=e.time)}}}),ae=n("dc22"),re=(n("a4d3"),n("e01a"),n("d28b"),n("13d5"),n("d3b7"),n("3ca3"),n("ddb0"),n("3835")),ie=864e5;function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.map((function(e){return{event:e,columnCount:0,column:0,left:0,width:100}}));return n.sort((function(e,n){return Math.max(t,e.event.startTimestampIdentifier)-Math.max(t,n.event.startTimestampIdentifier)||n.event.endTimestampIdentifier-e.event.endTimestampIdentifier})),n}function oe(e,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return r?!(e>=a||t<=n):!(e>a||t<n)}function le(e){e.forEach((function(t){t.visuals.forEach((function(t){t.columnCount=e.length}))}))}function ce(e){return[e.startTimestampIdentifier,e.endTimestampIdentifier]}function ue(e){return[e.startIdentifier,e.endIdentifier]}function de(e,t){return[Math.max(t,e.startTimestampIdentifier),Math.min(t+ie,e.endTimestampIdentifier)]}function he(e,t,n,a){for(var r=0;r<e.length;r++){var i=e[r],s=!1;if(oe(t,n,i.start,i.end,a))for(var o=0;o<i.visuals.length;o++){var l=i.visuals[o],c=a?ce(l.event):ue(l.event),u=Object(re["a"])(c,2),d=u[0],h=u[1];if(oe(t,n,d,h,a)){s=!0;break}}if(!s)return r}return-1}function fe(e){var t={groups:[],min:-1,max:-1,reset:function(){t.groups=[],t.min=t.max=-1},getVisuals:function(n,a,r){(n.weekday===e||r)&&t.reset();var i=Object(te["o"])(n),s=se(a,i);return s.forEach((function(e){var n=r?ce(e.event):ue(e.event),a=Object(re["a"])(n,2),i=a[0],s=a[1];t.groups.length>0&&!oe(i,s,t.min,t.max,r)&&(le(t.groups),t.reset());var o=he(t.groups,i,s,r);-1===o&&(o=t.groups.length,t.groups.push({start:i,end:s,visuals:[]}));var l=t.groups[o];l.visuals.push(e),l.start=Math.min(l.start,i),l.end=Math.max(l.end,s),e.column=o,-1===t.min?(t.min=i,t.max=s):(t.min=Math.min(t.min,i),t.max=Math.max(t.max,s))})),le(t.groups),s}};return t}var pe=100,ve=5,me=1.7,ge=function(e,t,n){var a=fe(t);return function(e,t,r){if(!r)return a.getVisuals(e,t,r);var i=Object(te["o"])(e),s=se(t,i),o=Se(s,i),l=!0,c=!1,u=void 0;try{for(var d,h=o[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value,p=[],v=!0,m=!1,g=void 0;try{for(var b,y=f.visuals[Symbol.iterator]();!(v=(b=y.next()).done);v=!0){var j=b.value,x=Ie(j,i),O=xe(x,p);if(!1===O){var k=ke(x,p);k&&(x.parent=k,x.sibling=oe(x.start,x.end,k.start,Ce(k.start,n)),x.index=k.index+1,k.children.push(x))}else{var w=Oe(x,p,O-1,O-1),S=Object(re["a"])(w,1),I=S[0],_=Oe(x,p,O+1,O+p.length,!0);x.children=_,x.index=O,I&&(x.parent=I,x.sibling=oe(x.start,x.end,I.start,Ce(I.start,n)),I.children.push(x));var C=!0,D=!1,T=void 0;try{for(var E,$=_[Symbol.iterator]();!(C=(E=$.next()).done);C=!0){var R=E.value;R.parent===I&&(R.parent=x);var M=R.index-x.index<=1;M&&x.sibling&&oe(x.start,Ce(x.start,n),R.start,R.end)&&(R.sibling=!0)}}catch(V){D=!0,T=V}finally{try{C||null==$.return||$.return()}finally{if(D)throw T}}}p.push(x)}}catch(V){m=!0,g=V}finally{try{v||null==y.return||y.return()}finally{if(m)throw g}}be(p,n)}}catch(V){c=!0,u=V}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}return s.sort((function(e,t){return e.left-t.left||e.event.startTimestampIdentifier-t.event.startTimestampIdentifier})),s}};function be(e,t){var n=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value,l=o.visual,c=o.parent,u=_e(o)+1,d=c?c.visual.left:0,h=pe-d,f=Math.min(ve,pe/u),p=ye(o,e),v=h/(u-o.index+1),m=h/(u-o.index+(o.sibling?1:0))*p;c&&(l.left=o.sibling?d+v:d+f),l.width=we(o,e,t)?pe-l.left:Math.min(pe-l.left,m*me)}}catch(g){a=!0,r=g}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}}function ye(e,t){if(!e.children.length)return 1;var n=e.index+t.length,a=e.children.reduce((function(e,t){return Math.min(e,t.index)}),n);return a-e.index}function je(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var l=s.value;oe(e.start,e.end,l.start,l.end)&&n.push(l.index)}}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}function xe(e,t){var n=je(e,t);n.sort();for(var a=0;a<n.length;a++)if(a<n[a])return a;return!1}function Oe(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],s=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;d.index>=n&&d.index<=a&&oe(e.start,e.end,d.start,d.end)&&i.push(d)}}catch(f){o=!0,l=f}finally{try{s||null==u.return||u.return()}finally{if(o)throw l}}if(r&&i.length>0){var h=i.reduce((function(e,t){return Math.min(e,t.index)}),i[0].index);return i.filter((function(e){return e.index===h}))}return i}function ke(e,t){var n=null,a=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var l=s.value;oe(e.start,e.end,l.start,l.end)&&(null===n||l.index>n.index)&&(n=l)}}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}function we(e,t,n){var a=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var l=s.value;if(l!==e&&l.index>e.index&&oe(e.start,Ce(e.start,n),l.start,l.end))return!1}}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return!0}function Se(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var l=s.value,c=de(l.event,t),u=Object(re["a"])(c,2),d=u[0],h=u[1],f=!1,p=!0,v=!1,m=void 0;try{for(var g,b=n[Symbol.iterator]();!(p=(g=b.next()).done);p=!0){var y=g.value;if(oe(d,h,y.start,y.end)){y.visuals.push(l),y.end=Math.max(y.end,h),f=!0;break}}}catch(j){v=!0,m=j}finally{try{p||null==b.return||b.return()}finally{if(v)throw m}}f||n.push({start:d,end:h,visuals:[l]})}}catch(j){r=!0,i=j}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}function Ie(e,t){var n=de(e.event,t),a=Object(re["a"])(n,2),r=a[0],i=a[1];return{parent:null,sibling:!0,index:0,visual:e,start:r,end:i,children:[]}}function _e(e){var t=e.index,n=!0,a=!1,r=void 0;try{for(var i,s=e.children[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value,l=_e(o);l>t&&(t=l)}}catch(c){a=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return t}function Ce(e,t){var n=e%100,a=n+t,r=Math.floor(a/60),i=a%60;return e-n+100*r+i}var De=100,Te=function(e,t,n){var a=fe(t);return function(e,t,n){var r=a.getVisuals(e,t,n);return n&&r.forEach((function(e){e.left=e.column*De/e.columnCount,e.width=De/e.columnCount})),r}},Ee={stack:ge,column:Te},$e={base:{start:{type:String,validate:te["A"],default:function(){return Object(te["r"])(new Date).date}},end:{type:String,validate:te["A"]},weekdays:{type:[Array,String],default:function(){return[0,1,2,3,4,5,6]},validate:Me},hideHeader:{type:Boolean,default:!1},shortWeekdays:{type:Boolean,default:!0},weekdayFormat:{type:Function,default:null},dayFormat:{type:Function,default:null}},intervals:{maxDays:{type:Number,default:7},shortIntervals:{type:Boolean,default:!0},intervalHeight:{type:[Number,String],default:48,validate:Re},intervalWidth:{type:[Number,String],default:60,validate:Re},intervalMinutes:{type:[Number,String],default:60,validate:Re},firstInterval:{type:[Number,String],default:0,validate:Re},intervalCount:{type:[Number,String],default:24,validate:Re},intervalFormat:{type:Function,default:null},intervalStyle:{type:Function,default:null},showIntervalLabel:{type:Function,default:null}},weeks:{minWeeks:{validate:Re,default:1},shortMonths:{type:Boolean,default:!0},showMonthOnFirst:{type:Boolean,default:!0},monthFormat:{type:Function,default:null}},calendar:{type:{type:String,default:"month"},value:{type:String,validate:te["A"]}},events:{events:{type:Array,default:function(){return[]}},eventStart:{type:String,default:"start"},eventEnd:{type:String,default:"end"},eventHeight:{type:Number,default:20},eventColor:{type:[String,Function],default:"primary"},eventTextColor:{type:[String,Function],default:"white"},eventName:{type:[String,Function],default:"name"},eventOverlapThreshold:{type:[String,Number],default:60},eventOverlapMode:{type:[String,Function],default:"stack",validate:function(e){return e in Ee||"function"===typeof e}},eventMore:{type:Boolean,default:!0},eventMoreText:{type:String,default:"$vuetify.calendar.moreEvents"},eventRipple:{type:[Boolean,Object],default:null},eventMarginBottom:{type:Number,default:1}}};function Re(e){return isFinite(parseInt(e))}function Me(e){if("string"===typeof e&&(e=e.split(",")),Array.isArray(e)){var t=e.map((function(e){return parseInt(e)}));if(t.length>te["b"]||0===t.length)return!1;for(var n={},a=!1,r=0;r<t.length;r++){var i=t[r];if(!isFinite(i)||i<0||i>=te["b"])return!1;if(r>0){var s=i-t[r-1];if(s<0){if(a)return!1;a=!0}else if(0===s)return!1}if(n[i])return!1;n[i]=!0}return!0}return!1}var Ve=Object(Z["a"])(q["a"],Q["a"],X,ee["a"],ne).extend({name:"calendar-base",directives:{Resize:ae["a"]},props:$e.base,computed:{parsedWeekdays:function(){return Array.isArray(this.weekdays)?this.weekdays:(this.weekdays||"").split(",").map((function(e){return parseInt(e,10)}))},weekdaySkips:function(){return Object(te["p"])(this.parsedWeekdays)},weekdaySkipsReverse:function(){var e=this.weekdaySkips.slice();return e.reverse(),e},parsedStart:function(){return Object(te["t"])(this.start,!0)},parsedEnd:function(){var e=this.parsedStart,t=this.end&&Object(te["t"])(this.end)||e;return Object(te["o"])(t)<Object(te["o"])(e)?e:t},days:function(){return Object(te["e"])(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips)},dayFormatter:function(){if(this.dayFormat)return this.dayFormat;var e={timeZone:"UTC",day:"numeric"};return Object(te["g"])(this.currentLocale,(function(t,n){return e}))},weekdayFormatter:function(){if(this.weekdayFormat)return this.weekdayFormat;var e={timeZone:"UTC",weekday:"long"},t={timeZone:"UTC",weekday:"short"};return Object(te["g"])(this.currentLocale,(function(n,a){return a?t:e}))}},methods:{getRelativeClasses:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{"v-present":e.present,"v-past":e.past,"v-future":e.future,"v-outside":t}},getStartOfWeek:function(e){return Object(te["n"])(e,this.parsedWeekdays,this.times.today)},getEndOfWeek:function(e){return Object(te["l"])(e,this.parsedWeekdays,this.times.today)},getFormatter:function(e){return Object(te["g"])(this.locale,(function(t,n){return e}))}}}),Ae=n("80d2");function Fe(e,t,n,a){var r=Object(te["t"])(e[n],!0),i=e[a]?Object(te["t"])(e[a],!0):r,s=Object(te["j"])(r),o=Object(te["o"])(r),l=Object(te["j"])(i),c=r.hasTime?0:2359,u=Object(te["o"])(i)+c,d=!r.hasTime;return{input:e,start:r,startIdentifier:s,startTimestampIdentifier:o,end:i,endIdentifier:l,endTimestampIdentifier:u,allDay:d,index:t}}function Be(e,t){return t>=e.startIdentifier&&t<=e.endIdentifier}function Pe(e,t,n,a){return n===e.startIdentifier||a===t.weekday&&Be(e,n)}function He(e,t,n){return t<=e.endIdentifier&&n>=e.startIdentifier}var Le=100,Ne=95,We=1440,Je=Ve.extend({name:"calendar-with-events",directives:{ripple:U["a"]},props:$e.events,computed:{noEvents:function(){return 0===this.events.length},parsedEvents:function(){var e=this;return this.events.map((function(t,n){return Fe(t,n,e.eventStart,e.eventEnd)}))},parsedEventOverlapThreshold:function(){return parseInt(this.eventOverlapThreshold)},eventColorFunction:function(){var e=this;return"function"===typeof this.eventColor?this.eventColor:function(){return e.eventColor}},eventTextColorFunction:function(){var e=this;return"function"===typeof this.eventTextColor?this.eventTextColor:function(){return e.eventTextColor}},eventNameFunction:function(){var e=this;return"function"===typeof this.eventName?this.eventName:function(t,n){var a=Object(Ae["j"])(t.input[e.eventName]);if(t.start.hasTime){if(n){var r=t.start.hour<12&&t.end.hour>=12,i=e.formatTime(t.start,r),s=e.formatTime(t.end,!0),o=Object(te["i"])(t.start,t.end)<=e.parsedEventOverlapThreshold,l=o?", ":"<br>";return"<strong>".concat(a,"</strong>").concat(l).concat(i," - ").concat(s)}var c=e.formatTime(t.start,!0);return"<strong>".concat(c,"</strong> ").concat(a)}return a}},eventModeFunction:function(){return"function"===typeof this.eventOverlapMode?this.eventOverlapMode:Ee[this.eventOverlapMode]}},methods:{formatTime:function(e,t){var n=this.getFormatter({timeZone:"UTC",hour:"numeric",minute:e.minute>0?"numeric":void 0});return n(e,!0)},updateEventVisibility:function(){if(!this.noEvents&&this.eventMore){var e=this.eventHeight,t=this.getEventsMap();for(var n in t){var a=t[n],r=a.parent,i=a.events,s=a.more;if(!s)break;for(var o=r.getBoundingClientRect(),l=i.length-1,c=!1,u=0,d=0;d<=l;d++){if(!c){var h=i[d].getBoundingClientRect();c=d===l?h.bottom>o.bottom:h.bottom+e>o.bottom}c&&(i[d].style.display="none",u++)}c?(s.style.display="",s.innerHTML=this.$vuetify.lang.t(this.eventMoreText,u)):s.style.display="none"}}},getEventsMap:function(){var e={},t=this.$refs.events;return t&&t.forEach?(t.forEach((function(t){var n=t.getAttribute("data-date");t.parentElement&&n&&(n in e||(e[n]={parent:t.parentElement,more:null,events:[]}),t.getAttribute("data-more")?e[n].more=t:(e[n].events.push(t),t.style.display=""))})),e):e},genDayEvent:function(e,t){for(var n=e.event,a=this.eventHeight,r=this.eventMarginBottom,i=Object(te["j"])(t),s=t.week,o=i===n.startIdentifier,l=i===n.endIdentifier,c=Ne,u=t.index+1;u<s.length;u++){var d=Object(te["j"])(s[u]);if(!(n.endIdentifier>=d)){l=!0;break}c+=Le,d===n.endIdentifier&&(l=!0)}var h={event:n.input,day:t,outside:t.outside,start:o,end:l,timed:!1};return this.genEvent(n,h,!1,{staticClass:"v-event",class:{"v-event-start":o,"v-event-end":l},style:{height:"".concat(a,"px"),width:"".concat(c,"%"),"margin-bottom":"".concat(r,"px")},attrs:{"data-date":t.date},key:n.index,ref:"events",refInFor:!0})},genTimedEvent:function(e,t){var n=e.event,a=e.left,r=e.width,i=Object(te["j"])(t),s=n.startIdentifier>=i,o=n.endIdentifier>i,l=s?t.timeToY(n.start):0,c=o?t.timeToY(We):t.timeToY(n.end),u=Math.max(this.eventHeight,c-l),d={event:n.input,day:t,outside:t.outside,start:s,end:o,timed:!0};return this.genEvent(n,d,!0,{staticClass:"v-event-timed",style:{top:"".concat(l,"px"),height:"".concat(u,"px"),left:"".concat(a,"%"),width:"".concat(r,"%")}})},genEvent:function(e,t,n,a){var r=this.$scopedSlots.event,s=this.eventTextColorFunction(e.input),o=this.eventColorFunction(e.input);return this.$createElement("div",this.setTextColor(s,this.setBackgroundColor(o,Object(i["a"])({on:this.getDefaultMouseEventHandlers(":event",(function(e){return Object(i["a"])({},t,{nativeEvent:e})})),directives:[{name:"ripple",value:null==this.eventRipple||this.eventRipple}]},a))),r?r(t):[this.genName(e,n)])},genName:function(e,t){return this.$createElement("div",{staticClass:"pl-1",domProps:{innerHTML:this.eventNameFunction(e,t)}})},genPlaceholder:function(e){var t=this.eventHeight+this.eventMarginBottom;return this.$createElement("div",{style:{height:"".concat(t,"px")},attrs:{"data-date":e.date},ref:"events",refInFor:!0})},genMore:function(e){var t=this,n=this.eventHeight,a=this.eventMarginBottom;return this.$createElement("div",{staticClass:"v-event-more pl-1",class:{"v-outside":e.outside},attrs:{"data-date":e.date,"data-more":1},directives:[{name:"ripple",value:null==this.eventRipple||this.eventRipple}],on:{click:function(){return t.$emit("click:more",e)}},style:{display:"none",height:"".concat(n,"px"),"margin-bottom":"".concat(a,"px")},ref:"events",refInFor:!0})},getVisibleEvents:function(){var e=Object(te["j"])(this.days[0]),t=Object(te["j"])(this.days[this.days.length-1]);return this.parsedEvents.filter((function(n){return He(n,e,t)}))},getEventsForDay:function(e){var t=Object(te["j"])(e),n=this.parsedWeekdays[0];return this.parsedEvents.filter((function(a){return Pe(a,e,t,n)}))},getEventsForDayAll:function(e){var t=Object(te["j"])(e),n=this.parsedWeekdays[0];return this.parsedEvents.filter((function(a){return a.allDay&&Pe(a,e,t,n)}))},getEventsForDayTimed:function(e){var t=Object(te["j"])(e);return this.parsedEvents.filter((function(e){return!e.allDay&&Be(e,t)}))},getScopedSlots:function(){var e=this;if(this.noEvents)return this.$scopedSlots;var t=this.eventModeFunction(this.parsedEvents,this.parsedWeekdays[0],this.parsedEventOverlapThreshold),n=function(n,a,r,i){var s=a(n);if(0!==s.length){var o=t(n,s,i);if(i)return o.map((function(e){return r(e,n)}));var l=[];return o.forEach((function(t,a){while(l.length<t.column)l.push(e.genPlaceholder(n));l.push(r(t,n))})),l}},a=this.$scopedSlots,r=a.day,s=a["day-header"],o=a["day-body"];return Object(i["a"])({},a,{day:function(t){var a=n(t,e.getEventsForDay,e.genDayEvent,!1);if(a&&a.length>0&&e.eventMore&&a.push(e.genMore(t)),r){var i=r(t);i&&(a=a?a.concat(i):i)}return a},"day-header":function(t){var a=n(t,e.getEventsForDayAll,e.genDayEvent,!1);if(s){var r=s(t);r&&(a=a?a.concat(r):r)}return a},"day-body":function(t){var a=n(t,e.getEventsForDayTimed,e.genTimedEvent,!0),r=[e.$createElement("div",{staticClass:"v-event-timed-container"},a)];if(o){var i=o(t);i&&(r=r.concat(i))}return r}})}}}),Ge=(n("4c72"),n("aff5"),n("2909")),ze=n("afdd"),Ye=Ve.extend({name:"v-calendar-weekly",props:$e.weeks,computed:{staticClass:function(){return"v-calendar-weekly"},classes:function(){return this.themeClasses},parsedMinWeeks:function(){return parseInt(this.minWeeks)},days:function(){var e=this.parsedMinWeeks*this.parsedWeekdays.length,t=this.getStartOfWeek(this.parsedStart),n=this.getEndOfWeek(this.parsedEnd);return Object(te["e"])(t,n,this.times.today,this.weekdaySkips,Number.MAX_SAFE_INTEGER,e)},todayWeek:function(){var e=this.times.today,t=this.getStartOfWeek(e),n=this.getEndOfWeek(e);return Object(te["e"])(t,n,e,this.weekdaySkips,this.parsedWeekdays.length,this.parsedWeekdays.length)},monthFormatter:function(){if(this.monthFormat)return this.monthFormat;var e={timeZone:"UTC",month:"long"},t={timeZone:"UTC",month:"short"};return Object(te["g"])(this.currentLocale,(function(n,a){return a?t:e}))}},methods:{isOutside:function(e){var t=Object(te["j"])(e);return t<Object(te["j"])(this.parsedStart)||t>Object(te["j"])(this.parsedEnd)},genHead:function(){return this.$createElement("div",{staticClass:"v-calendar-weekly__head"},this.genHeadDays())},genHeadDays:function(){return this.todayWeek.map(this.genHeadDay)},genHeadDay:function(e,t){var n=this.isOutside(this.days[t]),a=e.present?this.color:void 0;return this.$createElement("div",this.setTextColor(a,{key:e.date,staticClass:"v-calendar-weekly__head-weekday",class:this.getRelativeClasses(e,n)}),this.weekdayFormatter(e,this.shortWeekdays))},genWeeks:function(){for(var e=this.days,t=this.parsedWeekdays.length,n=[],a=0;a<e.length;a+=t)n.push(this.genWeek(e.slice(a,a+t)));return n},genWeek:function(e){var t=this;return this.$createElement("div",{key:e[0].date,staticClass:"v-calendar-weekly__week"},e.map((function(n,a){return t.genDay(n,a,e)})))},genDay:function(e,t,n){var a=this.isOutside(e);return this.$createElement("div",{key:e.date,staticClass:"v-calendar-weekly__day",class:this.getRelativeClasses(e,a),on:this.getDefaultMouseEventHandlers(":day",(function(t){return e}))},[this.genDayLabel(e)].concat(Object(Ge["a"])(Object(Ae["n"])(this,"day",(function(){return Object(i["a"])({outside:a,index:t,week:n},e)}))||[])))},genDayLabel:function(e){return this.$createElement("div",{staticClass:"v-calendar-weekly__day-label"},Object(Ae["n"])(this,"day-label",e)||[this.genDayLabelButton(e)])},genDayLabelButton:function(e){var t=e.present?this.color:"transparent",n=1===e.day&&this.showMonthOnFirst;return this.$createElement(ze["a"],{props:{color:t,fab:!0,depressed:!0,small:!0},on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(function(t){return e}))},n?this.monthFormatter(e,this.shortMonths)+" "+this.dayFormatter(e,!1):this.dayFormatter(e,!1))},genDayMonth:function(e){var t=e.present?this.color:void 0;return this.$createElement("div",this.setTextColor(t,{staticClass:"v-calendar-weekly__day-month"}),Object(Ae["n"])(this,"day-month",e)||this.monthFormatter(e,this.shortMonths))}},render:function(e){return e("div",{staticClass:this.staticClass,class:this.classes,nativeOn:{dragstart:function(e){e.preventDefault()}}},[this.hideHeader?"":this.genHead()].concat(Object(Ge["a"])(this.genWeeks())))}}),Ue=Ye.extend({name:"v-calendar-monthly",computed:{staticClass:function(){return"v-calendar-monthly v-calendar-weekly"},parsedStart:function(){return Object(te["m"])(Object(te["t"])(this.start,!0))},parsedEnd:function(){return Object(te["k"])(Object(te["t"])(this.end,!0))}}}),Ze=(n("fcf4"),Ve.extend({name:"calendar-with-intervals",props:$e.intervals,computed:{parsedFirstInterval:function(){return parseInt(this.firstInterval)},parsedIntervalMinutes:function(){return parseInt(this.intervalMinutes)},parsedIntervalCount:function(){return parseInt(this.intervalCount)},parsedIntervalHeight:function(){return parseFloat(this.intervalHeight)},firstMinute:function(){return this.parsedFirstInterval*this.parsedIntervalMinutes},bodyHeight:function(){return this.parsedIntervalCount*this.parsedIntervalHeight},days:function(){return Object(te["e"])(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips,this.maxDays)},intervals:function(){var e=this.days,t=this.parsedFirstInterval,n=this.parsedIntervalMinutes,a=this.parsedIntervalCount,r=this.times.now;return e.map((function(e){return Object(te["f"])(e,t,n,a,r)}))},intervalFormatter:function(){if(this.intervalFormat)return this.intervalFormat;var e={timeZone:"UTC",hour:"2-digit",minute:"2-digit"},t={timeZone:"UTC",hour:"numeric",minute:"2-digit"},n={timeZone:"UTC",hour:"numeric"};return Object(te["g"])(this.currentLocale,(function(a,r){return r?0===a.minute?n:t:e}))}},methods:{showIntervalLabelDefault:function(e){var t=this.intervals[0][0],n=t.hour===e.hour&&t.minute===e.minute;return!n},intervalStyleDefault:function(e){},getTimestampAtEvent:function(e,t){var n=Object(te["d"])(t),a=e.currentTarget.getBoundingClientRect(),r=this.firstMinute,i=e,s=e,o=i.changedTouches||i.touches,l=o&&o[0]?o[0].clientY:s.clientY,c=(l-a.top)/this.parsedIntervalHeight,u=Math.floor(c*this.parsedIntervalMinutes),d=r+u;return Object(te["x"])(n,d,this.times.now)},getSlotScope:function(e){var t=Object(te["d"])(e);return t.timeToY=this.timeToY,t.minutesToPixels=this.minutesToPixels,t.week=this.days,t},scrollToTime:function(e){var t=this.timeToY(e),n=this.$refs.scrollArea;return!(!1===t||!n)&&(n.scrollTop=t,!0)},minutesToPixels:function(e){return e/this.parsedIntervalMinutes*this.parsedIntervalHeight},timeToY:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(te["s"])(e);if(!1===n)return!1;var a=this.firstMinute,r=this.parsedIntervalCount*this.parsedIntervalMinutes,i=(n-a)/r,s=i*this.bodyHeight;return t&&(s<0&&(s=0),s>this.bodyHeight&&(s=this.bodyHeight)),s}}})),qe=Ze.extend({name:"v-calendar-daily",directives:{Resize:ae["a"]},data:function(){return{scrollPush:0}},computed:{classes:function(){return Object(i["a"])({"v-calendar-daily":!0},this.themeClasses)}},mounted:function(){this.init()},methods:{init:function(){this.$nextTick(this.onResize)},onResize:function(){this.scrollPush=this.getScrollPush()},getScrollPush:function(){var e=this.$refs.scrollArea,t=this.$refs.pane;return e&&t?e.offsetWidth-t.offsetWidth:0},genHead:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__head",style:{marginRight:this.scrollPush+"px"}},[this.genHeadIntervals()].concat(Object(Ge["a"])(this.genHeadDays())))},genHeadIntervals:function(){var e=Object(Ae["f"])(this.intervalWidth);return this.$createElement("div",{staticClass:"v-calendar-daily__intervals-head",style:{width:e}},Object(Ae["n"])(this,"interval-header"))},genHeadDays:function(){return this.days.map(this.genHeadDay)},genHeadDay:function(e,t){var n=this,a=Object(Ae["n"])(this,"day-header",(function(){return Object(i["a"])({week:n.days},e,{index:t})}));return this.$createElement("div",{key:e.date,staticClass:"v-calendar-daily_head-day",class:this.getRelativeClasses(e),on:this.getDefaultMouseEventHandlers(":day",(function(t){return n.getSlotScope(e)}))},[this.genHeadWeekday(e),this.genHeadDayLabel(e)].concat(Object(Ge["a"])(a||[])))},genHeadWeekday:function(e){var t=e.present?this.color:void 0;return this.$createElement("div",this.setTextColor(t,{staticClass:"v-calendar-daily_head-weekday"}),this.weekdayFormatter(e,this.shortWeekdays))},genHeadDayLabel:function(e){return this.$createElement("div",{staticClass:"v-calendar-daily_head-day-label"},[this.genHeadDayButton(e)])},genHeadDayButton:function(e){var t=e.present?this.color:"transparent";return this.$createElement(ze["a"],{props:{color:t,fab:!0,depressed:!0},on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(function(t){return e}))},this.dayFormatter(e,!1))},genBody:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__body"},[this.genScrollArea()])},genScrollArea:function(){return this.$createElement("div",{ref:"scrollArea",staticClass:"v-calendar-daily__scroll-area"},[this.genPane()])},genPane:function(){return this.$createElement("div",{ref:"pane",staticClass:"v-calendar-daily__pane",style:{height:Object(Ae["f"])(this.bodyHeight)}},[this.genDayContainer()])},genDayContainer:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__day-container"},[this.genBodyIntervals()].concat(Object(Ge["a"])(this.genDays())))},genDays:function(){return this.days.map(this.genDay)},genDay:function(e,t){var n=this;return this.$createElement("div",{key:e.date,staticClass:"v-calendar-daily__day",class:this.getRelativeClasses(e),on:this.getDefaultMouseEventHandlers(":time",(function(t){return n.getSlotScope(n.getTimestampAtEvent(t,e))}))},[].concat(Object(Ge["a"])(this.genDayIntervals(t)),Object(Ge["a"])(Object(Ae["n"])(this,"day-body",(function(){return n.getSlotScope(e)}))||[])))},genDayIntervals:function(e){return this.intervals[e].map(this.genDayInterval)},genDayInterval:function(e){var t=this,n=Object(Ae["f"])(this.intervalHeight),a=this.intervalStyle||this.intervalStyleDefault,r={key:e.time,staticClass:"v-calendar-daily__day-interval",style:Object(i["a"])({height:n},a(e))},s=Object(Ae["n"])(this,"interval",(function(){return t.getSlotScope(e)}));return this.$createElement("div",r,s)},genBodyIntervals:function(){var e=this,t=Object(Ae["f"])(this.intervalWidth),n={staticClass:"v-calendar-daily__intervals-body",style:{width:t},on:this.getDefaultMouseEventHandlers(":interval",(function(t){return e.getTimestampAtEvent(t,e.parsedStart)}))};return this.$createElement("div",n,this.genIntervalLabels())},genIntervalLabels:function(){return this.intervals.length?this.intervals[0].map(this.genIntervalLabel):null},genIntervalLabel:function(e){var t=Object(Ae["f"])(this.intervalHeight),n=this.shortIntervals,a=this.showIntervalLabel||this.showIntervalLabelDefault,r=a(e),i=r?this.intervalFormatter(e,n):void 0;return this.$createElement("div",{key:e.time,staticClass:"v-calendar-daily__interval",style:{height:t}},[this.$createElement("div",{staticClass:"v-calendar-daily__interval-text"},i)])}},render:function(e){return e("div",{class:this.classes,nativeOn:{dragstart:function(e){e.preventDefault()}},directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}]},[this.hideHeader?"":this.genHead(),this.genBody()])}}),Qe=Je.extend({name:"v-calendar",props:Object(i["a"])({},$e.calendar,{},$e.weeks,{},$e.intervals),data:function(){return{lastStart:null,lastEnd:null}},computed:{parsedValue:function(){return Object(te["A"])(this.value)?Object(te["t"])(this.value,!0):this.parsedStart||this.times.today},renderProps:function(){var e=this.parsedValue,t=null,n=this.maxDays,a=e,r=e;switch(this.type){case"month":t=Ue,a=Object(te["m"])(e),r=Object(te["k"])(e);break;case"week":t=qe,a=this.getStartOfWeek(e),r=this.getEndOfWeek(e),n=7;break;case"day":t=qe,n=1;break;case"4day":t=qe,r=Object(te["v"])(Object(te["d"])(r),te["q"],4),Object(te["w"])(r),n=4;break;case"custom-weekly":t=Ye,a=this.parsedStart||e,r=this.parsedEnd;break;case"custom-daily":t=qe,a=this.parsedStart||e,r=this.parsedEnd;break;default:throw new Error(this.type+" is not a valid Calendar type")}return{component:t,start:a,end:r,maxDays:n}}},watch:{renderProps:"checkChange"},mounted:function(){this.updateEventVisibility(),this.checkChange()},updated:function(){window.requestAnimationFrame(this.updateEventVisibility)},methods:{checkChange:function(){var e=this.lastStart,t=this.lastEnd,n=this.renderProps,a=n.start,r=n.end;e&&t&&a.date===e.date&&r.date===t.date||(this.lastStart=a,this.lastEnd=r,this.$emit("change",{start:a,end:r}))},move:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(te["d"])(this.parsedValue),n=e>0,a=n?te["q"]:te["u"],r=n?te["a"]:te["c"],i=n?e:-e;while(--i>=0)switch(this.type){case"month":t.day=r,a(t);break;case"week":Object(te["v"])(t,a,te["b"]);break;case"day":var s=t.weekday,o=n?this.weekdaySkips[s]:this.weekdaySkipsReverse[s];Object(te["v"])(t,a,o);break;case"4day":Object(te["v"])(t,a,4);break}Object(te["z"])(t),Object(te["w"])(t),Object(te["y"])(t,this.times.now),this.$emit("input",t.date),this.$emit("moved",t)},next:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move(e)},prev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move(-e)},timeToY:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.$children[0];return!(!n||!n.timeToY)&&n.timeToY(e,t)},minutesToPixels:function(e){var t=this.$children[0];return t&&t.minutesToPixels?t.minutesToPixels(e):-1},scrollToTime:function(e){var t=this.$children[0];return!(!t||!t.scrollToTime)&&t.scrollToTime(e)}},render:function(e){var t=this,n=this.renderProps,a=n.start,r=n.end,s=n.maxDays,o=n.component;return e(o,{staticClass:"v-calendar",class:{"v-calendar-events":!this.noEvents},props:Object(i["a"])({},this.$props,{start:a.date,end:r.date,maxDays:s}),directives:[{modifiers:{quiet:!0},name:"resize",value:this.updateEventVisibility}],on:Object(i["a"])({},this.$listeners,{"click:date":function(e){t.$listeners["input"]&&t.$emit("input",e.date),t.$listeners["click:date"]&&t.$emit("click:date",e)}}),scopedSlots:this.getScopedSlots()})}}),Ke=n("62ad"),Xe=n("0fd9"),et=Object(D["a"])(z,L,N,!1,null,null,null),tt=et.exports;E()(et,{VBtn:Y["a"],VCalendar:Qe,VCol:Ke["a"],VRow:Xe["a"]});var nt=[0,1,2,3,4,5,6];function at(e){var t=e.getDay();return nt.map((function(e){return(t+e)%7}))}var rt=p["a"].extend({props:{sejour:Object,preferences:Object,mode:String,activeJourOffset:Number}}),it=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.hoverDay="",e.dayHeight="35vh",e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"dayTitle",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"})}},{key:"currentDay",get:function(){return null==this.sejour||null==this.activeJourOffset?null:k(v["a"].offsetToDate(this.sejour.id,this.activeJourOffset))}},{key:"startDate",get:function(){return null==this.sejour?new Date:new Date(this.sejour.date_debut)}},{key:"weekdays",get:function(){return this.preferences.startPremierJour?at(this.startDate):[1,2,3,4,5,6,0]}},{key:"startWeek1",get:function(){return k(this.startDate)}},{key:"startWeek2",get:function(){var e=this.startDate;return e.setDate(this.startDate.getDate()+7),k(e)}},{key:"events",get:function(){var e=this.sejour;if(null==e)return{};var t={};v["a"].iterateAllRepas((function(n,a){if(a.id_sejour==e.id){var r=k(v["a"].offsetToDate(e.id,a.jour_offset)),i=t[r]||[];i.push(a),t[r]=i}}));var n=O["a"].map((function(e){return e.value}));for(var a in t){var r=t[a];t[a]=r.sort((function(e,t){var a=n.indexOf(e.horaire)-n.indexOf(t.horaire);return 0==a?e.id-t.id:a}))}return t}}]),t}(rt);it=Object(h["a"])([Object(f["b"])({components:{TooltipBtn:H["a"],ListeRepas:P,Week:tt}})],it);var st=it,ot=st,lt=Object(D["a"])(ot,g,b,!1,null,null,null),ct=lt.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.showPrevisuIngredients,callback:function(t){e.showPrevisuIngredients=t},expression:"showPrevisuIngredients"}},[n("v-skeleton-loader",{attrs:{type:"card",loading:e.loadingIngredients}},[n("v-card",{staticClass:"py-2"},[n("v-card-title",{attrs:{"primary-title":""}},[n("h3",{staticClass:"headline mb-0"},[e._v(" Ingrédients pour "+e._s(e.repasNbPersonnes)+" personne"+e._s(e.repasNbPersonnes>1?"s":"")+" ")])]),n("div",{attrs:{height:"50vh"}},[n("liste-ingredients",{attrs:{ingredients:e.listeIngredients}})],1)],1)],1)],1),n("v-toolbar",{attrs:{dense:""}},[e.day?n("v-toolbar-title",[e._v(" Repas du "+e._s(e.day.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"short"})))]):e._e()],1),n("div",{staticClass:"overflow-y-auto",style:{height:e.height}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.horaires,(function(t,a){return n("div",{key:t.value},[a>0?n("v-divider"):e._e(),n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[n("v-subheader",{style:{color:e.getHoraireColor(t.value)},on:{dragover:function(t){return e.onDragoverHoraireHeader(t)},drop:function(n){return e.onDropHoraireHeader(n,t.value)}}},[e._v(" "+e._s(t.text)+" "),n("v-spacer"),r?n("tooltip-btn",{attrs:{"mdi-icon":"plus",color:"green",tooltip:"Ajouter un repas..."},on:{click:function(n){return e.$emit("addRepas",t.value)}}}):e._e()],1)]}}],null,!0)}),e._l(e.events[t.value],(function(t){return[n("v-hover",{key:t.id,scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[n("v-list-item",{on:{dragover:function(t){return e.onDragoverRepas(t)},drop:function(n){return e.onDropRepas(n,t)},click:function(n){return e.$emit("editRepas",t)}}},[n("v-list-item-content",[n("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"px-1 align-self-center overflow-x-auto"},[e._l(e.getGroupes(t),(function(a){return n("v-chip",{key:a.id,staticClass:"mr-1 px-1 align-self-center",style:{borderWidth:" 1.5px"},attrs:{label:"",color:a.couleur,small:"",outlined:"",draggable:""},on:{dragstart:function(n){return e.onDragStart(n,t,a)}}},[e._v(" "+e._s(a.nom)+" ")])})),0==e.getGroupes(t).length?n("small",{staticClass:"font-italic mr-1"},[e._v("Aucun groupe. ")]):e._e(),0!=t.offset_personnes?n("v-chip",{staticClass:"mr-1 px-1 align-self-center",style:{borderWidth:" 1.5px"},attrs:{label:"",small:"",outlined:""}},[e._v(" "+e._s(e.formatNbOffset(t))+" ")]):e._e()],2)],1)],1),n("v-list-item-action",{staticClass:"my-1"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[r?n("tooltip-btn",{attrs:{"mdi-icon":"food-variant",small:"",tooltip:"Calculer les <b>ingrédients</b> nécessaires au repas..."},on:{click:function(n){return n.stopPropagation(),e.resoudIngredients(t)}}}):e._e()],1),n("v-col",[r?n("tooltip-btn",{attrs:{"mdi-icon":"close",color:"red",small:"",tooltip:"Supprimer ce repas..."},on:{click:function(n){return n.stopPropagation(),e.deleteRepas(t)}}}):e._e()],1)],1)],1)],1)]}}],null,!0)})]}))],2)})),0)],1)],1)],1)},dt=[],ht=n("b7ef"),ft=p["a"].extend({props:{jourOffset:Number,height:String}}),pt=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.showPrevisuIngredients=!1,e.loadingIngredients=!0,e.listeIngredients=[],e.repasNbPersonnes=0,e.formatNbOffset=w,e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"getHoraireColor",value:function(e){return x["a"][e]}},{key:"getGroupes",value:function(e){var t=v["a"].getRepasGroupes(e),n=8;return t.map((function(e){var t=Object(m["b"])(e);return t.nom=t.nom.substr(0,n)+(t.nom.length<=n?"":"."),e}))}},{key:"onDragStart",value:function(e,t,n){if(null!=e&&null!=e.dataTransfer){var a={repas:t,idGroupe:n.id};e.dataTransfer.setData("groupe",JSON.stringify(a)),e.dataTransfer.effectAllowed="copyMove"}}},{key:"onDragoverHoraireHeader",value:function(e){e.dataTransfer&&e.dataTransfer.types.includes("groupe")&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")}},{key:"onDropHoraireHeader",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataTransfer&&null!=this.jourOffset){e.next=2;break}return e.abrupt("return");case 2:return t.preventDefault(),a=JSON.parse(t.dataTransfer.getData("groupe")),e.next=6,v["a"].data.createRepas({id_sejour:v["a"].state.idSejour,id_menu:m["a"],offset_personnes:0,horaire:n,jour_offset:this.jourOffset,groupes:[{id_groupe:a.idGroupe,id_repas:-1}]});case 6:if(null==v["a"].notifications.getError()){e.next=8;break}return e.abrupt("return");case 8:return a.repas.groupes=(a.repas.groupes||[]).filter((function(e){return e.id_groupe!=a.idGroupe})),e.next=11,v["a"].data.updateManyRepas([a.repas]);case 11:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage("Nouveau repas ajouté.");case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"onDragoverRepas",value:function(e){e.dataTransfer&&e.dataTransfer.types.includes("groupe")&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},{key:"onDropRepas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataTransfer&&null!=this.jourOffset){e.next=2;break}return e.abrupt("return");case 2:if(a=JSON.parse(t.dataTransfer.getData("groupe")),n.id!=a.repas.id){e.next=5;break}return e.abrupt("return");case 5:return t.preventDefault(),a.repas.groupes=(a.repas.groupes||[]).filter((function(e){return e.id_groupe!=a.idGroupe})),n=Object(m["b"])(n),n.groupes=(n.groupes||[]).concat({id_repas:n.id,id_groupe:a.idGroupe}),e.next=11,v["a"].data.updateManyRepas([a.repas,n]);case 11:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage("Groupe déplacé avec succès.");case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deleteRepas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v["a"].data.deleteRepas(t);case 2:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage("Repas supprimé avec succès.");case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resoudIngredients",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingIngredients=!0,this.showPrevisuIngredients=!0,e.next=4,v["a"].calculs.resoudIngredientsRepas(t.id);case 4:if(n=e.sent,void 0!=n&&null!=n.date_ingredients){e.next=7;break}return e.abrupt("return");case 7:this.repasNbPersonnes=v["a"].getRepasNbPersonnes(t),this.listeIngredients=n.date_ingredients[0].ingredients||[],this.loadingIngredients=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"day",get:function(){return null==this.jourOffset?null:v["a"].offsetToDate(v["a"].state.idSejour,this.jourOffset)}},{key:"dayString",get:function(){var e=this.day;return e?k(e):""}},{key:"horaires",get:function(){return O["a"]}},{key:"events",get:function(){var e=this,t={};for(var n in v["a"].iterateAllRepas((function(n,a){if(n.id==v["a"].state.idSejour&&e.jourOffset==a.jour_offset){var r=t[a.horaire]||[];r.push(a),t[a.horaire]=r}})),t){var a=t[n];t[n]=a.sort((function(e,t){return e.id<t.id?-1:1}))}return t}}]),t}(ft);pt=Object(h["a"])([Object(f["b"])({components:{TooltipBtn:H["a"],ListeIngredients:ht["a"]}})],pt);var vt=pt,mt=vt,gt=n("b0af"),bt=n("99d9"),yt=n("169a"),jt=n("ce7e"),xt=n("16b7"),Ot=n("f2e7"),kt=n("d9bd"),wt=Object(Z["a"])(xt["a"],Ot["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(kt["c"])("v-hover should only contain a single element",this),e)):(Object(kt["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}}),St=n("1800"),It=n("3129"),_t=n("2fa4"),Ct=n("e0c7"),Dt=n("71d9"),Tt=n("2a7f"),Et=Object(D["a"])(mt,ut,dt,!1,null,null,null),$t=Et.exports;E()(Et,{VCard:gt["a"],VCardTitle:bt["d"],VChip:$["a"],VCol:Ke["a"],VDialog:yt["a"],VDivider:jt["a"],VHover:wt,VList:R["a"],VListItem:M["a"],VListItemAction:St["a"],VListItemContent:V["a"],VListItemGroup:A["a"],VRow:Xe["a"],VSkeletonLoader:It["a"],VSpacer:_t["a"],VSubheader:Ct["a"],VToolbar:Dt["a"],VToolbarTitle:Tt["b"]});var Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("toolbar",{attrs:{title:"Menus disponibles",showAdd:!1},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-list",{staticClass:"overflow-y-auto",style:{height:e.height},attrs:{dense:""}},[n("v-list-item-group",e._l(e.menus,(function(t){return n("v-list-item",{key:t.id,attrs:{value:t,inactive:!1}},[n("v-list-item-content",{attrs:{draggable:""},on:{dragstart:function(n){return e.onDrag(n,t)}}},[n("v-list-item-title",[e._v(e._s(e.formatMenuName(t)))]),n("v-list-item-subtitle",[n("i",[e._v(e._s(e.formatMenuProprietaire(t)))])])],1)],1)})),1)],1)],1)},Mt=[],Vt=(n("841c"),n("fa46")),At=p["a"].extend({props:{height:String}}),Ft=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.search="",e.formatMenuName=v["a"].formatter.formatMenuName,e.formatMenuProprietaire=v["a"].formatter.formatMenuOrRecetteProprietaire,e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"onDrag",value:function(e,t){null!=e&&null!=e.dataTransfer&&(e.dataTransfer.setData("menu",JSON.stringify(t)),e.dataTransfer.effectAllowed="link")}},{key:"menus",get:function(){return v["a"].searchMenu(this.search)}}]),t}(At);Ft=Object(h["a"])([Object(f["b"])({components:{Toolbar:Vt["a"]}})],Ft);var Bt=Ft,Pt=Bt,Ht=Object(D["a"])(Pt,Rt,Mt,!1,null,"26752056",null),Lt=Ht.exports;E()(Ht,{VList:R["a"],VListItem:M["a"],VListItemContent:V["a"],VListItemGroup:A["a"],VListItemSubtitle:V["b"],VListItemTitle:V["c"]});var Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toolbar-switch"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({staticClass:"mx-1",staticStyle:{height:"100%"}},a),[n("v-switch",{attrs:{label:e.label,"hide-details":"",value:e.value},on:{change:function(t){return e.$emit("input",!!t)}}})],1)]}}])},[n("span",{domProps:{innerHTML:e._s(e.tooltip)}})])],1)},Wt=[],Jt=p["a"].extend({props:{tooltipOn:String,tooltipOff:String,value:Boolean,label:String},model:{prop:"value",event:"input"}}),Gt=function(e){function t(){return Object(o["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"tooltip",get:function(){return this.value?this.tooltipOn:this.tooltipOff?this.tooltipOff:this.tooltipOn}}]),t}(Jt);Gt=Object(h["a"])([f["b"]],Gt);var zt=Gt,Yt=zt,Ut=(n("a890"),n("b73d")),Zt=n("3a2f"),qt=Object(D["a"])(Yt,Nt,Wt,!1,null,null,null),Qt=qt.exports;E()(qt,{VSwitch:Ut["a"],VTooltip:Zt["a"]});var Kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[e._v(" Préférences ")]),n("v-card-text",[n("v-switch",{attrs:{label:"Afficher le premier jour en tête de semaine","persistent-hint":"",hint:"Le premier jour affiché est ajusté, au lieu d'être Lundi."},on:{change:e.onChange},model:{value:e.current.startPremierJour,callback:function(t){e.$set(e.current,"startPremierJour",t)},expression:"current.startPremierJour"}})],1)],1)},Xt=[],en=p["a"].extend({model:{prop:"preferences",event:"change"},props:{preferences:Object}}),tn=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.current=Object(m["b"])(e.preferences),e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"onChange",value:function(){this.$emit("change",this.current)}}]),t}(en);tn=Object(h["a"])([Object(f["b"])({})],tn);var nn=tn,an=nn,rn=Object(D["a"])(an,Kt,Xt,!1,null,null,null),sn=rn.exports;E()(rn,{VCard:gt["a"],VCardText:bt["c"],VCardTitle:bt["d"],VSwitch:Ut["a"]});var on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[e._v(" "+e._s("new"==e.mode?"Détails du nouveau repas":"Détails du repas")+" "),n("v-spacer"),n("div",[e.sejour?n("small",[e._v("Sejour : "+e._s(e.sejour.nom)+" ")]):e._e()])],1),n("v-card-text",[n("v-form",[n("v-select",{attrs:{items:e.groupes,label:"Groupes",chips:"",multiple:""},model:{value:e.repas.groupes,callback:function(t){e.$set(e.repas,"groupes",t)},expression:"repas.groupes"}}),n("v-text-field",{attrs:{label:"Nombre additionnel de personnes ",type:"number",hint:"S'ajoute aux groupes. Peut être négatif."},model:{value:e.repas.offset_personnes,callback:function(t){e.$set(e.repas,"offset_personnes",e._n(t))},expression:"repas.offset_personnes"}}),n("v-autocomplete",{attrs:{label:"Menu",items:e.menus},model:{value:e.idMenu,callback:function(t){e.idMenu=t},expression:"idMenu"}}),n("horaire-field",{model:{value:e.repas.horaire,callback:function(t){e.$set(e.repas,"horaire",t)},expression:"repas.horaire"}})],1)],1),n("v-card-actions",["edit"==e.mode?n("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.$emit("delete",e.repas)}}},[e._v("Supprimer")]):e._e(),n("v-spacer"),n("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.$emit("accept",e.repas)}}},[e._v(e._s("edit"==e.mode?"Enregistrer":"Ajouter"))])],1)],1)],1)},ln=[],cn=(n("07ac"),n("2a3c")),un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{attrs:{disabled:e.disabled,items:e.horaires,value:e.horaire,label:e.label},on:{change:function(t){return e.$emit("change",t)}},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[n("div",{style:{color:a.color}},[e._v(e._s(a.text))])]}}])})},dn=[],hn=p["a"].extend({props:{horaire:String,label:{type:String,default:"Horaire"},disabled:{type:Boolean,default:!1}},model:{prop:"horaire",event:"change"}}),fn=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.horaires=O["a"].map((function(e){return Object(i["a"])({},e,{color:x["a"][e.value]})})),e}return Object(d["a"])(t,e),t}(hn);fn=Object(h["a"])([Object(f["b"])({})],fn);var pn=fn,vn=pn,mn=n("b974"),gn=Object(D["a"])(vn,un,dn,!1,null,"3cc94311",null),bn=gn.exports;E()(gn,{VSelect:mn["a"]});var yn=n("60a3"),jn=p["a"].extend({props:{initialRepas:Object,mode:String}}),xn=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.repas=Object(m["b"])(e.initialRepas),e.horaires=O["a"],e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"onPropChange",value:function(){this.repas=Object(m["b"])(this.initialRepas)}},{key:"idMenu",get:function(){return this.repas.id_menu.Valid?this.repas.id_menu.Int64:-1},set:function(e){this.repas.id_menu=Object(m["c"])(e)}},{key:"sejour",get:function(){return(v["a"].data.sejours.sejours||{})[this.initialRepas.id_sejour]}},{key:"menus",get:function(){return Object.values(v["a"].data.menus).map((function(e){return{text:v["a"].formatter.formatMenuName(e),value:e.id}}))}},{key:"groupes",get:function(){var e=this;return v["a"].state.getGroupes().map((function(t){var n={id_repas:e.initialRepas.id,id_groupe:t.id};return{text:t.nom,value:n}}))}}]),t}(jn);Object(h["a"])([Object(yn["a"])("initialRepas")],xn.prototype,"onPropChange",null),xn=Object(h["a"])([Object(f["b"])({components:{DateField:cn["a"],HoraireField:bn,TooltipBtn:H["a"]}})],xn);var On=xn,kn=On,wn=(n("7db0"),n("45fc"),n("498a"),n("2bfd"),n("8654")),Sn=n("d9f7"),In=Object(i["a"])({},mn["b"],{offsetY:!0,offsetOverflow:!0,transition:!1}),_n=mn["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(e,t,n){return n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:mn["a"].options.props.menuProps.type,default:function(){return In}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(i["a"])({},mn["a"].options.computed.classes.call(this),{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},hasDisplayedItems:function(){var e=this;return this.hideSelected?this.filteredItems.some((function(t){return!e.hasItem(t)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var e=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(t){return e.filter(t,String(e.internalSearch),String(e.getText(t)))}))},internalSearch:{get:function(){return this.lazySearch},set:function(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var e=mn["a"].options.computed.$_menuProps.call(this);return e.contentClass="v-autocomplete__content ".concat(e.contentClass||"").trim(),Object(i["a"])({},In,{},e)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var e=this;return this.multiple?null:this.selectedItems.find((function(t){return e.valueComparator(e.getValue(t),e.getValue(e.internalValue))}))},listData:function(){var e=mn["a"].options.computed.listData.call(this);return e.props=Object(i["a"])({},e.props,{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(e){!e&&this.hasSlot&&(this.lazySearch=void 0)},items:function(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput:function(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},methods:{onFilteredItemsChanged:function(e,t){var n=this;e!==t&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===e.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(e){this.searchIsDirty||(this.multiple&&e===Ae["r"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===Ae["r"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==Ae["r"].backspace&&e!==Ae["r"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){if(!this.readonly){var e=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===e){var t=this.selectedItems[this.selectedIndex];if(!this.getDisabled(t)){var n=this.selectedIndex===e?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;-1===n?this.setValue(this.multiple?[]:void 0):this.selectItem(t),this.selectedIndex=n}}else this.selectedIndex=e}},clearableCallback:function(){this.internalSearch=void 0,mn["a"].options.methods.clearableCallback.call(this)},genInput:function(){var e=wn["a"].options.methods.genInput.call(this);return e.data=Object(Sn["a"])(e.data,{attrs:{"aria-activedescendant":Object(Ae["l"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(Ae["l"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot:function(){var e=mn["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections:function(){return this.hasSlot||this.multiple?mn["a"].options.methods.genSelections.call(this):[]},onClick:function(e){this.isDisabled||(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput:function(e){if(!(this.selectedIndex>-1)&&e.target){var t=e.target,n=t.value;t.value&&this.activateMenu(),this.internalSearch=n,this.badInput=t.validity&&t.validity.badInput}},onKeyDown:function(e){var t=e.keyCode;mn["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown:function(e){},onTabDown:function(e){mn["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown:function(e){e.preventDefault(),this.activateMenu()},selectItem:function(e){mn["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems:function(){mn["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var e=this;this.$nextTick((function(){e.multiple&&e.internalSearch&&e.isMenuActive||(e.internalSearch=!e.selectedItems.length||e.multiple||e.hasSlot?null:e.getText(e.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy:function(e){if(-1!==this.selectedIndex){var t=this.selectedItems[this.selectedIndex],n=this.getText(t);e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),e.preventDefault()}}}}),Cn=n("4bd4"),Dn=Object(D["a"])(kn,on,ln,!1,null,null,null),Tn=Dn.exports;E()(Dn,{VAutocomplete:_n,VBtn:Y["a"],VCard:gt["a"],VCardActions:bt["a"],VCardText:bt["c"],VCardTitle:bt["d"],VForm:Cn["a"],VSelect:mn["a"],VSpacer:_t["a"],VTextField:wn["a"]});var En=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.showPreferences=!1,e.preferences={startPremierJour:!0},e.showEditFormRepas=!1,e.editMode="new",e.editedRepas={id:-1,id_sejour:-1,horaire:"",id_menu:m["a"],offset_personnes:0,jour_offset:0,groupes:[]},e.calendarMode="groupes",e.activeJourOffset=null,e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v["a"].data.loadAllMenus();case 2:return e.next=4,v["a"].data.loadSejours();case 4:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage("L'agenda a bien été chargé.");case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeDay",value:function(e){if(null==v["a"].state.idSejour)this.activeJourOffset=null;else{var t=new Date(e);this.activeJourOffset=v["a"].dateToOffset(v["a"].state.idSejour,t)}}},{key:"startAddRepasFromDate",value:function(e){if(null!=v["a"].state.idSejour){var t=v["a"].dateToOffset(v["a"].state.idSejour,new Date(e));this.startAddRepas(t,"")}}},{key:"startAddRepasFromHoraire",value:function(e){null!=this.activeJourOffset&&this.startAddRepas(this.activeJourOffset,e)}},{key:"startAddRepas",value:function(e,t){var n=this.sejour;null!=n&&(this.editedRepas={horaire:t,jour_offset:e,offset_personnes:0,id_menu:m["a"],id_sejour:n.id,id:-1,groupes:[]},this.editMode="new",this.showEditFormRepas=!0)}},{key:"startEditRepas",value:function(e){this.editedRepas=e,this.editMode="edit",this.showEditFormRepas=!0}},{key:"onEditRepasDone",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.showEditFormRepas=!1,null!=this.sejour){e.next=3;break}return e.abrupt("return");case 3:if(n="","new"!=this.editMode){e.next=11;break}return a=Object(i["a"])({},t,{id_sejour:this.sejour.id}),e.next=8,v["a"].data.createRepas(a);case 8:n="Le repas a bien été ajouté.",e.next=15;break;case 11:return r=Object(i["a"])({},t,{id_sejour:this.editedRepas.id_sejour,id:this.editedRepas.id}),e.next=14,v["a"].data.updateManyRepas([r]);case 14:n="Le repas a bien été mis à jour.";case 15:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage(n);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteRepas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showEditFormRepas=!1,e.next=3,v["a"].data.deleteRepas(t);case 3:null==v["a"].notifications.getError()&&v["a"].notifications.setMessage("Le repas a été retiré avec succès.");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sejour",get:function(){return v["a"].state.getSejour()}},{key:"calendarModeGroupe",get:function(){return"menus"==this.calendarMode},set:function(e){this.calendarMode=e?"menus":"groupes"}}]),t}(p["a"]);En=Object(h["a"])([Object(f["b"])({components:{Calendar:ct,TooltipBtn:H["a"],FormPreferences:sn,ToolbarSwitch:Qt,Day:$t,ChoixMenus:Lt,FormRepas:Tn}})],En);var $n=En,Rn=$n,Mn=(n("0c18"),n("10d2")),Vn=n("9d26"),An=p["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),Fn=Object(Z["a"])(Mn["a"],Ot["a"],An).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(K["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(ze["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(Vn["a"],{props:{color:t}},"$cancel")])},__cachedIcon:function(){return this.computedIcon?this.$createElement(Vn["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(i["a"])({},Mn["a"].options.computed.classes.call(this),{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||ee["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(kt["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}}),Bn=n("a523"),Pn=Object(D["a"])(Rn,a,r,!1,null,null,null);t["default"]=Pn.exports;E()(Pn,{VAlert:Fn,VCol:Ke["a"],VContainer:Bn["a"],VDialog:yt["a"],VDivider:jt["a"],VRow:Xe["a"],VSpacer:_t["a"],VToolbar:Dt["a"],VToolbarItems:Tt["a"],VToolbarTitle:Tt["b"]})},"1f09":function(e,t,n){},"210b":function(e,t,n){},"2bfd":function(e,t,n){},3129:function(e,t,n){"use strict";n("a630"),n("c975"),n("d81d"),n("ac1f"),n("3ca3"),n("5319"),n("1276");var a=n("3835"),r=n("5530"),i=(n("1f09"),n("c995")),s=n("24b2"),o=n("7560"),l=n("58df"),c=n("80d2");t["a"]=Object(l["a"])(i["a"],s["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(r["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(r["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses,{},this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(r["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,n=e.split("@"),r=Object(a["a"])(n,2),i=r[0],s=r[1],o=function(){return t.genStructure(i)};return Array.from({length:s}).map(o)},genStructure:function(e){var t=[];e=e||this.type||"";var n=this.rootTypes[e]||"";if(e===n);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);n.indexOf(",")>-1?t=this.mapBones(n):n.indexOf("@")>-1?t=this.genBones(n):n&&t.push(this.genStructure(n))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(c["n"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"4c72":function(e,t,n){},"6ca7":function(e,t,n){},"841c":function(e,t,n){"use strict";var a=n("d784"),r=n("825a"),i=n("1d80"),s=n("129f"),o=n("14c3");a("search",1,(function(e,t,n){return[function(t){var n=i(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n):new RegExp(t)[e](String(n))},function(e){var a=n(t,e,this);if(a.done)return a.value;var i=r(e),l=String(this),c=i.lastIndex;s(c,0)||(i.lastIndex=0);var u=o(i,l);return s(i.lastIndex,c)||(i.lastIndex=c),null===u?-1:u.index}]}))},"8b37":function(e,t,n){},a890:function(e,t,n){"use strict";var a=n("0869"),r=n.n(a);r.a},aff5:function(e,t,n){var a=n("23e7");a({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},b7ef:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-simple-table",{attrs:{dense:"","fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v("Ingrédient")]),n("th",{staticClass:"text-center"},[e._v("Quantité")])])]),n("tbody",e._l(e.ingredients,(function(t){return n("tr",{key:t.ingredient.id},[n("td",[e._v(e._s(t.ingredient.nom))]),n("td",{staticClass:"text-center"},[e._v(" "+e._s(e.formatQuantite(t.quantite))+" "),n("i",{staticClass:"grey--text"},[e._v(e._s(t.ingredient.unite))])])])})),0)]},proxy:!0}])})},r=[],i=n("d4ec"),s=n("99de"),o=n("7e84"),l=n("262e"),c=n("9ab4"),u=n("2b0e"),d=n("2fe1"),h=n("ad05"),f=u["a"].extend({props:{ingredients:Array}}),p=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(s["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.formatQuantite=h["a"].formatQuantite,e}return Object(l["a"])(t,e),t}(f);p=Object(c["a"])([Object(d["b"])({})],p);var v=p,m=v,g=n("2877"),b=n("6544"),y=n.n(b),j=(n("a9e3"),n("5530")),x=(n("8b37"),n("80d2")),O=n("7560"),k=n("58df"),w=Object(k["a"])(O["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(j["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(x["f"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}}),S=Object(g["a"])(m,a,r,!1,null,"19ad874e",null);t["a"]=S.exports;y()(S,{VSimpleTable:w})},bf6f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"fill-height",attrs:{justify:"space-around"}},[n("v-col",{staticClass:"align-self-center",attrs:{cols:"auto"}},[n("form-calcul",{attrs:{sejour:e.sejour},on:{change:e.onChange}})],1),n("v-col",{staticClass:"align-self-center",attrs:{cols:"6"}},[n("result-ingredients",{attrs:{loading:e.loadingIngredients,dateIngredients:e.dateIngredients}})],1)],1)},r=[],i=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),l=n("99de"),c=n("7e84"),u=n("262e"),d=n("9ab4"),h=n("2b0e"),f=n("2fe1"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[e._v(" Choix des journées ")]),n("v-card-subtitle",[e._v("Ingrédients nécessaires aux journées :")]),n("v-card-text",[n("div",{staticClass:"px-3"},[n("v-checkbox",{attrs:{label:"Tout le séjour",indeterminate:e.indeterminate},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}}),e._l(e.choixJournees,(function(t){return n("v-checkbox",{key:t,attrs:{label:e.offsetToDate(t),value:t,"hide-details":""},model:{value:e.critere,callback:function(t){e.critere=t},expression:"critere"}})}))],2)])],1)},v=[],m=(n("d81d"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("2909")),g=n("60a3"),b=n("0f2e"),y=n("ad05"),j=n("fe36"),x=h["a"].extend({props:{sejour:Object}}),O=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.critere=[],e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"offsetToDate",value:function(e){if(null==this.sejour)return"";var t=b["a"].offsetToDate(this.sejour.id,e);return y["a"].formatDate(t.toISOString())}},{key:"onChange",value:function(){this.$emit("change",this.critere)}},{key:"selectAll",get:function(){return Object(j["b"])(this.choixJournees,this.critere)},set:function(e){this.critere=e?this.choixJournees.map((function(e){return e})):[]}},{key:"indeterminate",get:function(){return this.critere.length>0&&!this.selectAll}},{key:"choixJournees",get:function(){if(null==this.sejour)return[];var e=new Set((this.sejour.repass||[]).map((function(e){return e.jour_offset}))),t=Object(m["a"])(e);return t.sort()}}]),t}(x);Object(d["a"])([Object(g["a"])("critere")],O.prototype,"onChange",null),O=Object(d["a"])([Object(f["b"])({components:{}})],O);var k=O,w=k,S=n("2877"),I=n("6544"),_=n.n(I),C=n("b0af"),D=n("99d9"),T=(n("25f0"),n("5530")),E=(n("6ca7"),n("ec29"),n("9d26")),$=n("c37a"),R=n("fe09"),M=R["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(T["a"])({},$["a"].options.computed.classes.call(this),{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.disabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(E["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(T["a"])({},this.attrs$,{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}}),V=Object(S["a"])(w,p,v,!1,null,"30bb2528",null),A=V.exports;_()(V,{VCard:C["a"],VCardSubtitle:D["b"],VCardText:D["c"],VCardTitle:D["d"],VCheckbox:M});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{staticClass:"secondary py-2 px-3",attrs:{"primary-title":""}},[n("h3",{staticClass:"headline mb-0 "},[e._v(" Ingrédients nécessaires ")])]),n("v-progress-linear",{attrs:{indeterminate:"",active:e.loading}}),n("date-ingredients",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"75vh"},attrs:{"date-ingredients":e.dateIngredients}})],1)},B=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-expansion-panels",{attrs:{value:e.dateIngredients.map((function(e,t){return t})),multiple:"",accordion:""}},e._l(e.dateIngredients,(function(t,a){return n("v-expansion-panel",{key:a,attrs:{disabled:e.dateIngredients.length<=1}},[n("v-expansion-panel-header",{staticClass:"py-0",attrs:{"hide-actions":e.dateIngredients.length<=1}},[n("b",[e._v(e._s(e.formatDate(t.date)))])]),n("v-expansion-panel-content",[n("liste-ingredients",{attrs:{ingredients:t.ingredients}})],1)],1)})),1),0==e.dateIngredients.length?n("div",{staticClass:"pa-2 font-italic"},[e._v(" Aucune journée ne nécessite d'ingrédients. ")]):e._e()],1)},H=[],L=n("b7ef"),N=h["a"].extend({props:{dateIngredients:Array}}),W=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.formatDate=y["a"].formatDate,e}return Object(u["a"])(t,e),t}(N);W=Object(d["a"])([Object(f["b"])({components:{ListeIngredients:L["a"]}})],W);var J=W,G=J,z=n("4e82"),Y=n("3206"),U=n("80d2"),Z=n("58df"),q=Object(Z["a"])(Object(z["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(Y["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(T["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(e){this.content=e},unregisterContent:function(){this.content=null},registerHeader:function(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var e=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return e.$emit("change")}))}},render:function(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(U["n"])(this))}}),Q=n("0789"),K=n("9d65"),X=n("a9ad"),ee=Object(Z["a"])(K["a"],X["a"],Object(Y["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel")),te=ee.extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(e){var t=this;return e(Q["a"],this.showLazyContent((function(){return[e("div",t.setBackgroundColor(t.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:t.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},Object(U["n"])(t))])]})))}}),ne=n("5607"),ae=Object(Z["a"])(X["a"],Object(Y["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel")),re=ae.extend().extend({name:"v-expansion-panel-header",directives:{ripple:ne["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(e){this.$emit("click",e)},genIcon:function(){var e=Object(U["n"])(this,"actions")||[this.$createElement(E["a"],this.expandIcon)];return this.$createElement(Q["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render:function(e){var t=this;return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button"},directives:[{name:"ripple",value:this.ripple}],on:Object(T["a"])({},this.$listeners,{click:this.onClick,mousedown:function(){return t.hasMousedown=!0},mouseup:function(){return t.hasMousedown=!1}})}),[Object(U["n"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),ie=(n("0481"),n("4069"),n("210b"),n("604c")),se=n("d9bd"),oe=ie["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(T["a"])({},ie["a"].options.computed.classes.call(this),{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(se["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(se["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(e,t){var n=this.getValue(e,t),a=this.getValue(e,t+1);e.isActive=this.toggleMethod(n),e.nextIsActive=this.toggleMethod(a)}}}),le=Object(S["a"])(G,P,H,!1,null,"16b464d7",null),ce=le.exports;_()(le,{VExpansionPanel:q,VExpansionPanelContent:te,VExpansionPanelHeader:re,VExpansionPanels:oe});var ue=h["a"].extend({props:{loading:Boolean,dateIngredients:Array}}),de=function(e){function t(){return Object(s["a"])(this,t),Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(ue);de=Object(d["a"])([Object(f["b"])({components:{DateIngredients:ce}})],de);var he=de,fe=he,pe=n("8e36"),ve=Object(S["a"])(fe,F,B,!1,null,"e741a698",null),me=ve.exports;_()(ve,{VCard:C["a"],VCardTitle:D["d"],VProgressLinear:pe["a"]});var ge=h["a"].extend({props:{}}),be=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.showFormCalcul=!1,e.loadingIngredients=!1,e.dateIngredients=[],e.critere=[],e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"onChange",value:function(e){this.critere=e,this.calcul()}},{key:"calcul",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.sejour){e.next=2;break}return e.abrupt("return");case 2:return this.loadingIngredients=!0,e.next=5,b["a"].calculs.resoudIngredientsJournees(this.sejour.id,this.critere);case 5:if(t=e.sent,this.loadingIngredients=!1,t){e.next=9;break}return e.abrupt("return");case 9:this.dateIngredients=t.date_ingredients||[];case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"activated",value:function(){this.calcul()}},{key:"sejour",get:function(){return b["a"].state.getSejour()}}]),t}(ge);be=Object(d["a"])([Object(f["b"])({components:{FormCalcul:A,ResultIngredients:me}})],be);var ye=be,je=ye,xe=n("62ad"),Oe=n("0fd9"),ke=Object(S["a"])(je,a,r,!1,null,"e2e437e8",null);t["default"]=ke.exports;_()(ke,{VCol:xe["a"],VRow:Oe["a"]})},d13b:function(e,t,n){},fa46:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{staticClass:"my-1",attrs:{dense:"",color:"secondary"}},[n("v-toolbar-title",{staticClass:"px-2"},[n("v-row",{staticClass:"mt-1",attrs:{"no-gutters":""}},[n("v-col",[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.showSearch,expression:"!showSearch"}]},[e._v(" "+e._s(e.title)+" ")]),n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"search",staticClass:"mt-3 mb-1",attrs:{label:"Rechercher",placeholder:"Tappez...",value:e.search,"hide-details":"",dense:""},on:{input:function(t){return e.$emit("change",t)},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showSearch=!1}}})],1)],1)],1),n("v-spacer"),n("v-toolbar-items",[n("tooltip-btn",{attrs:{"mdi-icon":"magnify",tooltip:"Rechercher..."},on:{click:function(t){e.showSearch=!e.showSearch}}}),e.showAdd?n("tooltip-btn",{attrs:{"mdi-icon":"plus-thick",tooltip:e.tooltipAdd,color:"green"},on:{click:function(t){return e.$emit("add")}}}):e._e()],1)],1)},r=[],i=(n("ac1f"),n("841c"),n("d4ec")),s=n("bee2"),o=n("99de"),l=n("7e84"),c=n("262e"),u=n("9ab4"),d=n("2b0e"),h=n("2fe1"),f=n("60a3"),p=n("1c9b"),v=d["a"].extend({props:{title:String,tooltipAdd:String,showAdd:Boolean,search:String},model:{prop:"search",event:"change"}}),m=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(o["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.showSearch=!1,e}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"onShowSearch",value:function(e){var t=this;e||this.$emit("change",""),setTimeout((function(){var e=t.$refs.search.$el.querySelector("input");null!=e&&e.select()}),50)}}]),t}(v);Object(u["a"])([Object(f["a"])("showSearch")],m.prototype,"onShowSearch",null),m=Object(u["a"])([Object(h["b"])({components:{TooltipBtn:p["a"]}})],m);var g=m,b=g,y=n("2877"),j=n("6544"),x=n.n(j),O=n("62ad"),k=n("0fd9"),w=n("2fa4"),S=n("8654"),I=n("71d9"),_=n("2a7f"),C=Object(y["a"])(b,a,r,!1,null,"6d1b6a3c",null);t["a"]=C.exports;x()(C,{VCol:O["a"],VRow:k["a"],VSpacer:w["a"],VTextField:S["a"],VToolbar:I["a"],VToolbarItems:_["a"],VToolbarTitle:_["b"]})},fcf4:function(e,t,n){}}]);
//# sourceMappingURL=agenda.dd688ad8.js.map