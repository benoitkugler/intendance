{"version":3,"sources":["webpack:///./src/views/Menus.vue?5f1f","webpack:///./src/components/menus/ListeMenus.vue?4618","webpack:///./src/components/menus/shared.ts","webpack:///./src/components/menus/ListeMenus.vue","webpack:///./src/components/menus/ListeMenus.vue?8efa","webpack:///./src/components/menus/ListeMenus.vue?2d3a","webpack:///./src/components/menus/ListeRecettes.vue?3f85","webpack:///./src/components/menus/ListeRecettes.vue","webpack:///./src/components/menus/ListeRecettes.vue?8ecb","webpack:///./src/components/menus/ListeRecettes.vue?73fd","webpack:///./src/components/menus/ListeIngredients.vue?e45d","webpack:///./src/components/menus/EditIngredient.vue?2d28","webpack:///./src/components/utils/UniteField.vue?f3dc","webpack:///./src/components/utils/UniteField.vue","webpack:///./src/components/utils/UniteField.vue?eb56","webpack:///./src/components/utils/UniteField.vue?566c","webpack:///./src/components/utils/ConditionnementField.vue?f0af","webpack:///./src/components/utils/ConditionnementField.vue","webpack:///./src/components/utils/ConditionnementField.vue?7b96","webpack:///./src/components/utils/ConditionnementField.vue?795a","webpack:///./src/components/menus/types.ts","webpack:///./src/components/menus/EditIngredient.vue","webpack:///./src/components/menus/EditIngredient.vue?1c04","webpack:///./src/components/menus/EditIngredient.vue?f8ff","webpack:///./src/components/produits/AssociationIngredient.vue?8cc5","webpack:///./src/components/produits/DetailsProduit.vue?26b4","webpack:///./src/components/produits/DetailsProduit.vue","webpack:///./src/components/produits/DetailsProduit.vue?657d","webpack:///./src/components/produits/DetailsProduit.vue?a4f1","webpack:///./src/components/produits/AssociationIngredient.vue","webpack:///./src/components/produits/AssociationIngredient.vue?c316","webpack:///./src/components/produits/AssociationIngredient.vue?c1ce","webpack:///./src/components/menus/ListeIngredients.vue","webpack:///./src/components/menus/ListeIngredients.vue?7b46","webpack:///./src/components/menus/ListeIngredients.vue?721b","webpack:///./src/components/menus/EditMenu.vue?117d","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?02c3","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?700a","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?9bab","webpack:///./src/components/menus/EditMenu.vue","webpack:///./src/components/menus/EditMenu.vue?b194","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/components/menus/EditMenu.vue?855c","webpack:///./src/components/menus/EditRecette.vue?9bde","webpack:///./src/components/menus/EditRecette.vue","webpack:///./src/components/menus/EditRecette.vue?d5cc","webpack:///./src/components/menus/EditRecette.vue?0e38","webpack:///./src/views/Menus.vue","webpack:///./src/views/Menus.vue?e40c","webpack:///./src/views/Menus.vue?5f84"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","state","mode","directives","name","rawName","value","expression","key","ref","on","idMenu","selection","startEditMenu","startCreateMenu","editMode","editedMenu","editMenuCancel","editMenuDone","_e","idRecette","startEditRecette","startCreateRecette","editedRecette","editRecetteCancel","editRecetteDone","idIngredient","staticRenderFns","model","callback","$$v","confirmeSupprime","_v","supprime","$event","$emit","search","height","args","_l","menu","id","class","classItem","scopedSlots","_u","fn","active","_s","formatMenuName","formatMenuProprietaire","showButtons","stopPropagation","Props","extend","props","String","Object","kind","idItem","$vuetify","goTo","container","$refs","list","formatter","formatMenuOrRecetteProprietaire","id_proprietaire","Valid","Int64","idUtilisateur","data","deleteMenu","notifications","getError","setMessage","searchMenu","components","TooltipBtn","Toolbar","type","default","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDialog","VList","VListItem","VListItemAction","VListItemContent","VListItemGroup","VListItemSubtitle","VListItemTitle","VRow","VSpacer","title","recette","ev","onDragStart","nom","formatRecetteProprietaire","showActions","recettes","predicat","filter","deleteRecette","event","dataTransfer","setData","effectAllowed","baseRecettes","values","getMenuRecettes","getMenu","searchRecettes","showEditIngredient","editedIngredient","editIngredientDone","showEditProduits","editedIngredientProduit","startCreateIngredient","ingredient","domProps","subtitle","startEditProduits","startEditIngredient","nativeOn","indexOf","_k","keyCode","current","$set","conditionnement","allowedUnitesConditionnement","btnTitle","disabled","unites","unite","label","UniteFieldProps","Boolean","Array","prop","VSelect","onChange","_n","allowedUnites","ConditionnementFieldProps","UniteField","VTextField","DefautIngredient","categorie","quantite","callories","DefautRecette","ingredients","mode_emploi","DefautMenu","commentaire","EditIngredientProps","initialIngredient","copy","initial","ing","input","$el","querySelector","select","b","Piece","u","ConditionnementField","VForm","VSwitch","loading","produit","formatFournisseur","prix","formatConditionnement","deleteProduit","newProduit","addProduit","optionsFournisseurs","rules","idRequired","innerProduit","required","validate","DetailsProduitProps","duplique","v","form","items","fournisseurs","map","fourn","text","AssociationIngredientProps","activated","ingredientProduits","f","getFournisseur","getIngredientProduits","res","undefined","loadProduits","ajouteIngredientProduit","id_ingredient","cond","id_fournisseur","reference_fournisseur","colisage","getSpin","produits","DetailsProduit","VCardSubtitle","VSimpleTable","VSkeletonLoader","options","cuisson","sort","a","Number","checkProduits","deleteIngredient","message","updateIngredient","createIngredient","getIngredient","baseIngredients","getAllIngredients","getRecetteIngredients","getMenuIngredients","searchIngredients","EditIngredient","AssociationIngredient","onDragoverRecettes","onDropRecette","length","removeRecette","onDragoverIngredients","onDropIngredient","editIngredient","removeIngredient","MenuOrRecetteIngredientProps","EditMenuProps","initialMenu","toRemove","rec","id_recette","edited","ings","forEach","index","isRecette","types","includes","preventDefault","dropEffect","getData","hasRecette","r","push","id_menu","isIngredient","newIngredient","matchingIngredients","setTimeout","ed","focus","MenuOrRecetteIngredient","baseMixins","mixins","autoGrow","noResize","rowHeight","validator","isNaN","parseFloat","rows","parseInt","computed","classes","noResizeHandle","watch","lazyValue","$nextTick","mounted","methods","calculateInputHeight","minHeight","Math","genInput","onInput","onKeyDown","isFocused","e","VSubheader","VTextarea","VToolbar","VToolbarItems","VToolbarTitle","EditRecetteProps","initialRecette","loadAllMenus","selectIngredient","$route","query","listeIngredients","goToItem","newMenu","updateMenu","createMenu","listeMenus","newRecette","updateRecette","createRecette","listeRecettes","ListeMenus","ListeRecettes","ListeIngredients","EditMenu","EditRecette","VContainer"],"mappings":"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","file":"js/menus.ad092779.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"py-1 px-2\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"wrap\":\"\"}},[(_vm.state.mode == 'visu' || _vm.state.mode == 'editMenu')?_c('v-col',{attrs:{\"md\":\"4\",\"sm\":\"6\"}},[_c('transition-group',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\",\"duration\":\"200\"}},[_c('liste-menus',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.mode == 'visu'),expression:\"state.mode == 'visu'\"}],key:\"liste\",ref:\"listeMenus\",attrs:{\"height\":\"75vh\",\"state\":_vm.state},on:{\"change\":function (idMenu) { return (_vm.state.selection.idMenu = idMenu); },\"edit\":_vm.startEditMenu,\"new\":_vm.startCreateMenu}}),_c('edit-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.mode == 'editMenu'),expression:\"state.mode == 'editMenu'\"}],key:\"edit\",attrs:{\"mode\":_vm.editMode,\"initialMenu\":_vm.editedMenu},on:{\"undo\":_vm.editMenuCancel,\"done\":_vm.editMenuDone}})],1)],1):_vm._e(),_c('v-col',[_c('liste-recettes',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.mode == 'visu' || _vm.state.mode == 'editMenu'),expression:\"state.mode == 'visu' || state.mode == 'editMenu'\"}],key:\"liste\",ref:\"listeRecettes\",attrs:{\"height\":\"75vh\",\"state\":_vm.state},on:{\"change\":function (idRecette) { return (_vm.state.selection.idRecette = idRecette); },\"edit\":_vm.startEditRecette,\"new\":_vm.startCreateRecette}}),_c('edit-recette',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.mode == 'editRecette'),expression:\"state.mode == 'editRecette'\"}],key:\"edit\",attrs:{\"mode\":_vm.editMode,\"initialRecette\":_vm.editedRecette},on:{\"undo\":_vm.editRecetteCancel,\"done\":_vm.editRecetteDone}})],1),_c('v-col',{attrs:{\"md\":\"4\",\"sm\":\"12\"}},[_c('liste-ingredients',{ref:\"listeIngredients\",attrs:{\"height\":\"75vh\",\"state\":_vm.state},on:{\"change\":function (idIngredient) { return (_vm.state.selection.idIngredient = idIngredient); }}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression de ce menu ? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprime}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter un menu...\",\"title\":\"Menus\",\"showAdd\":_vm.state.mode == 'visu'},on:{\"add\":function($event){return _vm.$emit('new')}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{ref:\"list\",staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.idMenu},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.menus),function(menu){return _c('v-list-item',{key:menu.id,class:_vm.classItem(menu.id),attrs:{\"value\":menu.id},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.formatMenuName(menu)))]),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatMenuProprietaire(menu)))])])],1),(_vm.showButtons(active, menu))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier ce menu\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit', menu)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer ce menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport Component from \"vue-class-component\";\n\nimport { StateMenus, SelectionMenu } from \"./types\";\n\nexport type ListKind = keyof SelectionMenu;\nconst Props = Vue.extend({\n  props: {\n    height: String,\n    state: Object as () => StateMenus,\n    kind: String as () => ListKind\n  }\n});\n\n@Component({})\nexport class BaseList extends Props {\n  // à implémenter par les composants\n  $refs!: {\n    list: HTMLElement;\n  };\n\n  private classItem(idItem: number) {\n    return this.kind + idItem;\n  }\n\n  // change l'item courant et scroll\n  goToItem(idItem: number) {\n    this.state.selection[this.kind] = idItem;\n    try {\n      this.$vuetify.goTo(\".\" + this.classItem(idItem), {\n        container: this.$refs.list\n      });\n    } catch {\n      // élément inconnu, on ignore\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Menu } from \"../../logic/types\";\nimport { StateMenus } from \"./types\";\nimport { searchFunction } from \"../utils/utils\";\nimport { BaseList, ListKind } from \"./shared\";\n\n@Component({\n  components: { TooltipBtn, Toolbar },\n  props: {\n    kind: {\n      type: String as () => ListKind,\n      default: \"idMenu\"\n    }\n  }\n})\nexport default class ListeMenus extends BaseList {\n  confirmeSupprime = false;\n  formatMenuName = C.formatter.formatMenuName;\n  formatMenuProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  search = \"\";\n\n  get menus() {\n    return C.searchMenu(this.search);\n  }\n\n  showButtons(active: boolean, menu: Menu) {\n    return (\n      active &&\n      (!menu.id_proprietaire.Valid ||\n        menu.id_proprietaire.Int64 == C.idUtilisateur)\n    );\n  }\n\n  async supprime() {\n    this.confirmeSupprime = false;\n    if (this.state.selection.idMenu == null) return;\n    await C.data.deleteMenu(this.state.selection.idMenu);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Menu supprimé avec succès.\");\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeMenus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeMenus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeMenus.vue?vue&type=template&id=709bdc6d&\"\nimport script from \"./ListeMenus.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeMenus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression de cette recette ? \"),_c('br'),_c('div',{staticClass:\"my-3\"},[_c('small',[_vm._v(\" Si vous souhaitez seulement l'enlever d'un menu, passez plutôt en \"),_c('b',[_vm._v(\"mode édition\")]),_vm._v(\". \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprime}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter une recette...\",\"title\":_vm.title,\"showAdd\":_vm.state.mode == 'visu' && _vm.state.selection.idMenu == null},on:{\"add\":function($event){return _vm.$emit('new')}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{ref:\"list\",staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.idRecette},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.recettes),function(recette){return _c('v-list-item',{key:recette.id,class:_vm.classItem(recette.id),attrs:{\"value\":recette.id},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function (ev) { return _vm.onDragStart(ev, recette); }}},[_c('v-list-item-title',[_c('v-list-item-title',[_vm._v(_vm._s(recette.nom))])],1),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatRecetteProprietaire(recette)))])])],1),(_vm.showActions(active, recette))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier cette recette\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit', recette)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer cette recette\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Recette } from \"../../logic/types\";\nimport { StateMenus } from \"./types\";\nimport levenshtein from \"js-levenshtein\";\nimport { searchFunction } from \"../utils/utils\";\nimport { ListKind, BaseList } from \"./shared\";\n\n@Component({\n  components: { TooltipBtn, Toolbar },\n  props: {\n    kind: {\n      type: String as () => ListKind,\n      default: \"idRecette\"\n    }\n  }\n})\nexport default class ListeRecettes extends BaseList {\n  confirmeSupprime = false;\n\n  search = \"\";\n\n  private searchRecettes(recettes: Recette[], search: string) {\n    const predicat = searchFunction(search);\n    return recettes.filter(recette => predicat(recette.nom));\n  }\n\n  get recettes() {\n    let baseRecettes: Recette[];\n    if (this.state.mode == \"editMenu\") {\n      baseRecettes = Object.values(C.data.recettes);\n    } else if (this.state.selection.idMenu != null) {\n      baseRecettes = C.getMenuRecettes(C.getMenu(this.state.selection.idMenu));\n    } else {\n      baseRecettes = Object.values(C.data.recettes);\n    }\n    return this.searchRecettes(baseRecettes, this.search);\n  }\n\n  get title() {\n    if (this.state.mode == \"editMenu\") {\n      return \"Choisir une recette\";\n    }\n    if (this.state.selection.idMenu != null) {\n      return \"Recettes liées au menu\";\n    }\n    return \"Toutes les recettes\";\n  }\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  showActions(active: boolean, recette: Recette) {\n    if (this.state.selection.idMenu != null) return false;\n    return (\n      active &&\n      (!recette.id_proprietaire.Valid ||\n        recette.id_proprietaire.Int64 == C.idUtilisateur)\n    );\n  }\n\n  async supprime() {\n    this.confirmeSupprime = false;\n    if (this.state.selection.idRecette == null) return;\n    await C.data.deleteRecette(this.state.selection.idRecette);\n    this.$emit(\"change\", null);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Recette supprimée avec succès.\");\n    }\n  }\n\n  onDragStart(event: DragEvent, recette: Recette) {\n    if (!event.dataTransfer) return;\n    event.dataTransfer.setData(\"id-recette\", String(recette.id));\n    event.dataTransfer.effectAllowed = \"copy\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeRecettes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeRecettes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeRecettes.vue?vue&type=template&id=51ab4f20&\"\nimport script from \"./ListeRecettes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeRecettes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('edit-ingredient',{attrs:{\"initialIngredient\":_vm.editedIngredient,\"mode\":_vm.editMode},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-dialog',{attrs:{\"scrollable\":\"\",\"width\":\"90%\"},model:{value:(_vm.showEditProduits),callback:function ($$v) {_vm.showEditProduits=$$v},expression:\"showEditProduits\"}},[_c('association-ingredient',{attrs:{\"ingredient\":_vm.editedIngredientProduit,\"activated\":_vm.showEditProduits}})],1),_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Vous avez demandé la suppression de cet ingrédient. \"),_c('br'),_vm._v(\" Souhaitez-vous vérifiez qu'aucun produit n'y est associé ? Dans le cas contraire, les éventuelles associations ingrédient/produit seront supprimées. \"),_c('div',{staticClass:\"my-3\"},[_c('small',[_vm._v(\" Si vous souhaitez seulement enlever l'ingrédient d'un menu ou d'une recette, passez plutôt en \"),_c('b',[_vm._v(\"mode édition\")]),_vm._v(\". \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.supprime(false)}}},[_vm._v(\" Supprimer l'ingrédient et les liens produits \")]),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.supprime(true)}}},[_vm._v(\" Vérifier les liens avant de supprimer \")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter un ingrédient...\",\"title\":_vm.title,\"showAdd\":_vm.state.mode == 'visu' &&\n        _vm.state.selection.idMenu == null &&\n        _vm.state.selection.idRecette == null},on:{\"add\":_vm.startCreateIngredient},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{ref:\"list\",staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.idIngredient},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.ingredient.id,class:_vm.classItem(ingredient.ingredient.id),attrs:{\"value\":ingredient.ingredient.id},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var active = ref.active;\nreturn [_c('v-list-item-content',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function (ev) { return _vm.onDragStart(ev, ingredient.ingredient); }}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(ingredient.ingredient.nom)+\" \")]),_c('v-list-item-subtitle',{domProps:{\"innerHTML\":_vm._s(_vm.subtitle(ingredient))}})],1),(_vm.showActions(active))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"cart\",\"tooltip\":\"Produits liés à cet ingrédient...\",\"color\":\"accent\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditProduits(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier cet ingrédient...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer cet ingrédient\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('edit', _vm.current)}}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails de l'ingrédient \")]),_c('v-card-text',[_c('v-form',[_c('v-row',[_c('v-col',[_c('v-text-field',{ref:\"nom\",attrs:{\"label\":\"Nom\"},model:{value:(_vm.current.nom),callback:function ($$v) {_vm.$set(_vm.current, \"nom\", $$v)},expression:\"current.nom\"}})],1),_c('v-col',[_c('unite-field',{model:{value:(_vm.current.unite),callback:function ($$v) {_vm.$set(_vm.current, \"unite\", $$v)},expression:\"current.unite\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-switch',{attrs:{\"label\":\"Conditionnement requis\"},model:{value:(_vm.conditionnement),callback:function ($$v) {_vm.conditionnement=$$v},expression:\"conditionnement\"}})],1),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('conditionnement-field',{attrs:{\"disabled\":!_vm.conditionnement,\"allowedUnites\":_vm.allowedUnitesConditionnement},model:{value:(_vm.current.conditionnement),callback:function ($$v) {_vm.$set(_vm.current, \"conditionnement\", $$v)},expression:\"current.conditionnement\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":[],\"label\":\"Catégorie\"},model:{value:(_vm.current.categorie),callback:function ($$v) {_vm.$set(_vm.current, \"categorie\", $$v)},expression:\"current.categorie\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Callories\",\"required\":\"\"},model:{value:(_vm.current.callories),callback:function ($$v) {_vm.$set(_vm.current, \"callories\", $$v)},expression:\"current.callories\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('edit', _vm.current)}}},[_vm._v(_vm._s(_vm.btnTitle))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{attrs:{\"disabled\":_vm.disabled,\"items\":_vm.unites,\"value\":_vm.unite,\"label\":_vm.label},on:{\"change\":function (args) { return _vm.$emit('change', args); }}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Unites } from \"../../logic/enums\";\n\nconst UniteFieldProps = Vue.extend({\n  props: {\n    unite: String,\n    label: {\n      type: String,\n      default: \"Unité\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    unites: {\n      type: Array,\n      default: function() {\n        return Unites;\n      }\n    }\n  },\n  model: {\n    prop: \"unite\",\n    event: \"change\"\n  }\n});\n\n@Component({})\nexport default class UniteField extends UniteFieldProps {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UniteField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UniteField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UniteField.vue?vue&type=template&id=49ddb001&scoped=true&\"\nimport script from \"./UniteField.vue?vue&type=script&lang=ts&\"\nexport * from \"./UniteField.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49ddb001\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"disabled\":_vm.disabled,\"label\":\"Conditionnement - Quantité\",\"type\":\"number\"},on:{\"change\":_vm.onChange},model:{value:(_vm.conditionnement.quantite),callback:function ($$v) {_vm.$set(_vm.conditionnement, \"quantite\", _vm._n($$v))},expression:\"conditionnement.quantite\"}})],1),_c('v-col',{staticClass:\"ml-3\"},[_c('unite-field',{attrs:{\"disabled\":_vm.disabled,\"label\":\"Conditionnement - Unité\",\"unites\":_vm.allowedUnites},on:{\"change\":_vm.onChange},model:{value:(_vm.conditionnement.unite),callback:function ($$v) {_vm.$set(_vm.conditionnement, \"unite\", $$v)},expression:\"conditionnement.unite\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport UniteField from \"./UniteField.vue\";\nimport { EnumItem } from \"../../logic/enums\";\nimport { Conditionnement } from \"../../logic/types\";\n\nconst ConditionnementFieldProps = Vue.extend({\n  props: {\n    conditionnement: Object as () => Conditionnement,\n    disabled: Boolean,\n    allowedUnites: Array as () => EnumItem[]\n  },\n  model: {\n    prop: \"conditionnement\",\n    event: \"change\"\n  }\n});\n\n@Component({\n  components: { UniteField }\n})\nexport default class ConditionnementField extends ConditionnementFieldProps {\n  onChange() {\n    this.$emit(\"change\", this.conditionnement);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConditionnementField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConditionnementField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConditionnementField.vue?vue&type=template&id=3c3c95ca&scoped=true&\"\nimport script from \"./ConditionnementField.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConditionnementField.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c3c95ca\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCol,VRow,VTextField})\n","import { Menu, Recette, Ingredient } from \"@/logic/types\";\n\nimport { IngredientOptions, New } from \"@/logic/types2\";\n\ntype ModeMenu = \"visu\" | \"editMenu\" | \"editRecette\" | \"editIngredient\";\nexport interface SelectionMenu {\n  idMenu: number | null;\n  idRecette: number | null;\n  idIngredient: number | null;\n}\nexport interface StateMenus {\n  mode: ModeMenu;\n  selection: SelectionMenu;\n}\n\nexport const DefautIngredient: New<Ingredient> = {\n  nom: \"\",\n  unite: \"\",\n  categorie: \"\",\n  conditionnement: { unite: \"\", quantite: 0 },\n  callories: {}\n};\n\nexport const DefautRecette: New<Recette> = {\n  id_proprietaire: { Valid: true, Int64: -1 },\n  ingredients: [],\n  mode_emploi: \"\",\n  nom: \"\"\n};\n\nexport const DefautMenu: New<Menu> = {\n  commentaire: \"\",\n  id_proprietaire: { Valid: true, Int64: -1 },\n  ingredients: [],\n  recettes: []\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Watch } from \"vue-property-decorator\";\n\nimport UniteField from \"../utils/UniteField.vue\";\nimport ConditionnementField from \"../utils/ConditionnementField.vue\";\n\nimport { RecetteIngredient, Ingredient } from \"../../logic/types\";\nimport { IngredientOptions, EditMode, deepcopy } from \"../../logic/types2\";\nimport { Unites, UniteFields } from \"../../logic/enums\";\nimport { DefautIngredient } from \"./types\";\n\nconst EditIngredientProps = Vue.extend({\n  props: {\n    initialIngredient: Object as () => IngredientOptions | null,\n    mode: String as () => EditMode\n  }\n});\n\n@Component({\n  components: { UniteField, ConditionnementField }\n})\nexport default class EditIngredient extends EditIngredientProps {\n  current = this.copy(this.initialIngredient);\n\n  private copy(initial: IngredientOptions | null): Ingredient {\n    const ing =\n      initial == null ? { ...DefautIngredient, id: -1 } : initial.ingredient;\n    return deepcopy(ing);\n  }\n\n  get btnTitle() {\n    return this.mode == \"edit\" ? \"Valider\" : \"Créer\";\n  }\n\n  get conditionnement() {\n    return this.current.conditionnement.unite != \"\";\n  }\n  set conditionnement(b: boolean) {\n    if (!b) {\n      this.current.conditionnement = { unite: \"\", quantite: 0 };\n    } else {\n      this.current.conditionnement.unite =\n        this.current.unite ||\n        (this.initialIngredient && this.initialIngredient.ingredient.unite) ||\n        \"L\";\n    }\n  }\n\n  get allowedUnitesConditionnement() {\n    if (this.current.unite == UniteFields.Piece) {\n      // Pour le conditionnement, l'unité Pièce n'apporte aucune information\n      return Unites.filter(u => u.value != UniteFields.Piece);\n    }\n    // le conditionnement doit être compatible avec l'unité.\n    return Unites.filter(u => u.value == this.current.unite);\n  }\n\n  @Watch(\"initialIngredient\")\n  onPropChange() {\n    this.current = this.copy(this.initialIngredient);\n  }\n\n  $refs!: {\n    nom: Vue;\n  };\n\n  focus() {\n    const input = this.$refs.nom.$el.querySelector(\"input\");\n    if (input != null) input.select();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditIngredient.vue?vue&type=template&id=d280dfd4&scoped=true&\"\nimport script from \"./EditIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d280dfd4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ingredient != null)?_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Produits associés à l'ingrédient \"+_vm._s(_vm.ingredient.nom)+\" \")]),_c('v-card-subtitle',[_vm._v(\" Vous pouvez choisir ici quels produits concrets sont associés à l'ingrédient générique. \")]),_c('v-card-text',[_c('v-row',[_c('v-col',[_c('v-skeleton-loader',{staticClass:\"h-100\",attrs:{\"type\":\"paragraph\",\"loading\":_vm.loading}},[_c('v-simple-table',{attrs:{\"dense\":\"\",\"fixed-header\":\"\"}},[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\"Fournisseur\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Nom\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Prix\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Conditionnement\")]),_c('th')])]),_c('tbody',_vm._l((_vm.produits),function(produit){return _c('tr',{key:produit.id},[_c('td',[_vm._v(_vm._s(_vm.formatFournisseur(produit)))]),_c('td',[_vm._v(_vm._s(produit.nom))]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(produit.prix)+\" €\")]),_c('td',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.formatConditionnement(produit.conditionnement))+\" \")]),_c('td',[_c('tooltip-btn',{attrs:{\"small\":\"\",\"mdi-icon\":\"close\",\"color\":\"red\",\"tooltip\":\"Supprimer ce produit\"},on:{\"click\":function($event){return _vm.deleteProduit(produit)}}})],1)])}),0)])],1)],1),_c('v-col',[_c('details-produit',{attrs:{\"produit\":_vm.newProduit},on:{\"add\":_vm.addProduit}})],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\"Détails du produit\")]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.optionsFournisseurs,\"label\":\"Fournisseur\",\"rules\":[_vm.rules.idRequired]},model:{value:(_vm.innerProduit.id_fournisseur),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"id_fournisseur\", $$v)},expression:\"innerProduit.id_fournisseur\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Nom\",\"rules\":[_vm.rules.required]},model:{value:(_vm.innerProduit.nom),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"nom\", $$v)},expression:\"innerProduit.nom\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Prix\",\"type\":\"number\",\"suffix\":\"€\",\"rules\":[_vm.rules.required]},model:{value:(_vm.innerProduit.prix),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"prix\", _vm._n($$v))},expression:\"innerProduit.prix\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Référence fournisseur\"},model:{value:(_vm.innerProduit.reference_fournisseur),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"reference_fournisseur\", $$v)},expression:\"innerProduit.reference_fournisseur\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('conditionnement-field',{model:{value:(_vm.innerProduit.conditionnement),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"conditionnement\", $$v)},expression:\"innerProduit.conditionnement\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"Colisage\",\"type\":\"number\"},model:{value:(_vm.innerProduit.colisage),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"colisage\", _vm._n($$v))},expression:\"innerProduit.colisage\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.validate}},[_vm._v(\"Ajouter ce produit\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport ConditionnementField from \"../utils/ConditionnementField.vue\";\n\nimport { Produit } from \"../../logic/types\";\nimport { C } from \"../../logic/controller\";\nimport { EnumItem } from \"../../logic/enums\";\nimport { sortByText } from \"../utils/utils\";\nimport { New, deepcopy } from \"../../logic/types2\";\nimport { Watch } from \"vue-property-decorator\";\n\nconst DetailsProduitProps = Vue.extend({\n  props: {\n    // contraint le produit possible\n    produit: Object as () => Produit\n  }\n});\n\ntype VForm = Vue & { validate: () => boolean };\n\n@Component({\n  components: { ConditionnementField }\n})\nexport default class DetailsProduit extends DetailsProduitProps {\n  innerProduit: Produit = this.duplique();\n\n  $refs!: {\n    form: VForm;\n  };\n\n  @Watch(\"produit\")\n  onChange() {\n    this.innerProduit = this.duplique();\n  }\n\n  duplique() {\n    return deepcopy<Produit>(this.produit);\n  }\n\n  get optionsFournisseurs(): EnumItem<number>[] {\n    if (C.data == null) return [];\n    const items = Object.values(C.data.fournisseurs || {}).map(fourn => {\n      return { text: fourn.nom, value: fourn.id };\n    });\n    return sortByText(items);\n  }\n\n  rules = {\n    required: (v: any) => !!v || \"Champ requis\",\n    idRequired: (id: number) => id >= 0 || \"Champ requis\"\n  };\n\n  validate() {\n    if (this.$refs.form.validate()) {\n      this.$emit(\"add\", this.innerProduit);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsProduit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsProduit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DetailsProduit.vue?vue&type=template&id=415da470&scoped=true&\"\nimport script from \"./DetailsProduit.vue?vue&type=script&lang=ts&\"\nexport * from \"./DetailsProduit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"415da470\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport DetailsProduit from \"./DetailsProduit.vue\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\n\nimport { Ingredient, IngredientProduits, Produit } from \"../../logic/types\";\nimport { C } from \"../../logic/controller\";\nimport { Watch } from \"vue-property-decorator\";\nimport { New } from \"../../logic/types2\";\nimport { Formatter } from \"../../logic/formatter\";\nimport { UniteFields } from \"../../logic/enums\";\n\nconst AssociationIngredientProps = Vue.extend({\n  props: {\n    ingredient: Object as () => Ingredient | null,\n    activated: Boolean\n  }\n});\n\n@Component({\n  components: { DetailsProduit, TooltipBtn }\n})\nexport default class AssociationIngredient extends AssociationIngredientProps {\n  formatConditionnement = Formatter.formatConditionnement;\n\n  get newProduit(): New<Produit> {\n    let cond = { quantite: 0, unite: \"\" };\n    if (this.ingredient != null) {\n      cond = this.ingredient.conditionnement;\n      if (this.ingredient.unite != UniteFields.Piece) {\n        // les unités doivent être indentiques\n        cond.unite = this.ingredient.unite;\n      }\n    }\n    return {\n      id_fournisseur: -1,\n      nom: \"\",\n      conditionnement: cond,\n      prix: 0,\n      reference_fournisseur: \"\",\n      colisage: 0\n    };\n  }\n\n  get loading() {\n    return C.notifications.getSpin();\n  }\n\n  ingredientProduits: IngredientProduits | null = null;\n\n  get produits() {\n    if (this.ingredientProduits != null) {\n      return this.ingredientProduits.produits || [];\n    }\n    return [];\n  }\n\n  formatFournisseur(produit: Produit) {\n    const f = C.getFournisseur(produit);\n    return f.nom;\n  }\n\n  private async loadProduits() {\n    if (this.ingredient == null) return;\n    const res = await C.data.getIngredientProduits(this.ingredient.id);\n    if (res == undefined) return;\n    this.ingredientProduits = res;\n  }\n\n  mounted() {\n    this.loadProduits();\n  }\n\n  @Watch(\"activated\")\n  onChangeIngredient(b: boolean) {\n    if (!b) return;\n    this.loadProduits();\n  }\n\n  async addProduit(produit: Produit) {\n    if (this.ingredient == null) return;\n    const res = await C.data.ajouteIngredientProduit({\n      produit: produit,\n      id_ingredient: this.ingredient.id\n    });\n    if (res) {\n      this.ingredientProduits = res;\n      C.notifications.setMessage(\n        `Produit créé et lié à ${this.ingredient.nom}`\n      );\n    }\n  }\n\n  async deleteProduit(produit: Produit) {\n    if (this.ingredient == null) return;\n    await C.data.deleteProduit(produit.id);\n    if (C.notifications.getError() != null) return;\n    await this.loadProduits();\n    if (C.notifications.getError() != null) return;\n    C.notifications.setMessage(`Produit ${produit.nom} supprimé avec succès`);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssociationIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssociationIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssociationIngredient.vue?vue&type=template&id=0a14d9a9&scoped=true&\"\nimport script from \"./AssociationIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./AssociationIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a14d9a9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCardSubtitle,VCardText,VCardTitle,VCol,VRow,VSimpleTable,VSkeletonLoader})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport EditIngredient from \"./EditIngredient.vue\";\nimport AssociationIngredient from \"../produits/AssociationIngredient.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Ingredient, RecetteIngredient } from \"../../logic/types\";\nimport { IngredientOptions, EditMode, New } from \"../../logic/types2\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport levenshtein from \"js-levenshtein\";\nimport { StateMenus, DefautIngredient } from \"./types\";\nimport { searchFunction } from \"../utils/utils\";\nimport { BaseList, ListKind } from \"./shared\";\n\n@Component({\n  components: { TooltipBtn, EditIngredient, AssociationIngredient, Toolbar },\n  props: {\n    kind: {\n      type: String as () => ListKind,\n      default: \"idIngredient\"\n    }\n  }\n})\nexport default class ListeIngredients extends BaseList {\n  confirmeSupprime = false;\n\n  showEditIngredient = false;\n  editMode: EditMode = \"new\";\n  editedIngredient: IngredientOptions = {\n    ingredient: { ...DefautIngredient, id: -1 }\n  };\n\n  showEditProduits = false;\n\n  search = \"\";\n\n  $refs!: {\n    list: HTMLElement;\n  };\n\n  private subtitle(ingredient: IngredientOptions) {\n    if (ingredient.options) {\n      return `${ingredient.options.quantite} <i>${\n        ingredient.ingredient.unite\n      }</i> - Cuisson : ${ingredient.options.cuisson || \"-\"}`;\n    }\n    return `<i>${ingredient.ingredient.unite}</i>`;\n  }\n\n  private get title() {\n    if (this.state.mode == \"editMenu\" || this.state.mode == \"editRecette\") {\n      return \"Choisir un ingrédient\";\n    }\n    if (this.state.selection.idRecette != null) {\n      return \"Ingrédients liés à la recette\";\n    } else if (this.state.selection.idMenu != null) {\n      return \"Ingrédients liés au menu\";\n    }\n    return \"Tous les ingrédients\";\n  }\n\n  private get editedIngredientProduit() {\n    if (this.state.selection.idIngredient == null) return null;\n    return C.getIngredient(this.state.selection.idIngredient);\n  }\n\n  // filtre suivant la recherche\n  private searchIngredients(ingredients: IngredientOptions[], search: string) {\n    const predicat = searchFunction(search);\n    // cas spécial pour l'unité\n    return ingredients\n      .filter(ing => {\n        return search == ing.ingredient.unite || predicat(ing.ingredient.nom);\n      })\n      .sort((a, b) => Number(a.ingredient.nom < b.ingredient.nom));\n  }\n\n  private get ingredients() {\n    let baseIngredients: IngredientOptions[];\n    if (this.state.mode == \"editMenu\" || this.state.mode == \"editRecette\") {\n      baseIngredients = C.getAllIngredients();\n    } else if (this.state.selection.idRecette != null) {\n      baseIngredients = C.getRecetteIngredients(this.state.selection.idRecette);\n    } else if (this.state.selection.idMenu != null) {\n      baseIngredients = C.getMenuIngredients(this.state.selection.idMenu);\n    } else {\n      baseIngredients = C.getAllIngredients();\n    }\n    return this.searchIngredients(baseIngredients, this.search);\n  }\n\n  private showActions(active: boolean) {\n    return (\n      this.state.selection.idMenu == null &&\n      this.state.selection.idRecette == null &&\n      active\n    );\n  }\n\n  private async supprime(checkProduits: boolean) {\n    this.confirmeSupprime = false;\n    if (this.state.selection.idIngredient == null) return;\n    await C.data.deleteIngredient(\n      this.state.selection.idIngredient,\n      checkProduits\n    );\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Ingrédient supprimé avec succès.\");\n    }\n  }\n\n  private onDragStart(event: DragEvent, ingredient: Ingredient) {\n    if (!event.dataTransfer) return;\n    event.dataTransfer.setData(\"id-ingredient\", String(ingredient.id));\n    event.dataTransfer.effectAllowed = \"copy\";\n  }\n\n  private startEditIngredient(ing: IngredientOptions) {\n    this.$emit(\"change\", ing);\n    this.editedIngredient = ing;\n    this.editMode = \"edit\";\n    this.showEditIngredient = true;\n  }\n\n  private async editIngredientDone(ing: Ingredient) {\n    this.showEditIngredient = false;\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      ing = (await C.data.updateIngredient(ing)) as Ingredient;\n      message = \"L'ingrédient a été modifié avec succès.\";\n    } else {\n      ing = (await C.data.createIngredient(ing)) as Ingredient;\n      message = \"L'ingrédient a été ajouté avec succès.\";\n    }\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n      this.state.selection.idIngredient = ing.id;\n    }\n    this.$emit(\"change\", null);\n  }\n\n  private startCreateIngredient() {\n    this.$emit(\"change\", { ingredient: DefautIngredient });\n    this.editMode = \"new\";\n    this.showEditIngredient = true;\n  }\n\n  private startEditProduits(ingredient: IngredientOptions) {\n    this.showEditProduits = true;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeIngredients.vue?vue&type=template&id=3bfc1be3&\"\nimport script from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('menu-or-recette-ingredient',{ref:\"editIngredient\",attrs:{\"ingredient\":_vm.editedIngredient},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"check-outline\",\"tooltip\":\"Valider\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('done', _vm.menu)}}}),_c('tooltip-btn',{attrs:{\"mdi-icon\":\"undo\",\"tooltip\":\"Abandonner les modifications\"},on:{\"click\":function($event){return _vm.$emit('undo')}}})],1)],1),_c('v-textarea',{staticClass:\"pa-2 mt-4 my-3 mb-0\",attrs:{\"label\":\"Commentaire\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(_vm.menu.commentaire),callback:function ($$v) {_vm.$set(_vm.menu, \"commentaire\", $$v)},expression:\"menu.commentaire\"}}),_c('v-list',{staticClass:\"mt-0 pt-0 overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":\"60vh\"}},[_c('div',{on:{\"dragover\":_vm.onDragoverRecettes,\"drop\":_vm.onDropRecette}},[_c('v-subheader',[_vm._v(\"Recettes du menu\")]),(_vm.recettes.length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter une recette...\")])])],1):_vm._e(),_vm._l((_vm.recettes),function(recette){return _c('v-list-item',{key:recette.id,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){return [_c('v-list-item-content',[_c('v-list-item-title',[_c('v-list-item-title',[_vm._v(_vm._s(recette.nom))])],1),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatRecetteProprietaire(recette)))])])],1),_c('v-list-item-action',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cette recette du menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeRecette(recette)}}})],1)]}}],null,true)})})],2),_c('div',{on:{\"dragover\":_vm.onDragoverIngredients,\"drop\":_vm.onDropIngredient}},[_c('v-subheader',[_vm._v(\"Ingrédients additionnels\")]),((_vm.menu.ingredients || []).length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter un ingrédient...\")])])],1):_vm._e(),_vm._l((_vm.menu.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.id_ingredient,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){return [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.getIngredient(ingredient).nom)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(ingredient.quantite)+\" \"),_c('i',[_vm._v(_vm._s(_vm.getIngredient(ingredient).unite))]),_vm._v(\" - Cuisson : \"+_vm._s(ingredient.cuisson)+\" \")])],1),_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier les détails...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cet ingrédient du menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeIngredient(ingredient)}}})],1)],1)],1)]}}],null,true)})})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('edit', _vm.current)}}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails de l'ingrédient \")]),_c('v-card-text',[_c('v-form',[_c('v-row',[_c('v-col',[_c('v-text-field',{ref:\"quantite\",attrs:{\"label\":\"Quantité\",\"hint\":\"Quantité désirée pour 1 personne.\",\"type\":\"number\"},model:{value:(_vm.current.quantite),callback:function ($$v) {_vm.$set(_vm.current, \"quantite\", _vm._n($$v))},expression:\"current.quantite\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":[],\"label\":\"Cuisson\"},model:{value:(_vm.current.cuisson),callback:function ($$v) {_vm.$set(_vm.current, \"cuisson\", $$v)},expression:\"current.cuisson\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('edit', _vm.current)}}},[_vm._v(\"Valider\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { RecetteIngredient } from \"../../logic/types\";\nimport { Watch } from \"vue-property-decorator\";\nimport { deepcopy } from \"../../logic/types2\";\n\nconst MenuOrRecetteIngredientProps = Vue.extend({\n  props: {\n    ingredient: Object as () => RecetteIngredient\n  }\n});\n\n@Component({})\nexport default class MenuOrRecetteIngredient extends MenuOrRecetteIngredientProps {\n  current: RecetteIngredient = deepcopy(this.ingredient);\n\n  @Watch(\"ingredient\")\n  onPropChange() {\n    this.current = deepcopy(this.ingredient);\n  }\n\n  $refs!: {\n    quantite: Vue;\n  };\n\n  focus() {\n    const input = this.$refs.quantite.$el.querySelector(\"input\");\n    if (input != null) input.select();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MenuOrRecetteIngredient.vue?vue&type=template&id=0c691b92&scoped=true&\"\nimport script from \"./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c691b92\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport MenuOrRecetteIngredient from \"./MenuOrRecetteIngredient.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport {\n  Menu,\n  Recette,\n  MenuIngredient,\n  RecetteIngredient\n} from \"../../logic/types\";\nimport { New, EditMode, deepcopy } from \"../../logic/types2\";\nimport { Watch } from \"vue-property-decorator\";\nconst EditMenuProps = Vue.extend({\n  props: {\n    mode: String as () => EditMode,\n    initialMenu: Object as () => New<Menu>\n  }\n});\n\n@Component({\n  components: { TooltipBtn, MenuOrRecetteIngredient }\n})\nexport default class EditMenu extends EditMenuProps {\n  // menu actuellement édité\n  menu: New<Menu> = deepcopy(this.initialMenu);\n\n  showEditIngredient = false;\n  editedIngredient: MenuIngredient | null = null;\n\n  $refs!: {\n    editIngredient: MenuOrRecetteIngredient;\n  };\n\n  @Watch(\"initialMenu\")\n  onMenuChange() {\n    this.menu = deepcopy(this.initialMenu);\n  }\n\n  get title() {\n    if (this.mode == \"edit\") {\n      return \"Modifier le menu\";\n    }\n    return \"Ajouter un menu\";\n  }\n\n  // résoud les recettes à partir des ids\n  get recettes() {\n    return C.getMenuRecettes(this.menu);\n  }\n\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  getIngredient(ing: MenuIngredient) {\n    return (C.data.ingredients || {})[ing.id_ingredient];\n  }\n\n  removeRecette(toRemove: Recette) {\n    this.menu.recettes = (this.menu.recettes || []).filter(\n      rec => rec.id_recette != toRemove.id\n    );\n  }\n\n  editIngredient(ing: MenuIngredient) {\n    this.editedIngredient = ing;\n    this.showEditIngredient = true;\n  }\n\n  editIngredientDone(edited: MenuIngredient) {\n    const ings = this.menu.ingredients;\n    if (ings == null) return;\n    ings.forEach((ing, index) => {\n      if (ing.id_ingredient == edited.id_ingredient) {\n        this.$set(ings, index, edited);\n      }\n    });\n    this.showEditIngredient = false;\n  }\n\n  removeIngredient(toRemove: MenuIngredient) {\n    this.menu.ingredients = (this.menu.ingredients || []).filter(\n      ing => ing.id_ingredient != toRemove.id_ingredient\n    );\n  }\n\n  onDragoverRecettes(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isRecette = event.dataTransfer.types.includes(\"id-recette\");\n    if (isRecette) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropRecette(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idRecette = Number(event.dataTransfer.getData(\"id-recette\"));\n    const recettes = this.menu.recettes || [];\n    const hasRecette =\n      recettes.filter(r => r.id_recette == idRecette).length > 0;\n    if (hasRecette) return;\n    recettes.push({ id_menu: this.menu.id || -1, id_recette: idRecette });\n    this.menu.recettes = recettes;\n  }\n\n  onDragoverIngredients(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isIngredient = event.dataTransfer.types.includes(\"id-ingredient\");\n    if (isIngredient) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropIngredient(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idIngredient = Number(event.dataTransfer.getData(\"id-ingredient\"));\n    const ingredients = this.menu.ingredients || [];\n    const matchingIngredients = ingredients.filter(\n      r => r.id_ingredient == idIngredient\n    );\n    let newIngredient: MenuIngredient;\n    if (matchingIngredients.length > 0) {\n      newIngredient = matchingIngredients[0];\n    } else {\n      newIngredient = {\n        id_menu: this.menu.id || -1,\n        id_ingredient: idIngredient,\n        quantite: 0,\n        cuisson: \"\"\n      };\n      ingredients.push(newIngredient);\n      this.menu.ingredients = ingredients;\n    }\n    this.editedIngredient = newIngredient;\n    this.showEditIngredient = true;\n  }\n\n  @Watch(\"showEditIngredient\")\n  onEditIngredient(b: boolean) {\n    if (b) {\n      setTimeout(() => {\n        const ed = this.$refs.editIngredient;\n        if (ed) ed.focus();\n      }, 50);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=ts&\"","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./EditMenu.vue?vue&type=template&id=72688d49&scoped=true&\"\nimport script from \"./EditMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72688d49\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VSubheader,VTextarea,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('menu-or-recette-ingredient',{ref:\"editIngredient\",attrs:{\"ingredient\":_vm.editedIngredient},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"check-outline\",\"tooltip\":\"Valider\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('done', _vm.recette)}}}),_c('tooltip-btn',{attrs:{\"mdi-icon\":\"undo\",\"tooltip\":\"Abandonner les modifications\"},on:{\"click\":function($event){return _vm.$emit('undo')}}})],1)],1),_c('v-row',{staticClass:\"px-2\"},[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Nom de la recette\",\"required\":\"\"},model:{value:(_vm.recette.nom),callback:function ($$v) {_vm.$set(_vm.recette, \"nom\", $$v)},expression:\"recette.nom\"}}),_c('v-textarea',{attrs:{\"label\":\"Mode d'emploi\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(_vm.recette.mode_emploi),callback:function ($$v) {_vm.$set(_vm.recette, \"mode_emploi\", $$v)},expression:\"recette.mode_emploi\"}})],1),_c('v-col',[_c('v-list',{staticClass:\"mt-0 pt-0 overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":\"60vh\"}},[_c('div',{on:{\"dragover\":_vm.onDragoverIngredients,\"drop\":_vm.onDropIngredient}},[_c('v-subheader',[_vm._v(\"Ingrédients\")]),((_vm.recette.ingredients || []).length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter un ingrédient...\")])])],1):_vm._e(),_vm._l((_vm.recette.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.id_ingredient,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){return [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.getIngredient(ingredient).nom)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(ingredient.quantite)+\" \"),_c('i',[_vm._v(_vm._s(_vm.getIngredient(ingredient).unite))]),_vm._v(\" - Cuisson : \"+_vm._s(ingredient.cuisson)+\" \")])],1),_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier les détails...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cet ingrédient de la recette\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeIngredient(ingredient)}}})],1)],1)],1)]}}],null,true)})})],2)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport MenuOrRecetteIngredient from \"./MenuOrRecetteIngredient.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Recette, RecetteIngredient } from \"../../logic/types\";\nimport { New, EditMode, deepcopy } from \"../../logic/types2\";\nimport { Watch } from \"vue-property-decorator\";\nconst EditRecetteProps = Vue.extend({\n  props: {\n    mode: String as () => EditMode,\n    initialRecette: Object as () => Recette\n  }\n});\n\n@Component({\n  components: { TooltipBtn, MenuOrRecetteIngredient }\n})\nexport default class EditRecette extends EditRecetteProps {\n  // recette actuellement éditée\n  recette: Recette = deepcopy(this.initialRecette);\n\n  showEditIngredient = false;\n  editedIngredient: RecetteIngredient | null = null;\n\n  $refs!: {\n    editIngredient: MenuOrRecetteIngredient;\n  };\n\n  @Watch(\"initialRecette\")\n  onRecetteChange() {\n    this.recette = deepcopy(this.initialRecette);\n  }\n\n  get title() {\n    if (this.mode == \"edit\") {\n      return \"Modifier la recette\";\n    }\n    return \"Ajouter une recette\";\n  }\n\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  getIngredient(ing: RecetteIngredient) {\n    return (C.data.ingredients || {})[ing.id_ingredient];\n  }\n\n  editIngredient(ing: RecetteIngredient) {\n    this.editedIngredient = ing;\n    this.showEditIngredient = true;\n  }\n\n  editIngredientDone(edited: RecetteIngredient) {\n    const ings = this.recette.ingredients;\n    if (ings == null) return;\n    ings.forEach((ing, index) => {\n      if (ing.id_ingredient == edited.id_ingredient) {\n        this.$set(ings, index, edited);\n      }\n    });\n    this.showEditIngredient = false;\n  }\n\n  removeIngredient(toRemove: RecetteIngredient) {\n    this.recette.ingredients = (this.recette.ingredients || []).filter(\n      ing => ing.id_ingredient != toRemove.id_ingredient\n    );\n  }\n\n  onDragoverIngredients(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isIngredient = event.dataTransfer.types.includes(\"id-ingredient\");\n    if (isIngredient) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropIngredient(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idIngredient = Number(event.dataTransfer.getData(\"id-ingredient\"));\n    const ingredients = this.recette.ingredients || [];\n    const matchingIngredients = ingredients.filter(\n      r => r.id_ingredient == idIngredient\n    );\n    let newIngredient: RecetteIngredient;\n    if (matchingIngredients.length > 0) {\n      newIngredient = matchingIngredients[0];\n    } else {\n      newIngredient = {\n        id_recette: this.recette.id,\n        id_ingredient: idIngredient,\n        quantite: 0,\n        cuisson: \"\"\n      };\n      ingredients.push(newIngredient);\n      this.recette.ingredients = ingredients;\n    }\n    this.editedIngredient = newIngredient;\n    this.showEditIngredient = true;\n  }\n\n  // permet de donner le focus automatiquement\n  @Watch(\"showEditIngredient\")\n  onEditIngredient(b: boolean) {\n    if (b) {\n      setTimeout(() => {\n        const ed = this.$refs.editIngredient;\n        if (ed) ed.focus();\n      }, 50);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRecette.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRecette.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditRecette.vue?vue&type=template&id=05f36bb8&scoped=true&\"\nimport script from \"./EditRecette.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditRecette.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05f36bb8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VSubheader,VTextField,VTextarea,VToolbar,VToolbarItems,VToolbarTitle})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\nimport Vue from \"vue\";\nimport ListeMenus from \"../components/menus/ListeMenus.vue\";\nimport ListeRecettes from \"../components/menus/ListeRecettes.vue\";\nimport ListeIngredients from \"../components/menus/ListeIngredients.vue\";\nimport EditMenu from \"../components/menus/EditMenu.vue\";\nimport EditRecette from \"../components/menus/EditRecette.vue\";\nimport { C } from \"../logic/controller\";\nimport { Menu, Recette, Ingredient } from \"../logic/types\";\nimport { IngredientOptions, EditMode, New, deepcopy } from \"../logic/types2\";\nimport {\n  StateMenus,\n  DefautRecette,\n  DefautMenu\n} from \"../components/menus/types\";\nimport { Watch } from \"vue-property-decorator\";\n\n@Component({\n  components: {\n    ListeMenus,\n    ListeRecettes,\n    ListeIngredients,\n    EditMenu,\n    EditRecette\n  }\n})\nexport default class Menus extends Vue {\n  state: StateMenus = {\n    mode: \"visu\",\n    selection: { idMenu: null, idRecette: null, idIngredient: null }\n  };\n\n  editMode: EditMode = \"new\"; // s'applique au menu, recette ou ingrédient\n\n  // ces champs vont être mis à jour avant édition\n  editedMenu: New<Menu> = DefautMenu;\n  editedRecette: New<Recette> = DefautRecette;\n\n  $refs!: {\n    listeMenus: ListeMenus;\n    listeRecettes: ListeRecettes;\n    listeIngredients: ListeIngredients;\n  };\n\n  async mounted() {\n    await C.data.loadAllMenus();\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\n        \"Les menus, recettes et ingrédients ont bien été chargés.\"\n      );\n    }\n    this.selectIngredient();\n  }\n\n  activated() {\n    if (C.notifications.getSpin()) {\n      return; // données en cours de chargement\n    }\n    this.selectIngredient();\n  }\n\n  private selectIngredient() {\n    const idIngredient = Number(this.$route.query[\"idIngredient\"]);\n    if (idIngredient) {\n      this.state.mode = \"visu\";\n      // pour afficher tout les ingrédients\n      this.state.selection.idRecette = null;\n      this.state.selection.idMenu = null;\n      this.$refs.listeIngredients.goToItem(idIngredient);\n    }\n  }\n\n  startEditMenu(menu: Menu) {\n    this.editedMenu = menu;\n    this.state.selection.idMenu = menu.id;\n    this.state.mode = \"editMenu\";\n    this.editMode = \"edit\";\n  }\n\n  startCreateMenu() {\n    if (C.idUtilisateur == null) return;\n    const newMenu: Menu = { ...deepcopy(DefautMenu), id: -1 };\n    newMenu.id_proprietaire.Int64 = C.idUtilisateur;\n    this.editedMenu = newMenu;\n    this.editMode = \"new\";\n    this.state.mode = \"editMenu\";\n  }\n\n  editMenuCancel() {\n    this.state.mode = \"visu\";\n  }\n\n  async editMenuDone(menu: Menu) {\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      menu = (await C.data.updateMenu(menu)) as Menu;\n      message = \"Le menu a bien été mis à jour.\";\n    } else {\n      menu = (await C.data.createMenu(menu)) as Menu;\n      message = \"Le menu a bien été ajouté.\";\n    }\n    this.state.mode = \"visu\";\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n      this.$nextTick(() => {\n        this.$refs.listeMenus.goToItem(menu.id);\n      });\n    }\n  }\n\n  startEditRecette(recette: Recette) {\n    this.editedRecette = recette;\n    // this.state.selection.idRecette = recette.id;\n    this.editMode = \"edit\";\n    this.state.mode = \"editRecette\";\n  }\n\n  startCreateRecette() {\n    if (C.idUtilisateur == null) return;\n    const newRecette: Recette = { ...deepcopy(DefautRecette), id: -1 };\n    newRecette.id_proprietaire.Int64 = C.idUtilisateur;\n    this.editedRecette = newRecette;\n    this.editMode = \"new\";\n    this.state.mode = \"editRecette\";\n  }\n  editRecetteCancel() {\n    this.state.mode = \"visu\";\n  }\n\n  async editRecetteDone(recette: Recette) {\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      recette = (await C.data.updateRecette(recette)) as Recette;\n      message = \"La recette a bien été mise à jour.\";\n    } else {\n      recette = (await C.data.createRecette(recette)) as Recette;\n      message = \"La recette a bien été ajoutée.\";\n    }\n    this.state.mode = \"visu\";\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n      this.$refs.listeRecettes.goToItem(recette.id);\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Menus.vue?vue&type=template&id=7a6e5d3e&\"\nimport script from \"./Menus.vue?vue&type=script&lang=ts&\"\nexport * from \"./Menus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VRow})\n"],"sourceRoot":""}