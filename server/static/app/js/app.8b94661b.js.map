{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/logic/notifications.ts","webpack:///./src/logic/data.ts","webpack:///./src/logic/calculs.ts","webpack:///./src/logic/loggin.ts","webpack:///./src/logic/controller.ts","webpack:///./src/components/utils/TooltipBtn.vue?2547","webpack:///./src/components/utils/TooltipBtn.vue","webpack:///./src/components/utils/TooltipBtn.vue?297e","webpack:///./src/components/utils/TooltipBtn.vue?aab6","webpack:///./src/logic/formatter.ts","webpack:///./src/components/utils/enums.ts","webpack:///./src/App.vue?2321","webpack:///./src/components/ErrorDialog.vue?8992","webpack:///./src/components/ErrorDialog.vue","webpack:///./src/components/ErrorDialog.vue?409e","webpack:///./src/components/ErrorDialog.vue?6857","webpack:///./src/components/SuccessSnackbar.vue?36fc","webpack:///./src/components/SuccessSnackbar.vue","webpack:///./src/components/SuccessSnackbar.vue?e9ea","webpack:///./src/components/SuccessSnackbar.vue?bdd1","webpack:///./src/components/SpinnerSnackbar.vue?1f30","webpack:///./src/components/SpinnerSnackbar.vue","webpack:///./src/components/SpinnerSnackbar.vue?ffd7","webpack:///./src/components/SpinnerSnackbar.vue?f0a0","webpack:///./src/components/NavigationBar.vue?cc4b","webpack:///./src/views/Agenda.vue?4b63","webpack:///./src/components/sejours/Calendar.vue?cfdb","webpack:///./src/components/sejours/FormSejour.vue?9bf0","webpack:///./src/components/utils/DateField.vue?4334","webpack:///./src/components/utils/DateField.vue","webpack:///./src/components/utils/DateField.vue?5270","webpack:///./src/components/utils/DateField.vue?54bf","webpack:///./src/components/sejours/FormSejour.vue","webpack:///./src/components/sejours/FormSejour.vue?2acd","webpack:///./src/components/sejours/FormSejour.vue?cee8","webpack:///./src/components/sejours/FormRepas.vue?9dbc","webpack:///./src/components/sejours/ListeIngredients.vue?fee2","webpack:///./src/components/sejours/ListeIngredients.vue","webpack:///./src/components/sejours/ListeIngredients.vue?640b","webpack:///./src/components/sejours/ListeIngredients.vue?9b1b","webpack:///./src/components/sejours/FormRepas.vue","webpack:///./src/components/sejours/FormRepas.vue?2872","webpack:///./src/components/sejours/FormRepas.vue?b47d","webpack:///./src/components/sejours/FormPreferences.vue?9284","webpack:///./src/components/sejours/FormPreferences.vue","webpack:///./src/components/sejours/FormPreferences.vue?989b","webpack:///./src/components/sejours/FormPreferences.vue?90ec","webpack:///./src/components/sejours/FormCalcul.vue?dd2c","webpack:///./src/components/sejours/SelectSejour.vue?6c3c","webpack:///./src/components/sejours/SelectSejour.vue","webpack:///./src/components/sejours/SelectSejour.vue?a5d6","webpack:///./src/components/sejours/SelectSejour.vue?6858","webpack:///./src/components/sejours/DateIngredients.vue?78db","webpack:///./src/components/sejours/DateIngredients.vue","webpack:///./src/components/sejours/DateIngredients.vue?af70","webpack:///./src/components/sejours/DateIngredients.vue?9d80","webpack:///./src/components/sejours/FormCalcul.vue","webpack:///./src/components/sejours/FormCalcul.vue?7dfb","webpack:///./src/components/sejours/FormCalcul.vue?e3cf","webpack:///./src/components/sejours/Calendar.vue?1671","webpack:///./src/components/sejours/Calendar.vue?50ac","webpack:///./src/components/sejours/Calendar.vue?686e","webpack:///./src/views/Agenda.vue","webpack:///./src/views/Agenda.vue?e6e3","webpack:///./src/views/Agenda.vue?d445","webpack:///./src/router/index.ts","webpack:///./src/components/NavigationBar.vue","webpack:///./src/components/NavigationBar.vue?2a0b","webpack:///./src/components/NavigationBar.vue?c1c8","webpack:///./src/views/Loggin.vue?3e70","webpack:///./src/views/Loggin.vue","webpack:///./src/views/Loggin.vue?9766","webpack:///./src/views/Loggin.vue?d5a2","webpack:///./src/App.vue","webpack:///./src/App.vue?31c5","webpack:///./src/App.vue?68bd","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/assets/logo.png","webpack:///./src/components/sejours/Calendar.vue?0fdd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","arrayBufferToString","buffer","uintArray","Uint8Array","encodedString","String","fromCharCode","Array","from","decodeURIComponent","escape","spin","this","kind","messageHtml","response","status","json","JSON","parse","parseAxiosError","devMode","host","location","origin","ServerURL","controller","agenda","sejours","ingredients","recettes","menus","utilisateurs","loadUtilisateurs","notifications","startSpin","a","auth","token","setAxiosError","loadIngredients","createOrUpdateIngredient","ing","method","f","put","post","set","ingredient","id","createIngredient","updateIngredient","deleteIngredient","checkProduits","delete","params","check_produits","loadRecettes","createOrUpdateRecette","recette","createRecette","updateRecette","deleteRecette","loadMenus","createOrUpdateMenu","menu","createMenu","updateMenu","deleteMenu","loadAgenda","createOrUpdateSejour","sejour","entry","journees","createSejour","updateSejour","deleteSejour","createRepas","repas","updateManyRepas","repass","deleteRepas","idSejour","setError","jour","dateDebut","Date","date_debut","offset","Math","ceil","valueOf","toLocaleDateString","nom","to","getSejour","offsetTo","getOffset","offsetFrom","menusFrom","menusTo","forEach","jour_offset","modifs","concat","getError","setMessage","horaire","id_sejour","idRepas","nbPersonnes","id_repas","nb_personnes","resoudIngredients","jourOffsets","idUtilisateur","erreur","utilisateur","prenom_nom","isLoggedIn","calculs","formatter","logger","username","password","values","map","rec","id_recette","id_ingredient","options","item","id_proprietaire","Valid","Int64","fn","journee","C","render","_vm","_h","$createElement","_c","_self","attrs","scopedSlots","_u","ref","on","_g","disabled","$emit","color","_v","_s","mdiIcon","domProps","tooltip","staticRenderFns","Props","extend","props","default","Boolean","component","VBtn","VIcon","VTooltip","Months","Formatter","formatRepasName","id_menu","menuName","formatMenuName","recs","getMenuRecettes","join","formatMenuOrRecetteProprietaire","prop","getMenuOrRecetteProprietaire","setDate","getDate","heure","substr","minute","dateString","year","month","Number","day","v","toFixed","UnitePiece","Unites","text","Horaires","staticClass","mainTitle","version","logout","model","callback","$$v","show","expression","subTitle","b","VCard","VCardText","VCardTitle","VCol","VDialog","VRow","currentTime","$event","datetime","min","getMinutes","getHours","getMessage","VSnackbar","getSpin","VProgressLinear","menuMini","_l","route","path","meta","icon","title","_e","showPreferences","preferences","showEditFormSejour","getInitialCurrentSejour","onEditSejourDone","showEditFormRepas","editedRepas","editMode","onEditRepasDone","showConfirmeSupprime","getCurrentSejour","supprimeSejour","showFormCalcul","currentSejour","_n","firstInterval","intervalCount","intervalMinutes","intervalHeight","intervalStyle","startWeek1","weekdays","events","getEventColor","registerTime","startAddRepas","style","fontWeight","dataRepas","stopPropagation","startEditRepas","date","onDragover","onDrop","proxy","startWeek2","$set","showDate","currentDate","label","maxDate","save","isoDate","formatDate","$refs","menuDatePicker","toDateObject","setFullYear","getFullYear","toISOString","VDatePicker","VMenu","VTextField","initialSejour","stringify","components","DateField","VCardActions","VForm","VSpacer","showPrevisuIngredients","loadingIngredients","listeIngredients","horaires","horaireFormatted","formatQuantite","quantite","unite","ListeIngredientsProps","VSimpleTable","initialRepas","resoudIngredientsRepas","date_ingredients","horaireToTime","TooltipBtn","ListeIngredients","VAutocomplete","VSelect","VSkeletonLoader","onChange","current","VSwitch","dateIngredients","height","offsetToDate","valid","calcul","args","SelectSejourProps","items","sort","DateIngredientsProps","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","FormCalculProps","resoudIngredientsSejour","res","resoudIngredientsJournees","offsets","keys","k","SelectSejour","DateIngredients","VCheckbox","_days","_colors","weekdaysFromStart","start","d0","getDay","timeToHoraire","time","getEventStart","lastClickedTime","restrictSejourCourant","startPremierJour","sejourColor","onDragStart","arg","dataTransfer","setData","effectAllowed","L","index","sortedSejours","findIndex","sej","interval","debutSejour","backgroundColor","opacity","setupDrag","now","computeDistance","diff","abs","criteres","distance","best","htmlEl","weeks","querySelectorAll","parentElement","draggable","ondragstart","dataset","ondragover","ondrop","isRepas","types","includes","isDay","preventDefault","dropEffect","getData","currentTarget","onDropRepas","onDropJournee","targetTime","deplaceRepas","ev","MouseEvent","view","bubbles","cancelable","clientX","clientY","dispatchEvent","currentTry","afterClick","jobDropRepas","customDiv","querySelector","dateFrom","dateTo","isNaN","getTime","switchDays","newSejour","modif","editSejour","addSejour","dt","newRepas","repasFull","startDate","out","restrict","iterateAllRepas","FormSejour","FormRepas","FormPreferences","FormCalcul","VCalendar","VDivider","VToolbar","VToolbarItems","VToolbarTitle","loadAllMenus","calendar","setClosestSejour","Calendar","VContainer","use","routes","router","VAvatar","VImg","VLayout","VList","VListItem","VListItemAction","VListItemContent","VNavigationDrawer","nativeOn","indexOf","_k","keyCode","loggin","formValid","rules","required","mail","showPassword","loading","patternMail","test","currentPath","$router","currentRoute","VFadeTransition","$route","getPageTitle","updatePageTitle","ErrorDialog","SuccessSnackbar","SpinnerSnackbar","NavigationBar","Loggin","VApp","VAppBar","VContent","theme","themes","light","primary","secondary","config","productionTip","ignoreWarnMessage","warnHandler","msg","vm","trace","vuetify","h","$mount"],"mappings":"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","file":"js/app.8b94661b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"menus\":\"menus\"}[chunkId]||chunkId) + \".\" + {\"menus\":\"10966444\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"menus\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"menus\":\"menus\"}[chunkId]||chunkId) + \".\" + {\"menus\":\"45dbf25a\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/app/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export interface Error {\n  code: number | null;\n  kind: string;\n  messageHtml: string;\n}\n\nfunction arrayBufferToString(buffer: ArrayBuffer) {\n  const uintArray = new Uint8Array(buffer);\n  const encodedString = String.fromCharCode.apply(null, Array.from(uintArray));\n  return decodeURIComponent(escape(encodedString));\n}\n\n// Contient les données nécessaires aux notifications\n// (erreurs ou succès)\nexport class Notifications {\n  private error: Error | null = null;\n  private message: string | null = null;\n  private spin: boolean = false;\n\n  getError() {\n    return this.error;\n  }\n\n  getMessage() {\n    return this.message;\n  }\n\n  getSpin() {\n    return this.spin;\n  }\n\n  startSpin() {\n    this.spin = true;\n  }\n\n  setMessage(message: string | null) {\n    this.spin = false;\n    this.message = message;\n  }\n\n  setError(error: Error | null) {\n    this.spin = false;\n    this.error = error;\n  }\n\n  private parseAxiosError(error: any): Error {\n    let kind: string,\n      messageHtml: string,\n      code = null;\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      // that falls out of the range of 2xx\n      kind = `Erreur côté serveur`;\n      code = error.response.status;\n\n      messageHtml = error.response.data.message;\n      if (!messageHtml) {\n        try {\n          const json = arrayBufferToString(error.response.data);\n          messageHtml = JSON.parse(json).message;\n        } catch (error) {\n          messageHtml = `Le format d'erreur du serveur n'a pu être décodé.<br/>\n        Détails : <i>${error}</i>`;\n        }\n      }\n    } else if (error.request) {\n      // The request was made but no response was received\n      // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n      // http.ClientRequest in node.js\n      kind = \"Aucune réponse du serveur\";\n      messageHtml =\n        \"La requête a bien été envoyée, mais le serveur n'a donné aucune réponse...\";\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      kind = \"Erreur du client\";\n      messageHtml = `La requête n'a pu être mise en place. <br/>\n                  Détails :  ${error.message} `;\n    }\n    return { kind, messageHtml, code };\n  }\n\n  setAxiosError(error: any) {\n    this.error = this.parseAxiosError(error);\n    this.spin = false;\n  }\n}\n","import {\n  AgendaUtilisateur,\n  OutUtilisateurs,\n  OutIngredients,\n  Ingredient,\n  OutIngredient,\n  OutRecettes,\n  Recette,\n  OutRecette,\n  OutMenus,\n  Menu,\n  OutMenu,\n  OutAgenda,\n  Sejour,\n  OutSejour,\n  Repas,\n  Horaire\n} from \"./types\";\nimport axios, { AxiosResponse } from \"axios\";\nimport { Ingredients, Recettes, Menus, Utilisateurs, New } from \"./types2\";\n\nimport { Controller } from \"./controller\";\nimport Vue from \"vue\";\n\nexport const devMode = process.env.NODE_ENV != \"production\";\nconst host = devMode ? \"http://localhost:1323\" : window.location.origin;\nexport const ServerURL = host + \"/api\";\n\nexport class Data {\n  agenda: AgendaUtilisateur = { sejours: {} };\n  ingredients: Ingredients = {};\n  recettes: Recettes = {};\n  menus: Menus = {};\n  utilisateurs: Utilisateurs = {};\n\n  private controller: Controller;\n\n  constructor(controller: Controller) {\n    this.controller = controller;\n  }\n\n  async loadAllMenus() {\n    await Promise.all([this.loadIngredients(), this.loadUtilisateurs()]);\n    await this.loadRecettes(); // recettes dépend des ingrédients\n    await this.loadMenus(); // menus dépends des recettes, ingrédients et utilisateurs\n  }\n\n  loadUtilisateurs = async () => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutUtilisateurs> = await axios.get(\n        ServerURL + \"/utilisateurs\",\n        {\n          auth: this.controller.auth()\n        }\n      );\n      this.controller.token = response.data.token;\n      this.utilisateurs = response.data.utilisateurs;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  loadIngredients = async () => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutIngredients> = await axios.get(\n        ServerURL + \"/ingredients\",\n        {\n          auth: this.controller.auth()\n        }\n      );\n      this.controller.token = response.data.token;\n      this.ingredients = response.data.ingredients;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  private createOrUpdateIngredient = async (\n    ing: New<Ingredient>,\n    method: \"put\" | \"post\"\n  ) => {\n    this.controller.notifications.startSpin();\n    const f = method == \"put\" ? axios.put : axios.post;\n    try {\n      const response: AxiosResponse<OutIngredient> = await f(\n        ServerURL + \"/ingredients\",\n        ing,\n        {\n          auth: this.controller.auth()\n        }\n      );\n      Vue.set(\n        this.ingredients,\n        response.data.ingredient.id,\n        response.data.ingredient\n      ); // VRC\n      this.controller.token = response.data.token;\n\n      return response.data.ingredient;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  createIngredient = async (ing: New<Ingredient>) => {\n    return this.createOrUpdateIngredient(ing, \"put\");\n  };\n\n  updateIngredient = async (ing: Ingredient) => {\n    return this.createOrUpdateIngredient(ing, \"post\");\n  };\n\n  deleteIngredient = async (ing: Ingredient, checkProduits: boolean) => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutIngredients> = await axios.delete(\n        ServerURL + \"/ingredients\",\n        {\n          params: { id: ing.id, check_produits: checkProduits ? \"check\" : \"\" },\n          auth: this.controller.auth()\n        }\n      );\n      this.ingredients = response.data.ingredients;\n      this.controller.token = response.data.token;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  loadRecettes = async () => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutRecettes> = await axios.get(\n        ServerURL + \"/recettes\",\n        {\n          auth: this.controller.auth()\n        }\n      );\n      this.controller.token = response.data.token;\n      this.recettes = response.data.recettes;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  private createOrUpdateRecette = async (\n    recette: New<Recette>,\n    method: \"put\" | \"post\"\n  ) => {\n    this.controller.notifications.startSpin();\n    const f = method == \"put\" ? axios.put : axios.post;\n    try {\n      const response: AxiosResponse<OutRecette> = await f(\n        ServerURL + \"/recettes\",\n        recette,\n        {\n          auth: this.controller.auth()\n        }\n      );\n      Vue.set(this.recettes, response.data.recette.id, response.data.recette); // VRC\n      this.controller.token = response.data.token;\n\n      return response.data.recette;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  createRecette = async (recette: New<Recette>) => {\n    return this.createOrUpdateRecette(recette, \"put\");\n  };\n\n  updateRecette = async (recette: Recette) => {\n    return this.createOrUpdateRecette(recette, \"post\");\n  };\n\n  deleteRecette = async (recette: Recette) => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutRecettes> = await axios.delete(\n        ServerURL + \"/recettes\",\n        {\n          params: { id: recette.id },\n          auth: this.controller.auth()\n        }\n      );\n      this.recettes = response.data.recettes;\n      this.controller.token = response.data.token;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  loadMenus = async () => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutMenus> = await axios.get(\n        ServerURL + \"/menus\",\n        {\n          auth: this.controller.auth()\n        }\n      );\n      this.controller.token = response.data.token;\n      this.menus = response.data.menus;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  private createOrUpdateMenu = async (\n    menu: New<Menu>,\n    method: \"put\" | \"post\"\n  ) => {\n    this.controller.notifications.startSpin();\n    const f = method == \"put\" ? axios.put : axios.post;\n    try {\n      const response: AxiosResponse<OutMenu> = await f(\n        ServerURL + \"/menus\",\n        menu,\n        {\n          auth: this.controller.auth()\n        }\n      );\n      Vue.set(this.menus, response.data.menu.id, response.data.menu); // VRC\n      this.controller.token = response.data.token;\n\n      return response.data.menu;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  createMenu = async (menu: New<Menu>) => {\n    return this.createOrUpdateMenu(menu, \"put\");\n  };\n\n  updateMenu = async (menu: Menu) => {\n    return this.createOrUpdateMenu(menu, \"post\");\n  };\n\n  deleteMenu = async (menu: Menu) => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutMenus> = await axios.delete(\n        ServerURL + \"/menus\",\n        {\n          params: { id: menu.id },\n          auth: this.controller.auth()\n        }\n      );\n      this.menus = response.data.menus;\n      this.controller.token = response.data.token;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  loadAgenda = async () => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutAgenda> = await axios.get(\n        ServerURL + \"/agenda\",\n        {\n          auth: this.controller.auth()\n        }\n      );\n      this.controller.token = response.data.token;\n      this.agenda = response.data.agenda;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  private createOrUpdateSejour = async (\n    sejour: New<Sejour>,\n    method: \"put\" | \"post\"\n  ) => {\n    this.controller.notifications.startSpin();\n    const f = method == \"put\" ? axios.put : axios.post;\n    try {\n      const response: AxiosResponse<OutSejour> = await f(\n        ServerURL + \"/sejours\",\n        sejour,\n        {\n          auth: this.controller.auth()\n        }\n      );\n      const entry = this.agenda.sejours[response.data.sejour.id] || {\n        journees: [],\n        sejour: response.data.sejour\n      };\n      entry.sejour = response.data.sejour;\n      Vue.set(this.agenda.sejours, response.data.sejour.id, entry); // VRC\n      this.controller.token = response.data.token;\n      return response.data.sejour;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  createSejour = async (sejour: New<Sejour>) => {\n    return this.createOrUpdateSejour(sejour, \"put\");\n  };\n\n  updateSejour = async (sejour: Sejour) => {\n    return this.createOrUpdateSejour(sejour, \"post\");\n  };\n\n  deleteSejour = async (sejour: Sejour) => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutAgenda> = await axios.delete(\n        ServerURL + \"/sejours\",\n        {\n          params: { id: sejour.id },\n          auth: this.controller.auth()\n        }\n      );\n      this.agenda = response.data.agenda;\n      this.controller.token = response.data.token;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  createRepas = async (repas: New<Repas>) => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutAgenda> = await axios.put(\n        ServerURL + \"/sejours/repas\",\n        repas,\n        {\n          auth: this.controller.auth()\n        }\n      );\n      this.agenda = response.data.agenda;\n      this.controller.token = response.data.token;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  updateManyRepas = async (repass: Repas[]) => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutAgenda> = await axios.post(\n        ServerURL + \"/sejours/repas\",\n        repass,\n        {\n          auth: this.controller.auth()\n        }\n      );\n      this.agenda = response.data.agenda;\n      this.controller.token = response.data.token;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  deleteRepas = async (repas: Repas) => {\n    this.controller.notifications.startSpin();\n    try {\n      const response: AxiosResponse<OutAgenda> = await axios.delete(\n        ServerURL + \"/sejours/repas\",\n        {\n          params: { id: repas.id },\n          auth: this.controller.auth()\n        }\n      );\n      this.agenda = response.data.agenda;\n      this.controller.token = response.data.token;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  };\n\n  // gère l'erreur d'un séjour introuvable\n  private getSejour(idSejour: number) {\n    const sejour = this.agenda.sejours[idSejour];\n    if (!sejour) {\n      this.controller.notifications.setError({\n        code: null,\n        kind: \"Séjour introuvable\",\n        messageHtml: `Le séjour concerné (id ${idSejour}) est <i>introuvable<i> <br/>\n              Il s'agit probablement d'une erreur de synchronisation avec le serveur. <br/>\n              Pour la corriger, merci de <b>recharger la page</b>.`\n      });\n    }\n    return sejour;\n  }\n\n  // vérifie que la date est après le début du séjour et gère l'erreur\n  // si la date est valide, renvoie l'offset correspondant\n  getOffset(sejour: Sejour, jour: Date) {\n    const dateDebut = new Date(sejour.date_debut);\n    if (jour < dateDebut) {\n      // invalide\n      this.controller.notifications.setError({\n        code: null,\n        kind: \"Jour invalide\",\n        messageHtml: `La date ciblée (${jour.toLocaleDateString()}) est <i>antérieure</i> au début du séjour.<br/>\n                    Si vous souhaitez déplacer un repas sur cette journée, \n                    veuillez d'abord <b>modifier la date de début</b> du séjour <b>${\n                      sejour.nom\n                    }</b>`\n      });\n      return;\n    }\n    const offset = Math.ceil(\n      (jour.valueOf() - dateDebut.valueOf()) / (1000 * 60 * 60 * 24)\n    );\n    return offset;\n  }\n\n  // échange les deux journées, en modifiant les dates\n  // des repas concernés pour le séjour donné.\n  async switchDays(idSejour: number, from: Date, to: Date) {\n    const sejour = this.getSejour(idSejour);\n    if (!sejour) return;\n    const offsetTo = this.getOffset(sejour.sejour, to);\n    if (offsetTo === undefined) return;\n    const offsetFrom = this.getOffset(sejour.sejour, from);\n    if (offsetFrom === undefined) return;\n    if (offsetFrom == offsetTo) return;\n    const menusFrom =\n      (sejour.journees[offsetFrom] || { menus: [] }).menus || [];\n    const menusTo = (sejour.journees[offsetTo] || { menus: [] }).menus || [];\n    menusFrom.forEach(m => (m.jour_offset = offsetTo));\n    menusTo.forEach(m => (m.jour_offset = offsetFrom));\n    const modifs = menusFrom.concat(menusTo);\n    if (modifs.length === 0) return;\n    await this.updateManyRepas(modifs);\n    if (this.controller.notifications.getError() === null) {\n      this.controller.notifications.setMessage(\n        \"Les journées ont étés échangées avec succès.\"\n      );\n    }\n  }\n\n  // modifie le moment du repas\n  async deplaceRepas(repas: Repas, jour: Date, horaire: Horaire) {\n    const sejour = this.getSejour(repas.id_sejour);\n    if (!sejour) return;\n    const offset = this.getOffset(sejour.sejour, jour);\n    if (offset === undefined) return;\n    repas.jour_offset = offset;\n    repas.horaire = horaire;\n    await this.updateManyRepas([repas]);\n    if (this.controller.notifications.getError() === null) {\n      this.controller.notifications.setMessage(\n        \"Le repas a été déplacé avec succès.\"\n      );\n    }\n  }\n}\n","import { Controller } from \"./controller\";\nimport axios, { AxiosResponse } from \"axios\";\nimport { ServerURL } from \"./data\";\nimport { OutResoudIngredients, InResoudIngredients } from \"./types\";\n\nexport class Calculs {\n  private controller: Controller;\n\n  constructor(controller: Controller) {\n    this.controller = controller;\n  }\n\n  private async resoudIngredients(params: InResoudIngredients) {\n    try {\n      const response: AxiosResponse<OutResoudIngredients> = await axios.post(\n        ServerURL + \"/resolution\",\n        params,\n        {\n          auth: this.controller.auth()\n        }\n      );\n      this.controller.token = response.data.token;\n      return response.data;\n    } catch (error) {\n      this.controller.notifications.setAxiosError(error);\n    }\n  }\n\n  resoudIngredientsRepas(idRepas: number, nbPersonnes?: number) {\n    const params: InResoudIngredients = {\n      mode: \"repas\",\n      id_repas: idRepas,\n      nb_personnes: nbPersonnes == undefined ? -1 : nbPersonnes,\n      id_sejour: -1, // ignoré\n      jour_offset: [] // ignoré\n    };\n    return this.resoudIngredients(params);\n  }\n\n  resoudIngredientsSejour(idSejour: number) {\n    const params: InResoudIngredients = {\n      mode: \"journees\",\n      id_repas: -1, // ignoré\n      nb_personnes: -1, // ignoré\n      id_sejour: idSejour,\n      jour_offset: null // tout le séjour\n    };\n    return this.resoudIngredients(params);\n  }\n\n  resoudIngredientsJournees(idSejour: number, jourOffsets: number[]) {\n    const params: InResoudIngredients = {\n      mode: \"journees\",\n      id_repas: -1, // ignoré\n      nb_personnes: -1, // ignoré\n      id_sejour: idSejour,\n      jour_offset: jourOffsets // tout le séjour\n    };\n    return this.resoudIngredients(params);\n  }\n}\n","import { Controller } from \"./controller\";\nimport Cookie from \"js-cookie\";\nimport { OutLoggin, InLoggin } from \"./types\";\nimport axios, { AxiosResponse } from \"axios\";\nimport { ServerURL } from \"./data\";\n\nexport class Loggin {\n  private readonly controller: Controller;\n\n  constructor(c: Controller) {\n    this.controller = c;\n  }\n\n  private checkCookies() {\n    const token = Cookie.get(\"token\");\n    const idUtilisateur = Cookie.get(\"id_utilisateur\");\n    if (token == undefined || idUtilisateur == undefined) {\n      return null;\n    }\n    return { token, idUtilisateur };\n  }\n\n  // renvoie un message d'erreur ou la chaine vide\n  // si le mot de passe est correct.\n  async loggin(params: InLoggin) {\n    try {\n      const response: AxiosResponse<OutLoggin> = await axios.post(\n        ServerURL + \"/loggin\",\n        params\n      );\n      if (response.data.erreur != \"\") {\n        return response.data.erreur;\n      }\n      this.controller.token = response.data.token;\n      this.controller.idUtilisateur = response.data.utilisateur.id;\n      this.controller.notifications.setMessage(\n        `Connecté sous le nom de <b>${response.data.utilisateur.prenom_nom}</b>`\n      );\n      this.controller.isLoggedIn = true;\n    } catch (error) {\n      return this.controller.notifications.setAxiosError(error);\n    }\n  }\n\n  logout() {\n    this.controller.isLoggedIn = false;\n    // TODO: cookies\n  }\n}\n","import { Menu, Recette, Sejour, Repas } from \"./types\";\nimport { Notifications } from \"./notifications\";\nimport { Calculs } from \"./calculs\";\nimport { Data, devMode } from \"./data\";\nimport { IngredientOptions } from \"./types2\";\nimport { Formatter } from \"./formatter\";\nimport { Loggin as Logger } from \"./loggin\";\n\nexport class Controller {\n  readonly data: Data;\n  readonly notifications: Notifications;\n  readonly calculs: Calculs;\n  readonly formatter: Formatter;\n  readonly logger: Logger;\n\n  isLoggedIn = devMode; // en dev mode, connection automatique\n\n  token: string = \"\";\n  idUtilisateur: number | null = devMode ? 2 : null;\n\n  constructor() {\n    this.data = new Data(this);\n    this.notifications = new Notifications();\n    this.calculs = new Calculs(this);\n    this.formatter = new Formatter(this);\n    this.logger = new Logger(this);\n  }\n\n  auth() {\n    return {\n      username: String(this.idUtilisateur || \"\"),\n      password: this.token\n    };\n  }\n\n  getAllIngredients(): IngredientOptions[] {\n    return Object.values(this.data.ingredients).map(ing => {\n      return { ingredient: ing };\n    });\n  }\n\n  getMenuRecettes(menu: Menu) {\n    return (menu.recettes || []).map(rec => this.data.recettes[rec.id_recette]);\n  }\n\n  getMenuIngredients(menu: Menu): IngredientOptions[] {\n    return (menu.ingredients || []).map(ing => {\n      return {\n        ingredient: this.data.ingredients[ing.id_ingredient],\n        options: ing\n      };\n    });\n  }\n\n  getMenuOrRecetteProprietaire(item: Menu | Recette) {\n    if (!item.id_proprietaire.Valid) return null;\n    return this.data.utilisateurs[item.id_proprietaire.Int64];\n  }\n\n  getRecetteIngredients(rec: Recette): IngredientOptions[] {\n    return (rec.ingredients || []).map(ing => {\n      return {\n        ingredient: this.data.ingredients[ing.id_ingredient],\n        options: ing\n      };\n    });\n  }\n\n  iterateAllRepas(fn: (sejour: Sejour, rep: Repas) => void) {\n    Object.values(this.data.agenda.sejours).forEach(sejour => {\n      Object.values(sejour.journees).forEach(journee => {\n        if (!journee.menus) return;\n        journee.menus.forEach(repas => {\n          fn(sejour.sejour, repas);\n        });\n      });\n    });\n  }\n}\n\n// Object principal de stockage des données\n// sur le client.\n// Une instance de cet objet est créé au chargement,\n// puis partagée entre les différents composants.\n// Le système de réactivité de vuejs permet de propager\n// facilement les changements effectués aux données.\n// Ce composant est responsable de la comunication avec le serveur.\nexport const C = new Controller();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"disabled\":_vm.disabled,\"icon\":\"\"},on:{\"click\":function (e) { return _vm.$emit('click', e); }}},on),[_c('v-icon',{attrs:{\"color\":_vm.color}},[_vm._v(\"mdi-\"+_vm._s(_vm.mdiIcon))])],1)]}}])},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.tooltip)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nconst Props = Vue.extend({\n  props: {\n    // Date as string\n    tooltip: String,\n    mdiIcon: String,\n    color: {\n      type: String,\n      default: \"black\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  }\n});\n\n@Component\nexport default class TooltipBtn extends Props {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipBtn.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipBtn.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TooltipBtn.vue?vue&type=template&id=76a68e5e&\"\nimport script from \"./TooltipBtn.vue?vue&type=script&lang=ts&\"\nexport * from \"./TooltipBtn.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VTooltip})\n","import { Controller } from \"./controller\";\nimport { Repas, Menu, Recette, Horaire } from \"./types\";\n\nconst Months = [\n  \"Janvier\",\n  \"Février\",\n  \"Mars\",\n  \"Avril\",\n  \"Mai\",\n  \"Juin\",\n  \"Juillet\",\n  \"Août\",\n  \"Septembre\",\n  \"Octobre\",\n  \"Novembre\",\n  \"Décembre\"\n];\n\nexport class Formatter {\n  private controller: Controller;\n\n  constructor(controller: Controller) {\n    this.controller = controller;\n  }\n\n  formatRepasName = (r: Repas) => {\n    const menu = this.controller.data.menus[r.id_menu];\n    const menuName = menu ? this.formatMenuName(menu) : \"\";\n    return ` (${r.nb_personnes}) - ${menuName}`;\n  };\n\n  formatMenuName = (menu: Menu) => {\n    const recs = this.controller.getMenuRecettes(menu);\n    if (recs.length == 0) return `(${menu.id})`;\n    return recs.map(rec => rec.nom || \"\").join(\", \");\n  };\n\n  formatMenuOrRecetteProprietaire = (item: Menu | Recette) => {\n    const prop = this.controller.getMenuOrRecetteProprietaire(item);\n    if (prop == null) {\n      return \"public\";\n    } else if (prop.id == this.controller.idUtilisateur) {\n      return \"vous appartient\";\n    }\n    return `appartient à ${prop.prenom_nom}`;\n  };\n\n  offsetToDate(idSejour: number, offset: number) {\n    const sejour = this.controller.data.agenda.sejours[idSejour].sejour;\n    const dateDebut = new Date(sejour.date_debut);\n    dateDebut.setDate(dateDebut.getDate() + offset);\n    return dateDebut;\n  }\n\n  static horaireToTime(horaire: Horaire) {\n    return (\n      (\"00\" + horaire.heure).substr(-2, 2) +\n      \":\" +\n      (\"00\" + horaire.minute).substr(-2, 2)\n    );\n  }\n\n  static formatDate(dateString: Time) {\n    dateString = dateString || \"\";\n    if (dateString.length < 10 || dateString.substr(0, 10) == \"0001-01-01\") {\n      return null;\n    }\n    const year = dateString.substr(0, 4);\n    const month = Number(dateString.substr(5, 2));\n    const day = dateString.substr(8, 2);\n    return `${day} ${Months[month - 1]} ${year}`;\n  }\n\n  static formatQuantite(v: number) {\n    return v.toFixed(2);\n  }\n}\n","import { Horaire } from \"@/logic/types\";\n\nexport const UnitePiece = \"P\";\n\nexport const Unites = [\n  { text: \"Litres\", value: \"L\" },\n  { text: \"Kilos\", value: \"Kg\" },\n  { text: \"Pièces\", value: UnitePiece }\n];\n\nexport const Horaires: {\n  text: string;\n  value: Horaire;\n}[] = [\n  { text: \"Petit déjeuner\", value: { heure: 8, minute: 0 } },\n  { text: \"Midi\", value: { heure: 12, minute: 15 } },\n  { text: \"Goûter\", value: { heure: 16, minute: 30 } },\n  { text: \"Diner\", value: { heure: 19, minute: 0 } },\n  { text: \"Cinquième\", value: { heure: 21, minute: 30 } }\n];\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dense\":_vm.isLoggedIn}},[_c('v-toolbar-title',{staticClass:\"headline text-uppercase\"},[_c('v-tooltip',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({},on),[_vm._v(_vm._s(_vm.mainTitle))])]}}])},[_vm._v(\" Version \"+_vm._s(_vm.version)+\" \")])],1)],1),_c('navigation-bar',{attrs:{\"is-logged-in\":_vm.isLoggedIn},on:{\"logout\":_vm.logout}}),_c('v-content',[(_vm.isLoggedIn)?_c('keep-alive',[_c('router-view')],1):_c('loggin'),_c('spinner-snackbar'),_c('error-dialog'),_c('success-snackbar')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"title error\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"7\"}},[_vm._v(_vm._s(_vm.mainTitle))]),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"5\"}},[_c('small',[_vm._v(_vm._s(_vm.subTitle))])])],1)],1),_c('v-card-text',{staticClass:\"pa-3\"},[_c('div',{staticClass:\"subtitle-2\",domProps:{\"innerHTML\":_vm._s(_vm.message)}})])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { C } from \"../logic/controller\";\n\n@Component\nexport default class ErrorDialog extends Vue {\n  get show() {\n    return C.notifications.getError() != null;\n  }\n\n  set show(b: boolean) {\n    if (!b) {\n      C.notifications.setError(null);\n    }\n  }\n\n  get mainTitle() {\n    const err = C.notifications.getError();\n    if (err == null) return \"\";\n    return err.kind;\n  }\n\n  get subTitle() {\n    const err = C.notifications.getError();\n    if (err && err.code != null) {\n      return `code ${err.code}`;\n    }\n    return \"\";\n  }\n\n  get message() {\n    const err = C.notifications.getError() || { messageHtml: \"\" };\n    return err.messageHtml;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ErrorDialog.vue?vue&type=template&id=23fba18d&\"\nimport script from \"./ErrorDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ErrorDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VCol,VDialog,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-snackbar',{attrs:{\"bottom\":\"\",\"right\":\"\",\"timeout\":6000,\"color\":\"success\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"2\",\"align-self\":\"center\"}},[_c('i',[_vm._v(\"(\"+_vm._s(_vm.currentTime())+\")\")])]),_c('v-col',{attrs:{\"cols\":\"9\",\"align-self\":\"center\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.message)}})]),_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"mx-0\",attrs:{\"color\":\"black\",\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.show = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { C } from \"../logic/controller\";\n\n@Component\nexport default class SuccessSnackbar extends Vue {\n  get show() {\n    return C.notifications.getMessage() != null;\n  }\n\n  set show(b: boolean) {\n    if (!b) {\n      C.notifications.setMessage(null);\n    }\n  }\n\n  get message() {\n    return C.notifications.getMessage();\n  }\n\n  currentTime() {\n    const datetime = new Date();\n    const min = (\"00\" + datetime.getMinutes()).substr(-2, 2);\n    return `${datetime.getHours()}:${min}`;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuccessSnackbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuccessSnackbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SuccessSnackbar.vue?vue&type=template&id=56821776&\"\nimport script from \"./SuccessSnackbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./SuccessSnackbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCol,VIcon,VRow,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-snackbar',{attrs:{\"bottom\":\"\",\"right\":\"\",\"timeout\":0},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('i',[_vm._v(\"Mise à jour...\")]),_c('v-progress-linear',{attrs:{\"color\":\"orange\",\"indeterminate\":\"\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { C } from \"../logic/controller\";\n\n@Component\nexport default class SpinnerSnackbar extends Vue {\n  get show() {\n    return C.notifications.getSpin();\n  }\n\n  set show(b: boolean) {}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpinnerSnackbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpinnerSnackbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpinnerSnackbar.vue?vue&type=template&id=da7a1984&\"\nimport script from \"./SpinnerSnackbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpinnerSnackbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VProgressLinear,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoggedIn)?_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"mini-variant\":_vm.menuMini,\"permanent\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"row\":\"\"}},[_c('v-avatar',{attrs:{\"size\":\"50\"},on:{\"click\":function($event){_vm.menuMini = !_vm.menuMini}}},[_c('v-img',{attrs:{\"margin\":\"auto\",\"src\":require('@/assets/logo.png')}})],1)],1),_c('v-list',[_vm._l((_vm.routes),function(route){return _c('v-list-item',{key:route.name,attrs:{\"router\":\"\",\"to\":route.path}},[_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-list-item-action',_vm._g({},on),[_c('v-icon',[_vm._v(_vm._s(route.meta.icon))])],1)]}}],null,true)},[_vm._v(\" \"+_vm._s(route.meta.tooltip)+\" \")]),_c('v-list-item-content',[_vm._v(_vm._s(route.meta.title))])],1)}),_c('v-divider'),_c('v-list-item',{on:{\"click\":function($event){return _vm.$emit('logout')}}},[_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-list-item-action',_vm._g({},on),[_c('v-icon',[_vm._v(\"mdi-logout\")])],1)]}}],null,false,449162385)},[_vm._v(\" Se déconnecter \")]),_c('v-list-item-content',[_vm._v(\"Se déconnecter\")])],1)],2)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('calendar',{ref:\"calendar\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"weeks\",staticClass:\"two-weeks-calendar\"},[_c('v-dialog',{attrs:{\"max-width\":\"800\"},model:{value:(_vm.showPreferences),callback:function ($$v) {_vm.showPreferences=$$v},expression:\"showPreferences\"}},[_c('form-preferences',{model:{value:(_vm.preferences),callback:function ($$v) {_vm.preferences=$$v},expression:\"preferences\"}})],1),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.showEditFormSejour),callback:function ($$v) {_vm.showEditFormSejour=$$v},expression:\"showEditFormSejour\"}},[_c('form-sejour',{attrs:{\"initialSejour\":_vm.getInitialCurrentSejour()},on:{\"accept\":_vm.onEditSejourDone}})],1),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.showEditFormRepas),callback:function ($$v) {_vm.showEditFormRepas=$$v},expression:\"showEditFormRepas\"}},[_c('form-repas',{attrs:{\"initialRepas\":_vm.editedRepas,\"mode\":_vm.editMode},on:{\"accept\":_vm.onEditRepasDone,\"delete\":_vm.deleteRepas}})],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showConfirmeSupprime),callback:function ($$v) {_vm.showConfirmeSupprime=$$v},expression:\"showConfirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression du séjour \"),_c('b',[_vm._v(_vm._s((_vm.getCurrentSejour() || {}).nom))]),_vm._v(\" ? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprimeSejour}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"600px\"},model:{value:(_vm.showFormCalcul),callback:function ($$v) {_vm.showFormCalcul=$$v},expression:\"showFormCalcul\"}},[_c('form-calcul',{attrs:{\"initial-sejour\":_vm.currentSejour}})],1),_c('v-toolbar',{staticClass:\"calendar-toolbar mb-1\"},[_c('v-toolbar-title',[_vm._v(\"Séjours\")]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"tooltip\":\"Calculer les ingrédients nécessaires...\",\"mdi-icon\":\"food-variant\"},on:{\"click\":function($event){_vm.showFormCalcul = true}}}),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('tooltip-btn',{attrs:{\"tooltip\":\"Ajouter un séjour...\",\"mdi-icon\":\"shape-rectangle-plus\"},on:{\"click\":function($event){_vm.editMode = 'new';\n          _vm.showEditFormSejour = true;}}}),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('select-sejour',{attrs:{\"label\":\"Séjour actif\"},model:{value:(_vm.currentSejour),callback:function ($$v) {_vm.currentSejour=_vm._n($$v)},expression:\"currentSejour\"}}),_c('tooltip-btn',{attrs:{\"disabled\":!_vm.currentSejour,\"tooltip\":\"Modifier les paramètres du séjour...\",\"mdi-icon\":\"pencil\"},on:{\"click\":function($event){_vm.editMode = 'edit';\n          _vm.showEditFormSejour = true;}}}),_c('tooltip-btn',{attrs:{\"disabled\":!_vm.currentSejour,\"tooltip\":\"Supprimer le séjour...\",\"mdi-icon\":\"close\",\"color\":\"red\"},on:{\"click\":function($event){_vm.showConfirmeSupprime = true}}}),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('tooltip-btn',{attrs:{\"tooltip\":\"Préférences d'affichage...\",\"mdi-icon\":\"settings\"},on:{\"click\":function($event){_vm.showPreferences = true}}})],1)],1),_c('v-calendar',{attrs:{\"type\":\"week\",\"locale\":\"fr\",\"event-height\":22,\"short-weekdays\":false,\"first-interval\":_vm.firstInterval,\"interval-count\":_vm.intervalCount,\"interval-minutes\":_vm.intervalMinutes,\"interval-height\":_vm.intervalHeight,\"interval-style\":_vm.intervalStyle,\"start\":_vm.startWeek1,\"weekdays\":_vm.weekdays,\"events\":_vm.events,\"event-color\":_vm.getEventColor},on:{\"mousedown:time\":_vm.registerTime,\"click:time\":_vm.startAddRepas},scopedSlots:_vm._u([{key:\"event\",fn:function(ref){\n          var event = ref.event;\nreturn [_c('div',{style:({\n          fontWeight: event.repas.id_sejour == _vm.currentSejour ? 'bold' : ''\n        }),attrs:{\"data-repas\":event.dataRepas},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditRepas(event.repas)}}},[_vm._v(\" \"+_vm._s(event.name)+\" \")])]}},{key:\"day-header\",fn:function(ref){\n        var date = ref.date;\nreturn [_c('div',{attrs:{\"data-day\":date}})]}},{key:\"interval\",fn:function(){return [_c('div',{staticClass:\"dragover\",on:{\"dragover\":function (e) { return _vm.onDragover(e, 'repas'); },\"drop\":function (e) { return _vm.onDrop(e, 'repas'); }}})]},proxy:true}])}),_c('v-calendar',{staticClass:\"mt-1\",attrs:{\"type\":\"week\",\"locale\":\"fr\",\"event-height\":22,\"short-weekdays\":false,\"first-interval\":_vm.firstInterval,\"interval-count\":_vm.intervalCount,\"interval-minutes\":_vm.intervalMinutes,\"interval-height\":_vm.intervalHeight,\"interval-style\":_vm.intervalStyle,\"start\":_vm.startWeek2,\"weekdays\":_vm.weekdays,\"events\":_vm.events,\"event-color\":_vm.getEventColor},on:{\"mousedown:time\":_vm.registerTime,\"click:time\":_vm.startAddRepas},scopedSlots:_vm._u([{key:\"event\",fn:function(ref){\n        var event = ref.event;\nreturn [_c('div',{style:({\n          fontWeight: event.repas.id_sejour == _vm.currentSejour ? 'bold' : ''\n        }),attrs:{\"data-repas\":event.dataRepas},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditRepas(event.repas)}}},[_vm._v(\" \"+_vm._s(event.name)+\" \")])]}},{key:\"day-header\",fn:function(ref){\n        var date = ref.date;\nreturn [_c('div',{attrs:{\"data-day\":date}})]}},{key:\"interval\",fn:function(){return [_c('div',{staticClass:\"dragover\",on:{\"dragover\":function (e) { return _vm.onDragover(e, 'repas'); },\"drop\":function (e) { return _vm.onDrop(e, 'repas'); }}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails du séjour \")]),_c('v-card-text',[_c('v-form',[_c('v-text-field',{attrs:{\"label\":\"Nom du séjour\",\"required\":\"\"},model:{value:(_vm.sejour.nom),callback:function ($$v) {_vm.$set(_vm.sejour, \"nom\", $$v)},expression:\"sejour.nom\"}}),_c('date-field',{attrs:{\"label\":\"Date du premier jour\"},model:{value:(_vm.sejour.date_debut),callback:function ($$v) {_vm.$set(_vm.sejour, \"date_debut\", $$v)},expression:\"sejour.date_debut\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('accept', _vm.sejour)}}},[_vm._v(\"Enregistrer\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{ref:\"menuDatePicker\",attrs:{\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"readonly\":\"\",\"value\":_vm.showDate(_vm.currentDate),\"label\":_vm.label,\"disabled\":_vm.disabled}},on))]}}])},[_c('v-date-picker',{ref:\"datePicker\",attrs:{\"locale\":\"fr-fr\",\"no-title\":\"\",\"max\":_vm.maxDate,\"full-width\":\"\"},on:{\"change\":_vm.save},model:{value:(_vm.isoDate),callback:function ($$v) {_vm.isoDate=$$v},expression:\"isoDate\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Watch, Model } from \"vue-property-decorator\";\nimport { C } from \"../../logic/controller\";\nimport { Formatter } from \"../../logic/formatter\";\n\nconst Props = Vue.extend({\n  model: {\n    prop: \"currentDate\",\n    event: \"dateChanged\"\n  },\n  props: {\n    // Date as string\n    currentDate: String,\n    label: String,\n    disabled: Boolean\n  }\n});\n\n@Component\nexport default class DateField extends Props {\n  isoDate = \"\";\n\n  showDate = Formatter.formatDate;\n  toDateObject(date: string | any) {\n    if (!date) return null;\n    return date + \"T00:00:00Z\";\n  }\n  save(date: string) {\n    (this.$refs.menuDatePicker as any).save(date);\n  }\n  get maxDate() {\n    var d = new Date();\n    d.setFullYear(d.getFullYear() + 3);\n    return d.toISOString().substr(0, 10);\n  }\n\n  @Watch(\"isoDate\")\n  onIsoDateChanged() {\n    const currentDate = this.toDateObject(this.isoDate);\n    this.$emit(\"dateChanged\", currentDate);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DateField.vue?vue&type=template&id=0eaec3ec&\"\nimport script from \"./DateField.vue?vue&type=script&lang=ts&\"\nexport * from \"./DateField.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VDatePicker,VMenu,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Sejour, SejourJournees } from \"../../logic/types\";\nimport { New, DetailsSejour } from \"../../logic/types2\";\nimport DateField from \"../utils/DateField.vue\";\nimport { Watch } from \"vue-property-decorator\";\n\nconst Props = Vue.extend({\n  props: {\n    initialSejour: Object as () => Sejour\n  }\n});\n\n@Component({\n  components: { DateField }\n})\nexport default class FormSejour extends Props {\n  sejour: DetailsSejour = JSON.parse(JSON.stringify(this.initialSejour));\n\n  @Watch(\"initialSejour\")\n  onPropChange() {\n    this.sejour = JSON.parse(JSON.stringify(this.initialSejour));\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSejour.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSejour.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormSejour.vue?vue&type=template&id=016b3672&\"\nimport script from \"./FormSejour.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormSejour.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VForm,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"600px\"},model:{value:(_vm.showPrevisuIngredients),callback:function ($$v) {_vm.showPrevisuIngredients=$$v},expression:\"showPrevisuIngredients\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"card\",\"loading\":_vm.loadingIngredients}},[_c('v-card',{staticClass:\"py-2\"},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(\" Ingrédients pour \"+_vm._s(_vm.repas.nb_personnes)+\" personne\"+_vm._s(_vm.repas.nb_personnes > 1 ? \"s\" : \"\")+\" \")])]),_c('div',{attrs:{\"height\":\"50vh\"}},[_c('liste-ingredients',{attrs:{\"ingredients\":_vm.listeIngredients}})],1)],1)],1)],1),_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails du repas \"),_c('v-spacer'),_c('div',[(_vm.sejour)?_c('small',[_vm._v(\"Sejour : \"+_vm._s(_vm.sejour.nom)+\" \")]):_vm._e()])],1),_c('v-card-text',[_c('v-form',[_c('v-text-field',{attrs:{\"label\":\"Nombre de personnes\",\"type\":\"number\"},model:{value:(_vm.repas.nb_personnes),callback:function ($$v) {_vm.$set(_vm.repas, \"nb_personnes\", _vm._n($$v))},expression:\"repas.nb_personnes\"}}),_c('v-autocomplete',{attrs:{\"label\":\"Menu\",\"items\":_vm.menus},model:{value:(_vm.repas.id_menu),callback:function ($$v) {_vm.$set(_vm.repas, \"id_menu\", $$v)},expression:\"repas.id_menu\"}}),_c('v-select',{attrs:{\"items\":_vm.horaires,\"label\":\"Horaire\",\"placeholder\":_vm.horaireFormatted},model:{value:(_vm.repas.horaire),callback:function ($$v) {_vm.$set(_vm.repas, \"horaire\", $$v)},expression:\"repas.horaire\"}})],1)],1),_c('v-card-actions',[(_vm.mode == 'edit')?_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.$emit('delete', _vm.repas)}}},[_vm._v(\"Supprimer\")]):_vm._e(),_c('v-spacer'),(_vm.mode == 'edit')?_c('tooltip-btn',{attrs:{\"mdi-icon\":\"food-variant\",\"tooltip\":\"Calculer les <b>ingrédients</b> nécessaires au repas...\"},on:{\"click\":_vm.resoudIngredients}}):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('accept', _vm.repas)}}},[_vm._v(_vm._s(_vm.mode == \"edit\" ? \"Enregistrer\" : \"Ajouter\"))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-simple-table',{attrs:{\"dense\":\"\",\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\"Ingrédient\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Quantité\")])])]),_c('tbody',_vm._l((_vm.ingredients),function(ingredient){return _c('tr',{key:ingredient.ingredient.id},[_c('td',[_vm._v(_vm._s(ingredient.ingredient.nom))]),_c('td',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.formatQuantite(ingredient.quantite))+\" \"),_c('i',{staticClass:\"grey--text\"},[_vm._v(_vm._s(ingredient.ingredient.unite))])])])}),0)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { IngredientQuantite } from \"../../logic/types\";\nimport { Formatter } from \"../../logic/formatter\";\n\nconst ListeIngredientsProps = Vue.extend({\n  props: {\n    ingredients: Array as () => IngredientQuantite[]\n  }\n});\n@Component({})\nexport default class ListeIngredients extends ListeIngredientsProps {\n  formatQuantite = Formatter.formatQuantite;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeIngredients.vue?vue&type=template&id=3369e99c&scoped=true&\"\nimport script from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3369e99c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VSimpleTable})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport {\n  Repas,\n  DateIngredientQuantites,\n  IngredientQuantite\n} from \"../../logic/types\";\nimport { New, DetailsRepas, EditMode } from \"../../logic/types2\";\nimport DateField from \"../utils/DateField.vue\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport ListeIngredients from \"./ListeIngredients.vue\";\nimport { C } from \"../../logic/controller\";\nimport { Watch } from \"vue-property-decorator\";\nimport { Horaires } from \"../utils/enums\";\nimport { Formatter } from \"../../logic/formatter\";\n\nconst Props = Vue.extend({\n  props: {\n    initialRepas: Object as () => Repas,\n    mode: String as () => EditMode\n  }\n});\n\n@Component({\n  components: { DateField, TooltipBtn, ListeIngredients }\n})\nexport default class FormRepas extends Props {\n  repas: DetailsRepas = JSON.parse(JSON.stringify(this.initialRepas));\n\n  horaires = Horaires;\n\n  showPrevisuIngredients = false;\n  loadingIngredients = true;\n  listeIngredients: IngredientQuantite[] = [];\n\n  @Watch(\"initialRepas\")\n  onPropChange() {\n    this.repas = JSON.parse(JSON.stringify(this.initialRepas));\n  }\n\n  get sejour() {\n    return C.data.agenda.sejours[this.initialRepas.id_sejour].sejour;\n  }\n\n  get menus() {\n    return Object.values(C.data.menus).map(menu => {\n      return { text: C.formatter.formatMenuName(menu), value: menu.id };\n    });\n  }\n\n  get horaireFormatted() {\n    const horaire = this.repas.horaire;\n    return `(Personnalisé) - ${Formatter.horaireToTime(horaire)}`;\n  }\n\n  async resoudIngredients() {\n    this.loadingIngredients = true;\n    this.showPrevisuIngredients = true;\n    const data = await C.calculs.resoudIngredientsRepas(\n      this.initialRepas.id,\n      this.repas.nb_personnes\n    );\n    if (data == undefined || data.date_ingredients == null) return;\n    this.listeIngredients = data.date_ingredients[0].ingredients || [];\n    this.loadingIngredients = false;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormRepas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormRepas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormRepas.vue?vue&type=template&id=29b8e3d0&\"\nimport script from \"./FormRepas.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormRepas.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VForm,VSelect,VSkeletonLoader,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Préférences \")]),_c('v-card-text',[_c('v-switch',{attrs:{\"label\":\"Se restreindre au séjour courant\",\"persistent-hint\":\"\",\"hint\":\"N'afficher que le séjour actuellement sélectionné.\"},on:{\"change\":_vm.onChange},model:{value:(_vm.current.restrictSejourCourant),callback:function ($$v) {_vm.$set(_vm.current, \"restrictSejourCourant\", $$v)},expression:\"current.restrictSejourCourant\"}}),_c('v-switch',{attrs:{\"label\":\"Afficher le premier jour en tête de semaine\",\"persistent-hint\":\"\",\"hint\":\"Le premier jour affiché est ajusté, au lieu d'être Lundi.\"},on:{\"change\":_vm.onChange},model:{value:(_vm.current.startPremierJour),callback:function ($$v) {_vm.$set(_vm.current, \"startPremierJour\", $$v)},expression:\"current.startPremierJour\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { PreferencesAgenda } from \"../../logic/types2\";\n\nconst Props = Vue.extend({\n  model: {\n    prop: \"preferences\",\n    event: \"change\"\n  },\n  props: {\n    // Date as string\n    preferences: Object as () => PreferencesAgenda\n  }\n});\n\n@Component({})\nexport default class FormPre extends Props {\n  current = JSON.parse(JSON.stringify(this.preferences));\n\n  onChange() {\n    this.$emit(\"change\", this.current);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPreferences.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPreferences.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormPreferences.vue?vue&type=template&id=5e187759&\"\nimport script from \"./FormPreferences.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormPreferences.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"700px\"},model:{value:(_vm.showPrevisuIngredients),callback:function ($$v) {_vm.showPrevisuIngredients=$$v},expression:\"showPrevisuIngredients\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"card\",\"loading\":_vm.loadingIngredients}},[_c('v-card',[_c('v-card-title',{staticClass:\"secondary\",attrs:{\"primary-title\":\"\"}},[_c('h3',{staticClass:\"headline mb-0 \"},[_vm._v(\" Ingrédients nécessaires \")])]),_c('date-ingredients',{attrs:{\"date-ingredients\":_vm.dateIngredients}})],1)],1)],1),_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Calcul des ingrédients \")]),_c('v-card-text',[_c('select-sejour',{attrs:{\"label\":\"Séjour\"},model:{value:(_vm.sejour),callback:function ($$v) {_vm.sejour=$$v},expression:\"sejour\"}}),_c('v-row',{staticClass:\"mt-4 px-2\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_vm._v(\"Journées\")])],1),_c('v-row',{staticClass:\"px-2\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"align-self-center\"},[_c('v-switch',{attrs:{\"label\":\"Tout le séjour\"},model:{value:(_vm.all),callback:function ($$v) {_vm.all=$$v},expression:\"all\"}})],1),_c('v-col',[_c('div',{staticClass:\"overflow-y-auto px-3\",style:({ height: '40vh' })},_vm._l((_vm.choixJournees),function(offset){return _c('v-checkbox',{key:offset,attrs:{\"label\":_vm.offsetToDate(offset),\"value\":offset,\"hide-details\":\"\",\"disabled\":_vm.all},model:{value:(_vm.jourOffsets),callback:function ($$v) {_vm.jourOffsets=$$v},expression:\"jourOffsets\"}})}),1)])],1),_c('div')],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"disabled\":!_vm.valid},on:{\"click\":_vm.calcul}},[_vm._v(\" Calculer les ingrédients \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{staticClass:\"mx-2\",attrs:{\"items\":_vm.sejours,\"label\":_vm.label,\"hide-details\":\"\",\"max-width\":\"200\",\"value\":_vm.idSejour},on:{\"change\":function (args) { return _vm.$emit('change', Number(args)); }}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { C } from \"../../logic/controller\";\n\nconst SelectSejourProps = Vue.extend({\n  props: {\n    label: String,\n    idSejour: Number\n  },\n  model: {\n    prop: \"idSejour\",\n    event: \"change\"\n  }\n});\n\n@Component({})\nexport default class SelectSejour extends SelectSejourProps {\n  get sejours() {\n    const items = Object.values(C.data.agenda.sejours).map(sejour => {\n      return { value: sejour.sejour.id, text: sejour.sejour.nom };\n    });\n    items.sort((a, b) => Number(a.text < b.text));\n    return items;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectSejour.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectSejour.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectSejour.vue?vue&type=template&id=1ff4ade6&scoped=true&\"\nimport script from \"./SelectSejour.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectSejour.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ff4ade6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"value\":0}},_vm._l((_vm.dateIngredients),function(jour,i){return _c('v-expansion-panel',{key:i,attrs:{\"disabled\":_vm.dateIngredients.length <= 1}},[_c('v-expansion-panel-header',{attrs:{\"hide-actions\":_vm.dateIngredients.length <= 1}},[_c('b',[_vm._v(_vm._s(_vm.formatDate(jour.date)))])]),_c('v-expansion-panel-content',[_c('liste-ingredients',{attrs:{\"ingredients\":jour.ingredients}})],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport ListeIngredients from \"./ListeIngredients.vue\";\n\nimport { DateIngredientQuantites, IngredientQuantite } from \"../../logic/types\";\nimport { Formatter } from \"../../logic/formatter\";\n\nconst DateIngredientsProps = Vue.extend({\n  props: {\n    dateIngredients: Array as () => DateIngredientQuantites[]\n  }\n});\n\n@Component({\n  components: { ListeIngredients }\n})\nexport default class DateIngredients extends DateIngredientsProps {\n  formatDate = Formatter.formatDate;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateIngredients.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateIngredients.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DateIngredients.vue?vue&type=template&id=02b3f4b1&scoped=true&\"\nimport script from \"./DateIngredients.vue?vue&type=script&lang=ts&\"\nexport * from \"./DateIngredients.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02b3f4b1\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport SelectSejour from \"./SelectSejour.vue\";\nimport DateIngredients from \"./DateIngredients.vue\";\nimport { Watch } from \"vue-property-decorator\";\nimport { C } from \"../../logic/controller\";\nimport { Formatter } from \"../../logic/formatter\";\nimport {\n  DateIngredientQuantites,\n  OutResoudIngredients\n} from \"../../logic/types\";\n\nconst FormCalculProps = Vue.extend({\n  props: {\n    initialSejour: Number\n  }\n});\n\n@Component({\n  components: { SelectSejour, DateIngredients }\n})\nexport default class FormCalcul extends FormCalculProps {\n  sejour = this.initialSejour;\n  all = true;\n  jourOffsets: number[] = [];\n\n  showPrevisuIngredients = false;\n  loadingIngredients = false;\n  dateIngredients: DateIngredientQuantites[] = [];\n\n  @Watch(\"initialSejour\")\n  onPropChange() {\n    this.sejour = this.initialSejour;\n  }\n\n  get valid() {\n    return this.all || this.jourOffsets.length > 0;\n  }\n\n  get choixJournees(): number[] {\n    const offsets = Object.keys(\n      C.data.agenda.sejours[this.sejour].journees\n    ).map(k => Number(k));\n    return offsets.sort();\n  }\n\n  offsetToDate(offset: number) {\n    const d = C.formatter.offsetToDate(this.sejour, offset);\n    return Formatter.formatDate(d.toISOString());\n  }\n\n  async calcul() {\n    this.showPrevisuIngredients = true;\n    this.loadingIngredients = true;\n    let res: OutResoudIngredients | undefined;\n    if (this.all) {\n      res = await C.calculs.resoudIngredientsSejour(this.sejour);\n    } else {\n      res = await C.calculs.resoudIngredientsJournees(\n        this.sejour,\n        this.jourOffsets\n      );\n    }\n    this.loadingIngredients = false;\n    if (res == undefined) {\n      this.showPrevisuIngredients = false;\n      return;\n    }\n    this.dateIngredients = res.date_ingredients || [];\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormCalcul.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormCalcul.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormCalcul.vue?vue&type=template&id=6226aa84&scoped=true&\"\nimport script from \"./FormCalcul.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormCalcul.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6226aa84\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VCol,VDialog,VRow,VSkeletonLoader,VSpacer,VSwitch})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Repas, Sejour, Horaire, SejourJournees } from \"../../logic/types\";\nimport FormSejour from \"./FormSejour.vue\";\nimport FormRepas from \"./FormRepas.vue\";\nimport FormPreferences from \"./FormPreferences.vue\";\nimport FormCalcul from \"./FormCalcul.vue\";\nimport SelectSejour from \"./SelectSejour.vue\";\nimport { C } from \"../../logic/controller\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport {\n  DetailsSejour,\n  New,\n  DetailsRepas,\n  PreferencesAgenda\n} from \"../../logic/types2\";\nimport { Formatter } from \"../../logic/formatter\";\n\nconst _days = [0, 1, 2, 3, 4, 5, 6];\n\nconst _colors = [\n  \"red\",\n  \"pink\",\n  \"purple\",\n  \"indigo\",\n  \"blue\",\n  \"cyan\",\n  \"teal\",\n  \"green\",\n  \"lime\",\n  \"yellow\",\n  \"amber\",\n  \"orange\",\n  \"brown\",\n  \"grey\"\n];\n\ntype DragKind = \"journee\" | \"repas\";\n\ninterface DataEvent {\n  name: string;\n  start: Time;\n  repas: Repas;\n  dataRepas: string; // JSON of Repas\n}\n\n// renvoie l'ordre des jours pour que `start` soit\n// affiché en premier\nfunction weekdaysFromStart(start: Date) {\n  const d0 = start.getDay();\n  return _days.map(d => (d0 + d) % 7);\n}\n\nfunction formatDate(d: Date) {\n  return d.toISOString().substr(0, 10);\n}\n\nfunction timeToHoraire(time: string): Horaire {\n  return {\n    heure: Number(time.substr(0, 2)),\n    minute: Number(time.substr(3, 2))\n  };\n}\n\nfunction getEventStart(r: Repas) {\n  const dateDebut = C.formatter.offsetToDate(r.id_sejour, r.jour_offset);\n  return formatDate(dateDebut) + \" \" + Formatter.horaireToTime(r.horaire);\n}\n\nconst Props = Vue.extend({\n  props: {}\n});\n\ninterface DateTime {\n  date: string;\n  time: string;\n}\n\n@Component({\n  components: {\n    TooltipBtn,\n    FormSejour,\n    FormRepas,\n    FormPreferences,\n    SelectSejour,\n    FormCalcul\n  }\n})\nexport default class Calendar extends Props {\n  private lastClickedTime: DateTime | null = null;\n  private currentSejour: number | null = null;\n\n  private preferences: PreferencesAgenda = {\n    restrictSejourCourant: true,\n    startPremierJour: true\n  };\n\n  private firstInterval = 4;\n  private intervalMinutes = 120;\n  private intervalCount = 8;\n  private intervalHeight = 25;\n\n  protected showPreferences = false;\n  protected showEditFormSejour = false;\n  protected showEditFormRepas = false;\n  protected showConfirmeSupprime = false;\n  protected showFormCalcul = false;\n\n  private editMode: \"new\" | \"edit\" = \"new\";\n\n  private editedRepas: Repas = {\n    id: -1,\n    id_sejour: -1,\n    horaire: { heure: 0, minute: 0 },\n    id_menu: -1,\n    nb_personnes: 0,\n    jour_offset: 0\n  };\n\n  get startDate(): Date {\n    const sejour = this.getCurrentSejour();\n    if (!sejour) return new Date();\n    return new Date(sejour.date_debut);\n  }\n\n  get weekdays() {\n    if (this.preferences.startPremierJour) {\n      return weekdaysFromStart(this.startDate);\n    } else {\n      return [1, 2, 3, 4, 5, 6, 0];\n    }\n  }\n\n  get startWeek1() {\n    return formatDate(this.startDate);\n  }\n\n  get startWeek2() {\n    const out = this.startDate;\n    out.setDate(this.startDate.getDate() + 7);\n    return formatDate(out);\n  }\n\n  get events(): DataEvent[] {\n    let out: DataEvent[] = [];\n    const restrict = this.preferences.restrictSejourCourant;\n    C.iterateAllRepas((sejour, repas) => {\n      if (restrict && sejour.id != this.currentSejour) return;\n      const data = {\n        repas: repas,\n        name: C.formatter.formatRepasName(repas),\n        start: getEventStart(repas),\n        dataRepas: JSON.stringify(repas)\n      };\n      out.push(data);\n    });\n\n    return out;\n  }\n\n  private get sortedSejours() {\n    const sejours = Object.values(C.data.agenda.sejours);\n    sejours.sort((a, b) => {\n      return a.sejour.date_debut < b.sejour.date_debut ? 1 : -1;\n    });\n    return sejours;\n  }\n\n  private sejourColor(idSejour: number) {\n    const L = _colors.length;\n    const index = this.sortedSejours.findIndex(\n      sej => sej.sejour.id == idSejour\n    );\n    if (index != -1) {\n      return _colors[index % L];\n    }\n    return \"black\";\n  }\n\n  intervalStyle(interval: DateTime) {\n    const day = new Date(interval.date);\n    const sej = this.getCurrentSejour();\n    if (!sej) return {};\n    const debutSejour = new Date(sej.date_debut);\n    if (debutSejour <= day) {\n      return { backgroundColor: this.sejourColor(sej.id), opacity: 0.15 };\n    }\n  }\n\n  getEventColor = (event: DataEvent) => {\n    return this.sejourColor(event.repas.id_sejour);\n  };\n\n  mounted() {\n    this.setupDrag();\n  }\n\n  updated() {\n    this.setupDrag();\n  }\n\n  setClosestSejour() {\n    const sejours = Object.values(C.data.agenda.sejours);\n    if (sejours.length == 0) return;\n    const now = new Date().valueOf();\n    const computeDistance = (sejour: Sejour) => {\n      const diff = now - new Date(sejour.date_debut).valueOf();\n      return Math.abs(diff);\n    };\n    const criteres = sejours.map(sej => {\n      return { id: sej.sejour.id, distance: computeDistance(sej.sejour) };\n    });\n    const best = criteres.sort((a, b) => (a.distance < b.distance ? 1 : -1))[0];\n    this.currentSejour = best.id;\n  }\n\n  // on stocke le moment correspondant au dernier click,\n  // pour contourner le manque d'une méthode getTime(pos)\n  registerTime(time: DateTime) {\n    this.lastClickedTime = time;\n  }\n\n  private setupDrag() {\n    if (this.currentSejour == null) return; // désactivé si aucun séjour n'est sélectionné.\n    const htmlEl = this.$refs.weeks as HTMLDivElement;\n    htmlEl.querySelectorAll<HTMLElement>(\"[data-day]\").forEach(item => {\n      if (!item.parentElement) return;\n      item.parentElement.draggable = true;\n      item.parentElement.ondragstart = e =>\n        this.onDragStart(e, \"journee\", item.dataset.day);\n      item.parentElement.ondragover = e => this.onDragover(e, \"journee\");\n      item.parentElement.ondrop = e => this.onDrop(e, \"journee\");\n    });\n    htmlEl.querySelectorAll<HTMLElement>(\"[data-repas]\").forEach(item => {\n      const repas: Repas = JSON.parse(item.dataset.repas || \"\");\n      item.draggable = repas.id_sejour == this.currentSejour; // uniquement les repas lié au séjour courant\n      item.ondragstart = e => this.onDragStart(e, \"repas\", item.dataset.repas);\n    });\n  }\n\n  private onDragStart = (\n    event: DragEvent,\n    kind: DragKind,\n    arg: string | undefined\n  ) => {\n    if (!event.dataTransfer || !arg) return;\n    event.dataTransfer.setData(kind, arg);\n    event.dataTransfer.effectAllowed = \"move\";\n  };\n\n  onDragover(event: DragEvent, kind: DragKind) {\n    if (!event.dataTransfer) return;\n    const isRepas = event.dataTransfer.types.includes(\"repas\");\n    const isDay = event.dataTransfer.types.includes(\"journee\");\n    if ((kind == \"repas\" && isRepas) || (kind == \"journee\" && isDay)) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"move\";\n    }\n  }\n\n  onDrop(event: DragEvent, kind: DragKind) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const data = event.dataTransfer.getData(kind);\n    const target = event.currentTarget as HTMLElement;\n    if (kind == \"repas\") {\n      this.onDropRepas(event, data, target);\n    } else {\n      this.onDropJournee(data, target);\n    }\n  }\n\n  private jobDropRepas(targetTime: DateTime, dataRepas: string) {\n    const repas: Repas = JSON.parse(dataRepas);\n    const jour = new Date(targetTime.date);\n    const horaire: Horaire = {\n      heure: Number(targetTime.time.substr(0, 2)),\n      minute: Number(targetTime.time.substr(3, 2))\n    };\n    C.data.deplaceRepas(repas, jour, horaire);\n  }\n\n  private onDropRepas(\n    event: DragEvent,\n    dataRepas: string,\n    target: HTMLElement\n  ) {\n    // hack pour contourner les limitations de VCalendar\n    const ev = new MouseEvent(\"mousedown\", {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n      clientX: event.clientX,\n      clientY: event.clientY\n    });\n    this.lastClickedTime = null;\n    target.dispatchEvent(ev);\n    // on attend la gestion de l'évènement par 'registerTime'\n    let currentTry = 0;\n    const afterClick = () => {\n      if (currentTry >= 200) {\n        // on évite une boucle infinie\n        return;\n      }\n      if (!this.lastClickedTime) {\n        currentTry += 1;\n        setTimeout(afterClick, 50); // on ressaie plus tard\n        return;\n      }\n      this.jobDropRepas(this.lastClickedTime, dataRepas);\n    };\n    setTimeout(afterClick, 50);\n  }\n\n  private onDropJournee(data: string, target: HTMLElement) {\n    if (this.currentSejour == null) return;\n    const customDiv = target.querySelector(\"[data-day]\") as HTMLElement;\n    const dateFrom = new Date(data);\n    if (!customDiv || !customDiv.dataset.day) return;\n    const dateTo = new Date(customDiv.dataset.day);\n    if (isNaN(dateFrom.getTime()) || isNaN(dateTo.getTime())) return;\n    C.data.switchDays(this.currentSejour, dateFrom, dateTo);\n  }\n\n  private getCurrentSejour(): Sejour | undefined {\n    if (this.currentSejour == null) return;\n    return C.data.agenda.sejours[this.currentSejour].sejour;\n  }\n\n  getInitialCurrentSejour() {\n    const newSejour = {\n      id_proprietaire: C.idUtilisateur,\n      nom: \"\",\n      date_debut: \"\"\n    };\n    return this.getCurrentSejour() || newSejour;\n  }\n\n  onEditSejourDone(modif: DetailsSejour) {\n    this.showEditFormSejour = false;\n    if (this.editMode == \"edit\") {\n      this.editSejour(modif);\n    } else {\n      this.addSejour(modif);\n    }\n  }\n\n  private async addSejour(modif: DetailsSejour) {\n    if (C.idUtilisateur == null) return;\n    const sejour: New<Sejour> = {\n      nom: modif.nom,\n      date_debut: modif.date_debut,\n      id_proprietaire: C.idUtilisateur\n    };\n    const newSejour = await C.data.createSejour(sejour);\n    if (C.notifications.getError() == null && newSejour != undefined) {\n      C.notifications.setMessage(\"Le séjour a bien été ajouté.\");\n      this.currentSejour = newSejour.id;\n    }\n  }\n\n  private async editSejour(modif: DetailsSejour) {\n    const sejour = this.getCurrentSejour();\n    if (sejour == undefined) return;\n    sejour.date_debut = modif.date_debut;\n    sejour.nom = modif.nom;\n    await C.data.updateSejour(sejour);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Le séjour a bien été modifié.\");\n    }\n  }\n\n  async supprimeSejour() {\n    const sej = this.getCurrentSejour();\n    if (sej == null) return;\n    this.currentSejour = null;\n    this.showConfirmeSupprime = false;\n    await C.data.deleteSejour(sej);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Le séjour a été supprimé avec succès.\");\n    }\n  }\n\n  startAddRepas(dt: DateTime) {\n    const sejour = this.getCurrentSejour();\n    if (sejour == undefined) return;\n    const offset = C.data.getOffset(sejour, new Date(dt.date));\n    if (offset == undefined) return;\n    this.editedRepas = {\n      horaire: timeToHoraire(dt.time),\n      jour_offset: offset,\n      nb_personnes: 0,\n      id_menu: -1,\n      id_sejour: sejour.id,\n      id: -1\n    };\n    this.editMode = \"new\";\n    this.showEditFormRepas = true;\n  }\n\n  startEditRepas(repas: Repas) {\n    this.editedRepas = repas;\n    this.editMode = \"edit\";\n    this.showEditFormRepas = true;\n  }\n\n  async onEditRepasDone(repas: DetailsRepas) {\n    this.showEditFormRepas = false;\n    if (this.currentSejour == null) return;\n    let message = \"\";\n    if (this.editMode == \"new\") {\n      const newRepas: New<Repas> = { ...repas, id_sejour: this.currentSejour };\n      await C.data.createRepas(newRepas);\n      message = \"Le repas a bien été ajouté.\";\n    } else {\n      const repasFull = {\n        ...repas,\n        id_sejour: this.editedRepas.id_sejour,\n        id: this.editedRepas.id\n      };\n      await C.data.updateManyRepas([repasFull]);\n      message = \"Le repas a bien été mis à jour.\";\n    }\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n    }\n  }\n\n  async deleteRepas(repas: Repas) {\n    this.showEditFormRepas = false;\n    await C.data.deleteRepas(repas);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Le repas a été retiré avec succès.\");\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=5d080849&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCalendar } from 'vuetify/lib/components/VCalendar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCalendar,VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VSpacer,VToolbar,VToolbarItems,VToolbarTitle})\n","\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\nimport Vue from \"vue\";\nimport Calendar from \"../components/sejours/Calendar.vue\";\nimport { C } from \"../logic/controller\";\n\n@Component({\n  components: { Calendar }\n})\nexport default class Agenda extends Vue {\n  $refs!: {\n    calendar: Calendar;\n  };\n\n  async mounted() {\n    await C.data.loadAllMenus();\n    await C.data.loadAgenda();\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"L'agenda a bien été chargé.\");\n    }\n    this.$refs.calendar.setClosestSejour();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Agenda.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Agenda.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Agenda.vue?vue&type=template&id=9859f2c4&\"\nimport script from \"./Agenda.vue?vue&type=script&lang=ts&\"\nexport * from \"./Agenda.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer})\n","import Vue from \"vue\";\nimport VueRouter, { RouteConfig } from \"vue-router\";\nimport Agenda from \"../views/Agenda.vue\";\n\nVue.use(VueRouter);\n\ninterface RouteMeta {\n  title: string;\n  tooltip: string;\n  icon: string;\n}\nexport interface RouteType extends RouteConfig {\n  meta: RouteMeta;\n}\n\nexport const routes: RouteType[] = [\n  {\n    path: \"/agenda\",\n    name: \"agenda\",\n    // route level code-splitting\n    // this generates a separate chunk (agenda.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: Agenda,\n    meta: {\n      title: \"Agenda\",\n      tooltip: \"Vue d'ensemble des séjours et des repas.\",\n      icon: \"mdi-calendar-month\"\n    }\n  },\n  {\n    path: \"/menus\",\n    name: \"menus\",\n    // route level code-splitting\n    // this generates a separate chunk (menus.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"menus\" */ \"../views/Menus.vue\"),\n    meta: {\n      title: \"Menus, recettes et ingrédients\",\n      tooltip: \"Accès aux menus, recettes et ingrédients.\",\n      icon: \"mdi-food-variant\"\n    }\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  routes\n});\n\nexport default router;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop } from \"vue-property-decorator\";\nimport { routes } from \"../router/index\";\n\nconst Props = Vue.extend({\n  props: {\n    isLoggedIn: Boolean\n  }\n});\n\n@Component\nexport default class NavigationBar extends Props {\n  menuMini = true;\n  routes = routes;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NavigationBar.vue?vue&type=template&id=3d1c4d7a&\"\nimport script from \"./NavigationBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./NavigationBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAvatar,VDivider,VIcon,VImg,VLayout,VList,VListItem,VListItemAction,VListItemContent,VNavigationDrawer,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height align-self-center\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"xs\":\"0\",\"md\":\"2\"}}),_c('v-col',{attrs:{\"xs\":\"6\",\"md\":\"4\"}},[_c('v-form',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.loggin($event)}},model:{value:(_vm.formValid),callback:function ($$v) {_vm.formValid=$$v},expression:\"formValid\"}},[_c('v-text-field',{attrs:{\"label\":\"Mail\",\"rules\":[_vm.rules.required, _vm.rules.mail],\"required\":\"\",\"name\":\"email\",\"autocomplete\":\"email\"},model:{value:(_vm.params.mail),callback:function ($$v) {_vm.$set(_vm.params, \"mail\", $$v)},expression:\"params.mail\"}}),_c('v-text-field',{attrs:{\"name\":\"password\",\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPassword ? 'password' : 'text',\"label\":\"Mot de passe\",\"autocomplete\":\"password\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.params.password),callback:function ($$v) {_vm.$set(_vm.params, \"password\", $$v)},expression:\"params.password\"}}),_c('v-fade-transition',[(_vm.error)?_c('v-row',[_c('div',{staticClass:\"red--text px-3\",domProps:{\"innerHTML\":_vm._s(_vm.error)}})]):_vm._e()],1),_c('v-row',{staticClass:\"mt-3\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\",\"loading\":_vm.loading,\"disabled\":!_vm.formValid},on:{\"click\":_vm.loggin}},[_vm._v(\" Se connecter \")])],1)],1)],1),_c('v-col',{staticClass:\"xs-6 md-4\"},[_vm._v(\" TODO : créer un compte \")]),_c('v-col')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\nimport Vue from \"vue\";\nimport { C } from \"../logic/controller\";\nimport { InLoggin } from \"../logic/types\";\nimport { routes } from \"../router/index\";\n\nconst patternMail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n@Component({})\nexport default class Loggin extends Vue {\n  params: InLoggin = { mail: \"\", password: \"\" };\n  showPassword = false;\n  error: string | null = null;\n  rules = {\n    required: (s: string) => {\n      return !!s || \"Ce champ est requis.\";\n    },\n    mail: (s: string) => {\n      return patternMail.test(s) || \"L'adresse mail semble invalide.\";\n    }\n  };\n  loading = false;\n  formValid = false;\n\n  async mounted() {}\n\n  async loggin() {\n    if (!this.formValid) return;\n    this.loading = true;\n    const err = await C.logger.loggin(this.params);\n    this.loading = false;\n    if (C.notifications.getError() != null) return; // erreur déjà gérée\n    if (err == \"\" || !err) {\n      this.error = null;\n      const currentPath = this.$router.currentRoute.path;\n      if (routes.map(r => r.path).indexOf(currentPath) == -1) {\n        this.$router.push(\"/agenda\");\n      }\n    } else {\n      this.error = err;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loggin.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loggin.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Loggin.vue?vue&type=template&id=0fcbe3c4&\"\nimport script from \"./Loggin.vue?vue&type=script&lang=ts&\"\nexport * from \"./Loggin.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VFadeTransition,VForm,VRow,VSpacer,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Watch } from \"vue-property-decorator\";\n\nimport ErrorDialog from \"./components/ErrorDialog.vue\";\nimport SuccessSnackbar from \"./components/SuccessSnackbar.vue\";\nimport SpinnerSnackbar from \"./components/SpinnerSnackbar.vue\";\nimport NavigationBar from \"./components/NavigationBar.vue\";\nimport Loggin from \"./views/Loggin.vue\";\n\nimport { C } from \"./logic/controller\";\nimport { devMode } from \"./logic/data\";\nimport { RouteType } from \"./router\";\n\ndeclare var process: {\n  env: {\n    VUE_APP_VERSION: string;\n  };\n};\n\n@Component({\n  components: {\n    ErrorDialog,\n    SuccessSnackbar,\n    SpinnerSnackbar,\n    NavigationBar,\n    Loggin\n  }\n})\nexport default class App extends Vue {\n  private controller = C;\n\n  get version() {\n    return process.env.VUE_APP_VERSION;\n  }\n\n  get isLoggedIn() {\n    return this.controller.isLoggedIn;\n  }\n\n  get mainTitle() {\n    if (!this.isLoggedIn) {\n      return \"Bienvenue sur votre platforme d'intendance\";\n    }\n    return this.getPageTitle();\n  }\n\n  logout() {\n    this.controller.logger.logout();\n  }\n\n  private getPageTitle() {\n    let title;\n    if (!this.isLoggedIn) {\n      title = \"Intendance - Connexion\";\n    } else {\n      const route = this.$route as RouteType;\n      title = \"Intendance - \" + route.meta.title;\n    }\n    return title;\n  }\n\n  private updatePageTitle() {\n    document.title = this.getPageTitle();\n  }\n\n  @Watch(\"$route\")\n  onRouteChanged() {\n    this.updatePageTitle();\n  }\n\n  mounted() {\n    this.updatePageTitle();\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3b116901&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VApp,VAppBar,VContent,VToolbarTitle,VTooltip})\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: \"#e0a912\",\n        secondary: \"#a5d0d9\"\n      }\n    }\n  }\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport vuetify from \"./plugins/vuetify\";\n\nVue.config.productionTip = false;\n\n// Workaround annoying warnings\nconst ignoreWarnMessage =\n  \"The .native modifier for v-on is only valid on components but it was used on <div>.\";\nVue.config.warnHandler = function(msg, vm, trace) {\n  // `trace` is the component hierarchy trace\n  if (msg === ignoreWarnMessage) {\n    return;\n  }\n  console.error(\"[Vue warn]: \" + msg + trace);\n};\n\nnew Vue({\n  router,\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");\n","module.exports = __webpack_public_path__ + \"img/logo.f3875c84.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}