(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["menus"],{1681:function(e,t,i){},"37fd":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"py-1 px-2",attrs:{fluid:""}},[i("v-row",{attrs:{wrap:""}},["visu"==e.state.mode||"editMenu"==e.state.mode?i("v-col",{attrs:{md:"4",sm:"6"}},[i("transition-group",{attrs:{name:"fade",mode:"out-in",duration:"200"}},[i("liste-menus",{directives:[{name:"show",rawName:"v-show",value:"visu"==e.state.mode,expression:"state.mode == 'visu'"}],key:"liste",ref:"listeMenus",attrs:{C:e.C,height:"75vh",state:e.state},on:{change:function(t){return e.state.selection.idMenu=t},edit:e.startEditMenu,new:e.startCreateMenu}}),i("edit-menu",{directives:[{name:"show",rawName:"v-show",value:"editMenu"==e.state.mode,expression:"state.mode == 'editMenu'"}],key:"edit",attrs:{C:e.C,mode:e.editMode,initialMenu:e.editedMenu},on:{undo:e.editMenuCancel,done:e.editMenuDone}})],1)],1):e._e(),i("v-col",[i("liste-recettes",{directives:[{name:"show",rawName:"v-show",value:"visu"==e.state.mode||"editMenu"==e.state.mode,expression:"state.mode == 'visu' || state.mode == 'editMenu'"}],key:"liste",ref:"listeRecettes",attrs:{height:"75vh",C:e.C,state:e.state},on:{change:function(t){return e.state.selection.idRecette=t},edit:e.startEditRecette,new:e.startCreateRecette}}),i("edit-recette",{directives:[{name:"show",rawName:"v-show",value:"editRecette"==e.state.mode,expression:"state.mode == 'editRecette'"}],key:"edit",attrs:{C:e.C,mode:e.editMode,initialRecette:e.editedRecette},on:{undo:e.editRecetteCancel,done:e.editRecetteDone}})],1),i("v-col",{attrs:{md:"4",sm:"12"}},[i("liste-ingredients",{ref:"listeIngredients",attrs:{height:"75vh",C:e.C,state:e.state},on:{change:function(t){return e.state.selection.idIngredient=t}}})],1)],1)],1)},r=[],a=i("5530"),o=i("1da1"),s=i("d4ec"),c=i("bee2"),u=i("262e"),l=i("2caf"),d=(i("a9e3"),i("96cf"),i("9ab4")),m=i("2fe1"),p=i("2b0e"),v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.confirmeSupprime,callback:function(t){e.confirmeSupprime=t},expression:"confirmeSupprime"}},[i("v-card",[i("v-card-title",{attrs:{"primary-title":"",color:"warning"}},[e._v(" Confirmer la suppression ")]),i("v-card-text",[e._v(" Confirmez-vous la suppression de ce menu ? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{tile:"",color:"warning"},on:{click:e.supprime}},[e._v("Supprimer")])],1)],1)],1),i("toolbar",{attrs:{tooltipAdd:"Ajouter un menu...",title:"Menus",showAdd:"visu"==e.state.mode},on:{add:function(t){return e.$emit("new")}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-list",{ref:"list",staticClass:"overflow-y-auto",attrs:{dense:"","max-height":e.height}},[0===e.menus.length?i("v-list-item",[i("v-list-item-content",[i("i",[e._v(" Aucun menu.")])])],1):e._e(),i("v-list-item-group",{attrs:{value:e.state.selection.idMenu},on:{change:function(t){return e.$emit("change",t)}}},e._l(e.menus,(function(t){return i("v-list-item",{key:t.id,class:e.classItem(t.id),attrs:{value:t.id},scopedSlots:e._u([{key:"default",fn:function(n){return[i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(e.formatMenuName(t)))]),i("v-list-item-subtitle",[i("i",[e._v(" "+e._s(e.formatMenuProprietaire(t)))])])],1),e.showButtons(n.active,t)?i("v-list-item-action",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("tooltip-btn",{attrs:{"mdi-icon":"pencil",tooltip:"Modifier ce menu",color:"secondary"},on:{click:function(i){return i.stopPropagation(),e.$emit("edit",t)}}})],1),i("v-col",[i("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Supprimer ce menu",color:"red"},on:{click:function(t){t.stopPropagation(),e.confirmeSupprime=!0}}})],1)],1)],1):e._e()]}}],null,!0)})})),1)],1)],1)},f=[],h=(i("ac1f"),i("841c"),i("1c9b")),b=i("fa46"),g=p["a"].extend({props:{height:String,state:Object,kind:String,C:Object}}),C=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),t.apply(this,arguments)}return Object(c["a"])(i,[{key:"classItem",value:function(e){return this.kind+e}},{key:"goToItem",value:function(e){this.state.selection[this.kind]=e;try{this.$vuetify.goTo("."+this.classItem(e),{container:this.$refs.list})}catch(t){}}}]),i}(g);C=Object(d["a"])([Object(m["b"])({})],C);var k=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.confirmeSupprime=!1,e.formatMenuName=e.C.formatter.formatMenuName,e.formatMenuProprietaire=e.C.formatter.formatMenuOrRecetteProprietaire,e.search="",e}return Object(c["a"])(i,[{key:"menus",get:function(){return this.C.searchMenu(this.search)}},{key:"showButtons",value:function(e,t){return e&&(!t.id_utilisateur.Valid||t.id_utilisateur.Int64==this.C.state.idUtilisateur)}},{key:"supprime",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.confirmeSupprime=!1,null!=this.state.selection.idMenu){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.C.api.DeleteMenu({id:this.state.selection.idMenu});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),i}(C);k=Object(d["a"])([Object(m["b"])({components:{TooltipBtn:h["a"],Toolbar:b["a"]},props:{C:Object,kind:{type:String,default:"idMenu"}}})],k);var y=k,x=y,j=i("2877"),w=i("6544"),O=i.n(w),_=i("8336"),I=i("b0af"),V=i("99d9"),R=i("62ad"),M=i("169a"),P=i("8860"),S=i("da13"),T=i("1800"),$=i("5d23"),L=i("1baa"),E=i("0fd9"),A=i("2fa4"),D=Object(j["a"])(x,v,f,!1,null,null,null),q=D.exports;O()(D,{VBtn:_["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["c"],VCardTitle:V["d"],VCol:R["a"],VDialog:M["a"],VList:P["a"],VListItem:S["a"],VListItemAction:T["a"],VListItemContent:$["a"],VListItemGroup:L["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VRow:E["a"],VSpacer:A["a"]});var N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.confirmeSupprime,callback:function(t){e.confirmeSupprime=t},expression:"confirmeSupprime"}},[i("v-card",[i("v-card-title",{attrs:{"primary-title":"",color:"warning"}},[e._v(" Confirmer la suppression ")]),i("v-card-text",[e._v(" Confirmez-vous la suppression de cette recette ? "),i("br"),i("div",{staticClass:"my-3"},[i("small",[e._v(" Si vous souhaitez seulement l'enlever d'un menu, passez plutôt en "),i("b",[e._v("mode édition")]),e._v(". ")])])]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{tile:"",color:"warning"},on:{click:e.supprime}},[e._v("Supprimer")])],1)],1)],1),i("toolbar",{attrs:{tooltipAdd:"Ajouter une recette...",title:e.title,showAdd:"visu"==e.state.mode&&null==e.state.selection.idMenu},on:{add:function(t){return e.$emit("new")}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-list",{ref:"list",staticClass:"overflow-y-auto",attrs:{dense:"","max-height":e.height}},[0===e.recettes.length?i("v-list-item",[i("v-list-item-content",[i("i",[e._v(" Aucune recette.")])])],1):e._e(),i("v-list-item-group",{attrs:{value:e.state.selection.idRecette},on:{change:function(t){return e.$emit("change",t)}}},e._l(e.recettes,(function(t){return i("v-list-item",{key:t.id,class:e.classItem(t.id),attrs:{value:t.id},scopedSlots:e._u([{key:"default",fn:function(n){return[i("v-list-item-content",{attrs:{draggable:"true"},on:{dragstart:function(i){return e.onDragStart(i,t)}}},[i("v-list-item-title",[i("v-list-item-title",[e._v(e._s(t.nom))])],1),i("v-list-item-subtitle",[i("i",[e._v(" "+e._s(e.formatRecetteProprietaire(t)))])])],1),e.showActions(n.active,t)?i("v-list-item-action",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("tooltip-btn",{attrs:{"mdi-icon":"pencil",tooltip:"Modifier cette recette",color:"secondary"},on:{click:function(i){return i.stopPropagation(),e.$emit("edit",t)}}})],1),i("v-col",[i("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Supprimer cette recette",color:"red"},on:{click:function(t){t.stopPropagation(),e.confirmeSupprime=!0}}})],1)],1)],1):e._e()]}}],null,!0)})})),1)],1)],1)},B=[],F=(i("4de4"),i("07ac"),i("fe36")),U=i("6974"),z=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.confirmeSupprime=!1,e.search="",e.formatRecetteProprietaire=e.C.formatter.formatMenuOrRecetteProprietaire,e}return Object(c["a"])(i,[{key:"searchRecettes",value:function(e,t){var i=Object(F["f"])(t);return e.filter((function(e){return i(e.nom)}))}},{key:"recettes",get:function(){var e;return e="editMenu"==this.state.mode?Object.values(this.C.api.recettes):null!=this.state.selection.idMenu?this.C.getMenuRecettes(this.C.getMenu(this.state.selection.idMenu)):Object.values(this.C.api.recettes),this.searchRecettes(e,this.search)}},{key:"title",get:function(){return"editMenu"==this.state.mode?"Choisir une recette":null!=this.state.selection.idMenu?"Recettes liées au menu":"Toutes les recettes"}},{key:"showActions",value:function(e,t){return null==this.state.selection.idMenu&&(e&&(!t.id_utilisateur.Valid||t.id_utilisateur.Int64==this.C.state.idUtilisateur))}},{key:"supprime",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.confirmeSupprime=!1,null!=this.state.selection.idRecette){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.C.api.DeleteRecette({id:this.state.selection.idRecette});case 5:this.$emit("change",null);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDragStart",value:function(e,t){e.dataTransfer&&(Object(U["c"])(e.dataTransfer,U["a"].IdRecette,t.id),e.dataTransfer.effectAllowed="copy")}}]),i}(C);z=Object(d["a"])([Object(m["b"])({components:{TooltipBtn:h["a"],Toolbar:b["a"]},props:{kind:{type:String,default:"idRecette"}}})],z);var H=z,G=H,J=Object(j["a"])(G,N,B,!1,null,null,null),Z=J.exports;O()(J,{VBtn:_["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["c"],VCardTitle:V["d"],VCol:R["a"],VDialog:M["a"],VList:P["a"],VListItem:S["a"],VListItemAction:T["a"],VListItemContent:$["a"],VListItemGroup:L["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VRow:E["a"],VSpacer:A["a"]});var K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.showEditIngredient,callback:function(t){e.showEditIngredient=t},expression:"showEditIngredient"}},[i("edit-ingredient",{attrs:{initialIngredient:e.editedIngredient,mode:e.editMode},on:{edit:e.editIngredientDone}})],1),i("v-dialog",{attrs:{scrollable:"",width:"90%"},model:{value:e.showEditProduits,callback:function(t){e.showEditProduits=t},expression:"showEditProduits"}},[i("association-ingredient",{attrs:{C:e.C,ingredient:e.editedIngredientProduit,activated:e.showEditProduits}})],1),i("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.confirmeSupprime,callback:function(t){e.confirmeSupprime=t},expression:"confirmeSupprime"}},[i("v-card",[i("v-card-title",{attrs:{"primary-title":"",color:"warning"}},[e._v(" Confirmer la suppression ")]),i("v-card-text",[e._v(" Vous avez demandé la suppression de cet ingrédient. "),i("br"),e._v(" Souhaitez-vous vérifiez qu'aucun produit n'y est associé ? Dans le cas contraire, les éventuelles associations ingrédient/produit seront supprimées. "),i("div",{staticClass:"my-3"},[i("small",[e._v(" Si vous souhaitez seulement enlever l'ingrédient d'un menu ou d'une recette, passez plutôt en "),i("b",[e._v("mode édition")]),e._v(". ")])])]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{tile:"",color:"warning"},on:{click:function(t){return e.supprime(!1)}}},[e._v(" Supprimer l'ingrédient et les liens produits ")]),i("v-btn",{attrs:{tile:"",color:"warning"},on:{click:function(t){return e.supprime(!0)}}},[e._v(" Vérifier les liens avant de supprimer ")])],1)],1)],1),i("toolbar",{attrs:{tooltipAdd:"Ajouter un ingrédient...",title:e.title,showAdd:"visu"==e.state.mode&&null==e.state.selection.idMenu&&null==e.state.selection.idRecette},on:{add:e.startCreateIngredient},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-list",{ref:"list",staticClass:"overflow-y-auto",attrs:{dense:"","max-height":e.height}},[0===e.ingredients.length?i("v-list-item",[i("v-list-item-content",[i("i",[e._v(" Aucun ingrédient.")])])],1):e._e(),i("v-list-item-group",{attrs:{value:e.state.selection.idIngredient},on:{change:function(t){return e.$emit("change",t)}}},e._l(e.ingredients,(function(t){return i("v-list-item",{key:t.ingredient.id,class:e.classItem(t.ingredient.id),attrs:{value:t.ingredient.id},scopedSlots:e._u([{key:"default",fn:function(n){return[i("v-list-item-content",{attrs:{draggable:"true"},on:{dragstart:function(i){return e.onDragStart(i,t.ingredient)}}},[i("v-list-item-title",[e._v(" "+e._s(t.ingredient.nom)+" ")]),i("v-list-item-subtitle",{domProps:{innerHTML:e._s(e.subtitle(t))}})],1),e.showActions(n.active)?i("v-list-item-action",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("tooltip-btn",{attrs:{"mdi-icon":"cart",tooltip:"Produits liés à cet ingrédient...",color:"accent"},on:{click:function(i){return i.stopPropagation(),e.startEditProduits(t)}}})],1),i("v-col",[i("tooltip-btn",{attrs:{"mdi-icon":"pencil",tooltip:"Modifier cet ingrédient...",color:"secondary"},on:{click:function(i){return i.stopPropagation(),e.startEditIngredient(t)}}})],1),i("v-col",[i("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Supprimer cet ingrédient",color:"red"},on:{click:function(t){t.stopPropagation(),e.confirmeSupprime=!0}}})],1)],1)],1):e._e()]}}],null,!0)})})),1)],1)],1)},Q=[],W=(i("99af"),i("4e827"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("edit",e.current)}}},[i("v-card-title",{attrs:{"primary-title":""}},[e._v(" Détails de l'ingrédient ")]),i("v-card-text",[i("v-form",[i("v-row",[i("v-col",[i("v-text-field",{ref:"nom",attrs:{label:"Nom"},model:{value:e.current.nom,callback:function(t){e.$set(e.current,"nom",t)},expression:"current.nom"}})],1),i("v-col",[i("unite-field",{model:{value:e.current.unite,callback:function(t){e.$set(e.current,"unite",t)},expression:"current.unite"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-switch",{attrs:{label:"Conditionnement requis"},model:{value:e.conditionnement,callback:function(t){e.conditionnement=t},expression:"conditionnement"}})],1),i("v-col",{attrs:{cols:"8"}},[i("conditionnement-field",{attrs:{disabled:!e.conditionnement,allowedUnites:e.allowedUnitesConditionnement},model:{value:e.current.conditionnement,callback:function(t){e.$set(e.current,"conditionnement",t)},expression:"current.conditionnement"}})],1)],1),i("v-row",[i("v-col",[i("v-select",{attrs:{items:[],label:"Catégorie"},model:{value:e.current.categorie,callback:function(t){e.$set(e.current,"categorie",t)},expression:"current.categorie"}})],1),i("v-col",[i("v-text-field",{attrs:{label:"Callories",required:""},model:{value:e.current.callories,callback:function(t){e.$set(e.current,"callories",t)},expression:"current.callories"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.$emit("edit",e.current)}}},[e._v(e._s(e.btnTitle))])],1)],1)}),X=[],Y=i("1b40"),ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-select",{attrs:{disabled:e.disabled,items:e.unites,value:e.unite,label:e.label},on:{change:function(t){return e.$emit("change",t)}}})},te=[],ie=i("5702"),ne=i("45f7"),re=p["a"].extend({props:{unite:String,label:{type:String,default:"Unité"},disabled:{type:Boolean,default:!1},unites:{type:Array,default:function(){return Object(ne["d"])(ie["e"])}}},model:{prop:"unite",event:"change"}}),ae=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),t.apply(this,arguments)}return i}(re);ae=Object(d["a"])([Object(m["b"])({})],ae);var oe=ae,se=oe,ce=i("b974"),ue=Object(j["a"])(se,ee,te,!1,null,"42af5b1a",null),le=ue.exports;O()(ue,{VSelect:ce["a"]});var de=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("v-text-field",{attrs:{disabled:e.disabled,label:"Conditionnement - Quantité",type:"number",hint:"Conditionnement d'un exemplaire"},on:{change:e.onChange},model:{value:e.conditionnement.quantite,callback:function(t){e.$set(e.conditionnement,"quantite",e._n(t))},expression:"conditionnement.quantite"}})],1),i("v-col",{staticClass:"ml-3"},[i("unite-field",{attrs:{disabled:e.disabled,label:"Conditionnement - Unité",unites:e.allowedUnites},on:{change:e.onChange},model:{value:e.conditionnement.unite,callback:function(t){e.$set(e.conditionnement,"unite",t)},expression:"conditionnement.unite"}})],1)],1)},me=[],pe=p["a"].extend({props:{conditionnement:Object,disabled:Boolean,allowedUnites:Array},model:{prop:"conditionnement",event:"change"}}),ve=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),t.apply(this,arguments)}return Object(c["a"])(i,[{key:"onChange",value:function(){this.$emit("change",this.conditionnement)}}]),i}(pe);ve=Object(d["a"])([Object(m["b"])({components:{UniteField:le}})],ve);var fe=ve,he=fe,be=i("8654"),ge=Object(j["a"])(he,de,me,!1,null,"c8fb7398",null),Ce=ge.exports;O()(ge,{VCol:R["a"],VRow:E["a"],VTextField:be["a"]});var ke={nom:"",unite:ie["d"].Litres,categorie:"",conditionnement:{unite:ie["d"].Litres,quantite:0},callories:{}},ye={id_utilisateur:{Valid:!0,Int64:-1},ingredients:[],mode_emploi:"",nom:""},xe={commentaire:"",id_utilisateur:{Valid:!0,Int64:-1},ingredients:[],recettes:[]},je=p["a"].extend({props:{initialIngredient:Object,mode:String}}),we=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.current=e.copy(e.initialIngredient),e}return Object(c["a"])(i,[{key:"copy",value:function(e){var t=null==e?Object(a["a"])(Object(a["a"])({},ke),{},{id:-1}):e.ingredient;return Object(ne["a"])(t)}},{key:"btnTitle",get:function(){return"edit"==this.mode?"Valider":"Créer"}},{key:"conditionnement",get:function(){return this.current.conditionnement.unite!=ie["d"].Zero},set:function(e){e?this.current.conditionnement.unite=this.current.unite||this.initialIngredient&&this.initialIngredient.ingredient.unite||ie["d"].Litres:this.current.conditionnement={unite:ie["d"].Zero,quantite:0}}},{key:"allowedUnitesConditionnement",get:function(){var e=this,t=Object(ne["d"])(ie["e"]);return this.current.unite==ie["d"].Piece?t.filter((function(e){return e.value!=ie["d"].Piece})):t.filter((function(t){return t.value==e.current.unite}))}},{key:"onPropChange",value:function(){this.current=this.copy(this.initialIngredient)}},{key:"focus",value:function(){var e=this.$refs.nom.$el.querySelector("input");null!=e&&e.select()}}]),i}(je);Object(d["a"])([Object(Y["a"])("initialIngredient")],we.prototype,"onPropChange",null),we=Object(d["a"])([Object(m["b"])({components:{UniteField:le,ConditionnementField:Ce}})],we);var Oe=we,_e=Oe,Ie=i("4bd4"),Ve=i("b73d"),Re=Object(j["a"])(_e,W,X,!1,null,"13b9c0b0",null),Me=Re.exports;O()(Re,{VBtn:_["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["c"],VCardTitle:V["d"],VCol:R["a"],VForm:Ie["a"],VRow:E["a"],VSelect:ce["a"],VSpacer:A["a"],VSwitch:Ve["a"],VTextField:be["a"]});var Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!=e.ingredient?i("v-card",[i("v-card-title",{attrs:{"primary-title":""}},[e._v(" Produits associés à l'ingrédient "+e._s(e.ingredient.nom)+" ")]),i("v-card-subtitle",[e._v(" Vous pouvez choisir ici quels produits concrets sont associés à l'ingrédient générique. ")]),i("v-card-text",[i("v-row",[i("v-col",[i("v-skeleton-loader",{staticClass:"h-100",attrs:{type:"paragraph",loading:e.loading}},[i("v-simple-table",{attrs:{dense:"","fixed-header":""}},[i("thead",[i("tr",[i("th"),i("th",{staticClass:"text-left"},[e._v("Fournisseur")]),i("th",{staticClass:"text-left"},[e._v("Nom")]),i("th",{staticClass:"text-center"},[e._v("Prix")]),i("th",{staticClass:"text-center"},[e._v("Conditionnement")]),i("th")])]),i("tbody",e._l(e.produits,(function(t){return i("tr",{key:t.id},[i("td",{staticClass:"px-1"},[i("tooltip-btn",{attrs:{small:"","mdi-icon":"star",color:e.isDefault(t)?"yellow":"",tooltip:e.isDefault(t)?"Retirer ce produit des favoris":"Définir ce produit par défaut"},on:{click:function(i){return e.setDefault(t)}}})],1),i("td",{domProps:{innerHTML:e._s(e.formatFournisseur(t))}}),i("td",[e._v(e._s(t.nom))]),i("td",{staticClass:"text-center"},[e._v(e._s(t.prix)+" €")]),i("td",{staticClass:"text-center"},[e._v(" "+e._s(e.formatConditionnement(t.conditionnement))+" ")]),i("td",{staticClass:"px-1"},[i("tooltip-btn",{attrs:{small:"","mdi-icon":"close",color:"red",tooltip:"Supprimer ce produit"},on:{click:function(i){return e.deleteProduit(t)}}})],1)])})),0)])],1)],1),i("v-col",[i("details-produit",{attrs:{C:e.C,produit:e.newProduit},on:{add:e.addProduit}})],1)],1)],1)],1):e._e()},Se=[],Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",[i("v-card-title",[e._v("Détails du produit")]),i("v-card-text",[i("v-form",{ref:"form"},[i("v-row",[i("v-col",[i("v-select",{attrs:{items:e.optionsLivraisons,label:"Fournisseur",rules:[e.rules.idRequired]},scopedSlots:e._u([{key:"item",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.asE(t.item).text)}})]}},{key:"selection",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.asE(t.item).text)}})]}}]),model:{value:e.innerProduit.id_livraison,callback:function(t){e.$set(e.innerProduit,"id_livraison",t)},expression:"innerProduit.id_livraison"}})],1),i("v-col",[i("v-text-field",{attrs:{label:"Nom",rules:[e.rules.required]},model:{value:e.innerProduit.nom,callback:function(t){e.$set(e.innerProduit,"nom",t)},expression:"innerProduit.nom"}})],1)],1),i("v-row",[i("v-col",[i("v-text-field",{attrs:{label:"Prix",type:"number",suffix:"€",rules:[e.rules.required],hint:"Prix d'un exemplaire"},model:{value:e.innerProduit.prix,callback:function(t){e.$set(e.innerProduit,"prix",e._n(t))},expression:"innerProduit.prix"}})],1),i("v-col",[i("v-text-field",{attrs:{label:"Référence fournisseur",hint:"Optionnel"},model:{value:e.innerProduit.reference_fournisseur,callback:function(t){e.$set(e.innerProduit,"reference_fournisseur",t)},expression:"innerProduit.reference_fournisseur"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("conditionnement-field",{model:{value:e.innerProduit.conditionnement,callback:function(t){e.$set(e.innerProduit,"conditionnement",t)},expression:"innerProduit.conditionnement"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Colisage",type:"number",hint:"Nombre minimum d'exemplaires livrables",min:1,"persistent-hint":""},model:{value:e.innerProduit.colisage,callback:function(t){e.$set(e.innerProduit,"colisage",e._n(t))},expression:"innerProduit.colisage"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"success"},on:{click:e.validate}},[e._v("Ajouter ce produit")])],1)],1)},$e=[],Le=(i("d81d"),p["a"].extend({props:{C:Object,produit:Object}})),Ee=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.innerProduit=e.duplique(),e.asE=function(e){return e},e.rules={required:function(e){return!!e||"Champ requis"},idRequired:function(e){return e>=0||"Champ requis"}},e}return Object(c["a"])(i,[{key:"onChange",value:function(){this.innerProduit=this.duplique()}},{key:"duplique",value:function(){return Object(ne["a"])(this.produit)}},{key:"optionsLivraisons",get:function(){var e=this,t=Object.values(this.C.api.livraisons).map((function(t){return{text:e.C.formatter.formatLivraison(t),value:t.id}}));return t}},{key:"validate",value:function(){this.$refs.form.validate()&&this.$emit("add",this.innerProduit)}}]),i}(Le);Object(d["a"])([Object(Y["a"])("produit")],Ee.prototype,"onChange",null),Ee=Object(d["a"])([Object(m["b"])({components:{ConditionnementField:Ce}})],Ee);var Ae=Ee,De=Ae,qe=Object(j["a"])(De,Te,$e,!1,null,"0528abfc",null),Ne=qe.exports;O()(qe,{VBtn:_["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["c"],VCardTitle:V["d"],VCol:R["a"],VForm:Ie["a"],VRow:E["a"],VSelect:ce["a"],VSpacer:A["a"],VTextField:be["a"]});var Be=i("ad05"),Fe=p["a"].extend({props:{C:Object,ingredient:Object,activated:Boolean}}),Ue=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.formatConditionnement=Be["a"].formatConditionnement,e.ingredientProduits=null,e}return Object(c["a"])(i,[{key:"newProduit",get:function(){var e={quantite:0,unite:ie["d"].Litres};return null!=this.ingredient&&(e=this.ingredient.conditionnement,this.ingredient.unite!=ie["d"].Piece&&(e.unite=this.ingredient.unite)),{id_livraison:-1,nom:"",conditionnement:e,prix:0,reference_fournisseur:"",colisage:1}}},{key:"loading",get:function(){return this.C.notifications.spin}},{key:"produits",get:function(){return null!=this.ingredientProduits&&this.ingredientProduits.produits||[]}},{key:"formatFournisseur",value:function(e){return this.C.formatter.formatFournisseur(e)}},{key:"isDefault",value:function(e){return null!=this.ingredientProduits&&(this.ingredientProduits.defaults||{})[e.id]}},{key:"loadProduits",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.ingredient){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.C.api.GetIngredientProduits({id:this.ingredient.id});case 4:if(t=e.sent,void 0!=t){e.next=7;break}return e.abrupt("return");case 7:this.ingredientProduits=t;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.loadProduits()}},{key:"onChangeIngredient",value:function(e){e&&this.loadProduits()}},{key:"addProduit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.ingredient){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.C.api.AjouteIngredientProduit({produit:t,id_ingredient:this.ingredient.id});case 4:i=e.sent,i&&(this.ingredientProduits=i);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteProduit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.ingredient){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.C.api.DeleteProduit({id:t.id});case 4:return e.next=6,this.loadProduits();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setDefault",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=!this.isDefault(t),null!=this.ingredient){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.C.api.SetDefautProduit({id_ingredient:this.ingredient.id,id_produit:t.id,on:i});case 5:n=e.sent,n&&(this.ingredientProduits=n);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),i}(Fe);Object(d["a"])([Object(Y["a"])("activated")],Ue.prototype,"onChangeIngredient",null),Ue=Object(d["a"])([Object(m["b"])({components:{DetailsProduit:Ne,TooltipBtn:h["a"]}})],Ue);var ze=Ue,He=ze,Ge=i("1f4f"),Je=i("3129"),Ze=Object(j["a"])(He,Pe,Se,!1,null,"03e05c2f",null),Ke=Ze.exports;O()(Ze,{VCard:I["a"],VCardSubtitle:V["b"],VCardText:V["c"],VCardTitle:V["d"],VCol:R["a"],VRow:E["a"],VSimpleTable:Ge["a"],VSkeletonLoader:Je["a"]});var Qe=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.confirmeSupprime=!1,e.showEditIngredient=!1,e.editMode="new",e.editedIngredient={ingredient:Object(a["a"])(Object(a["a"])({},ke),{},{id:-1})},e.showEditProduits=!1,e.search="",e}return Object(c["a"])(i,[{key:"subtitle",value:function(e){return e.options?"".concat(e.options.quantite," <i>").concat(e.ingredient.unite,"</i> - Cuisson : ").concat(e.options.cuisson||"-"):"<i>".concat(e.ingredient.unite,"</i>")}},{key:"title",get:function(){return"editMenu"==this.state.mode||"editRecette"==this.state.mode?"Choisir un ingrédient":null!=this.state.selection.idRecette?"Ingrédients liés à la recette":null!=this.state.selection.idMenu?"Ingrédients liés au menu":"Tous les ingrédients"}},{key:"editedIngredientProduit",get:function(){return null==this.state.selection.idIngredient?null:this.C.getIngredient(this.state.selection.idIngredient)}},{key:"searchIngredients",value:function(e,t){var i=Object(F["f"])(t);return e.filter((function(e){return t==e.ingredient.unite||i(e.ingredient.nom)})).sort((function(e,t){return Number(e.ingredient.nom<t.ingredient.nom)}))}},{key:"ingredients",get:function(){var e;return e="editMenu"==this.state.mode||"editRecette"==this.state.mode?this.C.getAllIngredients():null!=this.state.selection.idRecette?this.C.getRecetteIngredients(this.state.selection.idRecette):null!=this.state.selection.idMenu?this.C.getMenuIngredients(this.state.selection.idMenu):this.C.getAllIngredients(),this.searchIngredients(e,this.search)}},{key:"showActions",value:function(e){return null==this.state.selection.idMenu&&null==this.state.selection.idRecette&&e}},{key:"supprime",value:function(e){this.confirmeSupprime=!1,null!=this.state.selection.idIngredient&&this.C.api.DeleteIngredient({id:this.state.selection.idIngredient,check_produits:e})}},{key:"onDragStart",value:function(e,t){e.dataTransfer&&(Object(U["c"])(e.dataTransfer,U["a"].IdIngredient,t.id),e.dataTransfer.effectAllowed="copy")}},{key:"startEditIngredient",value:function(e){this.$emit("change",e),this.editedIngredient=e,this.editMode="edit",this.showEditIngredient=!0}},{key:"editIngredientDone",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.showEditIngredient=!1,"edit"!=this.editMode){e.next=7;break}return e.next=4,this.C.api.UpdateIngredient(t);case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,this.C.api.CreateIngredient(t);case 9:t=e.sent;case 10:null==this.C.notifications.getError()&&(this.state.selection.idIngredient=t.id),this.$emit("change",null);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startCreateIngredient",value:function(){this.$emit("change",{ingredient:ke}),this.editMode="new",this.showEditIngredient=!0}},{key:"startEditProduits",value:function(e){this.showEditProduits=!0}}]),i}(C);Qe=Object(d["a"])([Object(m["b"])({components:{TooltipBtn:h["a"],EditIngredient:Me,AssociationIngredient:Ke,Toolbar:b["a"]},props:{kind:{type:String,default:"idIngredient"}}})],Qe);var We=Qe,Xe=We,Ye=Object(j["a"])(Xe,K,Q,!1,null,null,null),et=Ye.exports;O()(Ye,{VBtn:_["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["c"],VCardTitle:V["d"],VCol:R["a"],VDialog:M["a"],VList:P["a"],VListItem:S["a"],VListItemAction:T["a"],VListItemContent:$["a"],VListItemGroup:L["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VRow:E["a"],VSpacer:A["a"]});var tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-toolbar",{staticClass:"my-1",attrs:{color:"secondary",dense:""}},[i("v-toolbar-title",[e._v(e._s(e.title))]),i("v-spacer"),i("v-toolbar-items",[i("tooltip-btn",{attrs:{"mdi-icon":"check-outline",tooltip:"Valider",color:"success"},on:{click:function(t){return e.$emit("done",e.menu)}}}),i("tooltip-btn",{attrs:{"mdi-icon":"undo",tooltip:"Abandonner les modifications"},on:{click:function(t){return e.$emit("undo")}}})],1)],1),i("v-textarea",{staticClass:"pa-2 mt-4 my-3 mb-0",attrs:{label:"Commentaire","hide-details":"",rows:"2"},model:{value:e.menu.commentaire,callback:function(t){e.$set(e.menu,"commentaire",t)},expression:"menu.commentaire"}}),i("div",{on:{dragover:e.onDragoverRecettes,drop:e.onDropRecette}},[i("v-list",{staticClass:"mt-0 pt-0 overflow-y-auto",attrs:{dense:"","max-height":"60vh"}},[i("v-subheader",[e._v("Recettes du menu")]),0==e.recettes.length?i("v-list-item",[i("v-list-item-subtitle",[i("i",[e._v("Cliquer-déplacer pour ajouter une recette...")])])],1):e._e(),e._l(e.recettes,(function(t){return i("v-list-item",{key:t.id,scopedSlots:e._u([{key:"default",fn:function(n){return[i("v-list-item-content",[i("v-list-item-title",[i("v-list-item-title",[e._v(e._s(t.nom))])],1),i("v-list-item-subtitle",[i("i",[e._v(" "+e._s(e.formatRecetteProprietaire(t)))])])],1),i("v-list-item-action",[i("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Retirer cette recette du menu",color:"red"},on:{click:function(i){return i.stopPropagation(),e.removeRecette(t)}}})],1)]}}],null,!0)})}))],2)],1),i("liste-lien-ingredients",{attrs:{C:e.C,subheader:"Ingrédients additionnels"},model:{value:e.menu.ingredients,callback:function(t){e.$set(e.menu,"ingredients",t)},expression:"menu.ingredients"}})],1)},it=[],nt=(i("caad"),i("2532"),i("fdc3")),rt=p["a"].extend({props:{C:Object,mode:String,initialMenu:Object}}),at=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.menu=Object(ne["a"])(e.initialMenu),e.formatRecetteProprietaire=e.C.formatter.formatMenuOrRecetteProprietaire,e}return Object(c["a"])(i,[{key:"onMenuChange",value:function(){this.menu=Object(ne["a"])(this.initialMenu)}},{key:"title",get:function(){return"edit"==this.mode?"Modifier le menu":"Ajouter un menu"}},{key:"recettes",get:function(){return this.C.getMenuRecettes(this.menu)}},{key:"removeRecette",value:function(e){this.menu.recettes=(this.menu.recettes||[]).filter((function(t){return t!=e.id}))}},{key:"onDragoverRecettes",value:function(e){if(e.dataTransfer){var t=e.dataTransfer.types.includes(U["a"].IdRecette);t&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")}}},{key:"onDropRecette",value:function(e){if(e.dataTransfer){e.preventDefault();var t=Object(U["b"])(e.dataTransfer,U["a"].IdRecette),i=this.menu.recettes||[],n=i.includes(t);n||(i.push(t),this.menu.recettes=i)}}}]),i}(rt);Object(d["a"])([Object(Y["a"])("initialMenu")],at.prototype,"onMenuChange",null),at=Object(d["a"])([Object(m["b"])({components:{TooltipBtn:h["a"],ListeLienIngredients:nt["a"]}})],at);var ot=at,st=ot,ct=i("e0c7"),ut=(i("1681"),i("58df")),lt=Object(ut["a"])(be["a"]),dt=lt.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return Object(a["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},be["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(i,t)+"px"}},genInput:function(){var e=be["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){be["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}}),mt=i("71d9"),pt=i("2a7f"),vt=Object(j["a"])(st,tt,it,!1,null,"75c5e286",null),ft=vt.exports;O()(vt,{VList:P["a"],VListItem:S["a"],VListItemAction:T["a"],VListItemContent:$["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VSpacer:A["a"],VSubheader:ct["a"],VTextarea:dt,VToolbar:mt["a"],VToolbarItems:pt["a"],VToolbarTitle:pt["b"]});var ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-toolbar",{staticClass:"my-1",attrs:{color:"secondary",dense:""}},[i("v-toolbar-title",[e._v(e._s(e.title))]),i("v-spacer"),i("v-toolbar-items",[i("tooltip-btn",{attrs:{"mdi-icon":"check-outline",tooltip:"Valider",color:"success"},on:{click:function(t){return e.$emit("done",e.recette)}}}),i("tooltip-btn",{attrs:{"mdi-icon":"undo",tooltip:"Abandonner les modifications"},on:{click:function(t){return e.$emit("undo")}}})],1)],1),i("v-row",{staticClass:"px-2"},[i("v-col",[i("v-text-field",{attrs:{label:"Nom de la recette",required:""},model:{value:e.recette.nom,callback:function(t){e.$set(e.recette,"nom",t)},expression:"recette.nom"}}),i("v-textarea",{attrs:{label:"Mode d'emploi","hide-details":"",rows:"2"},model:{value:e.recette.mode_emploi,callback:function(t){e.$set(e.recette,"mode_emploi",t)},expression:"recette.mode_emploi"}})],1),i("v-col",[i("liste-lien-ingredients",{staticClass:"mt-0 pt-0 overflow-y-auto",staticStyle:{"max-height":"60vh"},attrs:{C:e.C,subheader:"Ingrédients"},model:{value:e.recette.ingredients,callback:function(t){e.$set(e.recette,"ingredients",t)},expression:"recette.ingredients"}})],1)],1)],1)},bt=[],gt=p["a"].extend({props:{C:Object,mode:String,initialRecette:Object}}),Ct=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.recette=Object(ne["a"])(e.initialRecette),e.formatRecetteProprietaire=e.C.formatter.formatMenuOrRecetteProprietaire,e}return Object(c["a"])(i,[{key:"onRecetteChange",value:function(){this.recette=Object(ne["a"])(this.initialRecette)}},{key:"title",get:function(){return"edit"==this.mode?"Modifier la recette":"Ajouter une recette"}}]),i}(gt);Object(d["a"])([Object(Y["a"])("initialRecette")],Ct.prototype,"onRecetteChange",null),Ct=Object(d["a"])([Object(m["b"])({components:{TooltipBtn:h["a"],ListeLienIngredients:nt["a"]}})],Ct);var kt=Ct,yt=kt,xt=Object(j["a"])(yt,ht,bt,!1,null,"5df69d9a",null),jt=xt.exports;O()(xt,{VCol:R["a"],VRow:E["a"],VSpacer:A["a"],VTextField:be["a"],VTextarea:dt,VToolbar:mt["a"],VToolbarItems:pt["a"],VToolbarTitle:pt["b"]});var wt=p["a"].extend({props:{C:Object}}),Ot=function(e){Object(u["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.state={mode:"visu",selection:{idMenu:null,idRecette:null,idIngredient:null}},e.editMode="new",e.editedMenu=xe,e.editedRecette=ye,e}return Object(c["a"])(i,[{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.C.api.loadAllMenus();case 2:this.selectIngredient();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"activated",value:function(){this.C.notifications.spin||this.selectIngredient()}},{key:"selectIngredient",value:function(){var e=Number(this.$route.query["idIngredient"]);e&&(this.state.mode="visu",this.state.selection.idRecette=null,this.state.selection.idMenu=null,this.$refs.listeIngredients.goToItem(e))}},{key:"startEditMenu",value:function(e){this.editedMenu=e,this.state.selection.idMenu=e.id,this.state.mode="editMenu",this.editMode="edit"}},{key:"startCreateMenu",value:function(){if(null!=this.C.state.idUtilisateur){var e=Object(a["a"])(Object(a["a"])({},Object(ne["a"])(xe)),{},{id:-1});e.id_utilisateur.Int64=this.C.state.idUtilisateur,this.editedMenu=e,this.editMode="new",this.state.mode="editMenu"}}},{key:"editMenuCancel",value:function(){this.state.mode="visu"}},{key:"editMenuDone",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("edit"!=this.editMode){e.next=6;break}return e.next=3,this.C.api.UpdateMenu(t);case 3:i=e.sent,e.next=9;break;case 6:return e.next=8,this.C.api.CreateMenu(t);case 8:i=e.sent;case 9:this.state.mode="visu",void 0!==i&&this.$refs.listeMenus.goToItem(i.id);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startEditRecette",value:function(e){this.editedRecette=e,this.editMode="edit",this.state.mode="editRecette"}},{key:"startCreateRecette",value:function(){var e=Object(a["a"])(Object(a["a"])({},Object(ne["a"])(ye)),{},{id:-1});e.id_utilisateur.Int64=this.C.state.idUtilisateur,this.editedRecette=e,this.editMode="new",this.state.mode="editRecette"}},{key:"editRecetteCancel",value:function(){this.state.mode="visu"}},{key:"editRecetteDone",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("edit"!=this.editMode){e.next=6;break}return e.next=3,this.C.api.UpdateRecette(t);case 3:i=e.sent,e.next=9;break;case 6:return e.next=8,this.C.api.CreateRecette(t);case 8:i=e.sent;case 9:this.state.mode="visu",void 0!==i&&this.$refs.listeRecettes.goToItem(i.id);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),i}(wt);Ot=Object(d["a"])([Object(m["b"])({components:{ListeMenus:q,ListeRecettes:Z,ListeIngredients:et,EditMenu:ft,EditRecette:jt}})],Ot);var _t=Ot,It=_t,Vt=i("a523"),Rt=Object(j["a"])(It,n,r,!1,null,null,null);t["default"]=Rt.exports;O()(Rt,{VCol:R["a"],VContainer:Vt["a"],VRow:E["a"]})}}]);
//# sourceMappingURL=menus.43eacf41.js.map