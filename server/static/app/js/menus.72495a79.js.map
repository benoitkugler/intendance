{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///../../../src/components/VSkeletonLoader/VSkeletonLoader.ts","webpack:///./src/views/Menus.vue?4655","webpack:///./src/components/menus/ListeMenus.vue?507e","webpack:///./src/components/menus/ListeMenus.vue","webpack:///./src/components/menus/ListeMenus.vue?8efa","webpack:///./src/components/menus/ListeMenus.vue?2d3a","webpack:///./src/components/menus/ListeRecettes.vue?6e9f","webpack:///./src/components/menus/ListeRecettes.vue","webpack:///./src/components/menus/ListeRecettes.vue?8ecb","webpack:///./src/components/menus/ListeRecettes.vue?73fd","webpack:///./src/components/menus/ListeIngredients.vue?1365","webpack:///./src/components/menus/EditIngredient.vue?4105","webpack:///./src/components/utils/UniteField.vue?f3dc","webpack:///./src/components/utils/UniteField.vue","webpack:///./src/components/utils/UniteField.vue?eb56","webpack:///./src/components/utils/UniteField.vue?566c","webpack:///./src/components/menus/types.ts","webpack:///./src/components/menus/EditIngredient.vue","webpack:///./src/components/menus/EditIngredient.vue?1c04","webpack:///./src/components/menus/EditIngredient.vue?f8ff","webpack:///./src/components/produits/AssociationIngredient.vue?8b7b","webpack:///./src/components/produits/AssociationIngredient.vue","webpack:///./src/components/produits/AssociationIngredient.vue?c316","webpack:///./src/components/produits/AssociationIngredient.vue?c1ce","webpack:///./src/components/menus/ListeIngredients.vue","webpack:///./src/components/menus/ListeIngredients.vue?7b46","webpack:///./src/components/menus/ListeIngredients.vue?721b","webpack:///./src/components/menus/EditMenu.vue?3e46","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?02c3","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?700a","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?9bab","webpack:///./src/components/menus/EditMenu.vue","webpack:///./src/components/menus/EditMenu.vue?b194","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/components/menus/EditMenu.vue?855c","webpack:///./src/components/menus/EditRecette.vue?a8a3","webpack:///./src/components/menus/EditRecette.vue","webpack:///./src/components/menus/EditRecette.vue?d5cc","webpack:///./src/components/menus/EditRecette.vue?0e38","webpack:///./src/views/Menus.vue","webpack:///./src/views/Menus.vue?e40c","webpack:///./src/views/Menus.vue?5f84","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./src/components/utils/Toolbar.vue?7200","webpack:///./src/components/utils/Toolbar.vue","webpack:///./src/components/utils/Toolbar.vue?96b6","webpack:///./src/components/utils/Toolbar.vue?7587"],"names":["module","exports","Object","is","x","y","name","props","boilerplate","loading","tile","transition","type","types","default","computed","attrs","this","role","$attrs","classes","elevationClasses","isLoading","rootTypes","actions","article","avatar","button","card","chip","heading","image","paragraph","sentences","table","text","methods","genBone","$createElement","staticClass","genBones","bone","generator","Array","length","genStructure","children","mapBones","genSkeleton","on","afterEnter","beforeEnter","beforeLeave","leaveCancelled","resetStyles","bones","onBeforeEnter","el","display","onBeforeLeave","render","h","class","style","undefined","_vm","_h","_c","_self","state","mode","key","staticStyle","menu","selection","startEditMenu","startCreateMenu","_e","editMode","editMenuCancel","editMenuDone","rec","recette","startEditRecette","startCreateRecette","editRecetteCancel","editRecetteDone","ing","ingredient","staticRenderFns","model","value","callback","$$v","confirmeSupprime","expression","_v","supprime","$event","$emit","search","args","_l","id","scopedSlots","_u","fn","ref","active","_s","formatMenuName","formatMenuProprietaire","showButtons","stopPropagation","Props","extend","formatter","formatMenuOrRecetteProprietaire","id_proprietaire","Valid","Int64","idUtilisateur","data","deleteMenu","notifications","getError","setMessage","searchMenu","components","TooltipBtn","Toolbar","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDialog","VList","VListItem","VListItemAction","VListItemContent","VListItemGroup","VListItemSubtitle","VListItemTitle","VRow","VSpacer","title","height","ev","onDragStart","nom","formatRecetteProprietaire","showActions","String","recettes","predicat","filter","deleteRecette","event","dataTransfer","setData","effectAllowed","baseRecettes","values","getMenuRecettes","searchRecettes","showEditIngredient","editIngredientDone","showEditProduits","editedIngredientProduit","startCreateIngredient","domProps","subtitle","startEditProduits","startEditIngredient","nativeOn","indexOf","_k","keyCode","current","$set","conditionnement","_n","allowedUnitesConditionnement","btnTitle","disabled","unites","unite","label","UniteFieldProps","Boolean","prop","VSelect","DefautIngredient","categorie","quantite","callories","DefautRecette","ingredients","mode_emploi","DefautMenu","commentaire","EditIngredientProps","initialIngredient","copy","initial","input","$refs","$el","querySelector","select","b","Piece","u","UniteField","VForm","VSwitch","VTextField","ingredientProduits","AssociationIngredientProps","activated","getIngredientProduits","res","loadProduits","getSpin","VCardSubtitle","VSkeletonLoader","options","cuisson","checkProduits","deleteIngredient","message","updateIngredient","createIngredient","baseIngredients","getAllIngredients","getRecetteIngredients","getMenuIngredients","searchIngredients","EditIngredient","AssociationIngredient","editedIngredient","onDragoverRecettes","onDropRecette","removeRecette","onDragoverIngredients","onDropIngredient","getIngredient","editIngredient","removeIngredient","MenuOrRecetteIngredientProps","EditMenuProps","initialMenu","id_ingredient","toRemove","id_recette","edited","ings","forEach","index","isRecette","includes","preventDefault","dropEffect","idRecette","Number","getData","hasRecette","r","push","id_menu","isIngredient","newIngredient","idIngredient","matchingIngredients","setTimeout","ed","focus","MenuOrRecetteIngredient","baseMixins","mixins","autoGrow","noResize","rowHeight","validator","v","isNaN","parseFloat","rows","parseInt","noResizeHandle","watch","lazyValue","$nextTick","mounted","calculateInputHeight","minHeight","Math","genInput","onInput","onKeyDown","isFocused","e","VSubheader","VTextarea","VToolbar","VToolbarItems","VToolbarTitle","EditRecetteProps","initialRecette","loadAllMenus","newMenu","updateMenu","createMenu","newRecette","updateRecette","createRecette","ListeMenus","ListeRecettes","ListeIngredients","EditMenu","EditRecette","VContainer","VFadeTransition","VSlideXReverseTransition","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","call","RegExp","done","rx","S","previousLastIndex","lastIndex","result","directives","rawName","showSearch","s","tooltipAdd","ToolbarProps","showAdd"],"mappings":"0FAEAA,EAAOC,QAAUC,OAAOC,IAAM,SAAYC,EAAGC,GAE3C,OAAOD,IAAMC,EAAU,IAAND,GAAW,EAAIA,IAAM,EAAIC,EAAID,GAAKA,GAAKC,GAAKA,I,4PCmBhD,sBAAO,EAAD,YAAN,eAIN,CACPC,KADO,kBAGPC,MAAO,CACLC,YADK,QAELC,QAFK,QAGLC,KAHK,QAILC,WAJK,OAKLC,KALK,OAMLC,MAAO,CACLD,KADK,OAELE,QAAS,uBAIbC,SAAU,CACRC,MADQ,WAEN,OAAKC,KAAL,UAEQA,KAAD,YAAP,GAAO,gBACL,aADyB,EAEzB,YAFyB,SAGzBC,KAHyB,SAItBD,KAAKE,QANkBF,KAAP,QASvBG,QAXQ,WAYN,uBACE,iCAAkCH,KAD7B,YAEL,gCAAiCA,KAF5B,UAGL,0BAA2BA,KAHtB,MAIFA,KAJE,aAAP,GAKKA,KAAKI,mBAGZC,UApBQ,WAqBN,QAAS,YAAaL,KAAf,eAAqCA,KAA5C,SAEFM,UAvBQ,WAwBN,uBACEC,QADK,WAELC,QAFK,qBAGLC,OAHK,SAILC,OAJK,SAKLC,KALK,sBAML,cANK,0BAOL,eAPK,UAQLC,KARK,OASL,cATK,mFAUL,sBAVK,iBAWL,mBAXK,YAYLC,QAZK,UAaLC,MAbK,QAcL,YAdK,OAeL,mBAfK,eAgBL,qBAhBK,YAiBL,4BAjBK,oBAkBL,uBAlBK,YAmBL,8BAnBK,oBAoBLC,UApBK,SAqBLC,UArBK,SAsBLC,MAtBK,uDAuBL,gBAvBK,gBAwBL,cAxBK,YAyBL,cAzBK,sBA0BL,oBA1BK,qBA2BL,YA3BK,eA4BL,aA5BK,OA6BL,cA7BK,mBA8BLC,KA9BK,QA+BFlB,KAAKJ,SAKduB,QAAS,CACPC,QADO,SACA,KACL,OAAOpB,KAAKqB,eAAe,MAAO,CAChCC,YAAa,sBAAF,OAAwBJ,EAAxB,6BADb,IAIFK,SANO,SAMC,GAAc,aAEGC,EAAA,MAAvB,KAFoB,sBAEd,EAFc,KAEd,EAFc,KAGdC,EAAY,kBAAM,eAHJ,IAOpB,OAAOC,MAAA,KAAW,CAAEC,WAAb,IAAP,IAIFC,aAjBO,SAiBK,GACV,IAAIC,EAAJ,GACAlC,EAAOA,GAAQK,KAARL,MAAP,GACA,IAAM6B,EAAOxB,KAAKM,UAAUX,IAHH,GAOzB,GAAIA,IAAJ,OAEK,IAAIA,EAAA,cAAJ,EAA4B,OAAOK,KAAK8B,SAAxC,GAEA,GAAInC,EAAA,cAAJ,EAA4B,OAAOK,KAAKuB,SAAxC,GAEIC,EAAA,cAAJ,EAA4BK,EAAW7B,KAAK8B,SAA5C,GAEIN,EAAA,cAAJ,EAA4BK,EAAW7B,KAAKuB,SAA5C,GAEIC,GAAMK,EAAA,KAAc7B,KAAK4B,aAAnB,IAEf,MAAO,CAAC5B,KAAKoB,QAAQzB,EAArB,KAEFoC,YAtCO,WAuCL,IAAMF,EAAN,GAMA,OAJK7B,KAAL,UACK6B,EAAA,KAAc7B,KAAd,gBADgB6B,EAAA,KAAc,eAAnC,OAIK7B,KAAL,WAGOA,KAAKqB,eAAe,aAAc,CACvC/B,MAAO,CACLD,KAAMW,KAAKN,YAIbsC,GAAI,CACFC,WAAYjC,KADV,YAEFkC,YAAalC,KAFX,cAGFmC,YAAanC,KAHX,cAIFoC,eAAgBpC,KAAKqC,cAVzB,GAH6BR,GAiB/BC,SA9DO,SA8DC,GAEN,OAAOQ,EAAA,iCAAwCtC,KAA/C,eAEFuC,cAlEO,SAkEM,GACXvC,KAAA,eAEKA,KAAL,YAEAwC,EAAA,cAAmB,CACjBC,QAASD,EAAA,MADQ,QAEjB9C,WAAY8C,EAAA,MAAS9C,YAGvB8C,EAAA,qDAEFE,cA9EO,SA8EM,GACXF,EAAA,iDAEFH,YAjFO,SAiFI,GACJG,EAAL,gBAEAA,EAAA,cAAmBA,EAAA,uBAAnB,GACAA,EAAA,iBAAsBA,EAAA,cAAtB,kBAEOA,EAAP,iBAIJG,OAtKO,SAsKD,GACJ,OAAOC,EAAE,MAAO,CACdtB,YADc,oBAEdvB,MAAOC,KAFO,MAGdgC,GAAIhC,KAHU,WAId6C,MAAO7C,KAJO,QAKd8C,MAAO9C,KAAKK,UAAYL,KAAjB,sBAAyC+C,GAC/C,CAAC/C,KANJ,oB,2CClMJ,IAAI2C,EAAS,WAAa,IAAIK,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,cAAc,CAAC5B,YAAY,YAAYvB,MAAM,CAAC,MAAQ,KAAK,CAACmD,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,KAAK,CAAoB,QAAlBiD,EAAII,MAAMC,MAAoC,YAAlBL,EAAII,MAAMC,KAAoBH,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,MAAM,CAACmD,EAAG,oBAAoB,CAACnD,MAAM,CAAC,MAAQ,GAAG,gBAAgB,KAAK,CAAoB,QAAlBiD,EAAII,MAAMC,KAAgBH,EAAG,cAAc,CAACI,IAAI,QAAQC,YAAY,CAAC,OAAS,QAAQxD,MAAM,CAAC,MAAQiD,EAAII,OAAOpB,GAAG,CAAC,OAAS,SAAUwB,GAAQ,OAAQR,EAAII,MAAMK,UAAUD,KAAOA,GAAS,KAAOR,EAAIU,cAAc,IAAMV,EAAIW,mBAAmBX,EAAIY,KAAwB,YAAlBZ,EAAII,MAAMC,KAAoBH,EAAG,YAAY,CAACI,IAAI,OAAOvD,MAAM,CAAC,KAAOiD,EAAIa,SAAS,YAAcb,EAAII,MAAMK,UAAUD,MAAMxB,GAAG,CAAC,KAAOgB,EAAIc,eAAe,KAAOd,EAAIe,gBAAgBf,EAAIY,MAAM,IAAI,GAAGZ,EAAIY,KAAKV,EAAG,QAAQ,CAACA,EAAG,+BAA+B,CAACnD,MAAM,CAAC,MAAQ,GAAG,gBAAgB,KAAK,CAAoB,QAAlBiD,EAAII,MAAMC,MAAoC,YAAlBL,EAAII,MAAMC,KAAoBH,EAAG,iBAAiB,CAACI,IAAI,QAAQvD,MAAM,CAAC,OAAS,OAAO,MAAQiD,EAAII,OAAOpB,GAAG,CAAC,OAAS,SAAUgC,GAAO,OAAQhB,EAAII,MAAMK,UAAUQ,QAAUD,GAAQ,KAAOhB,EAAIkB,iBAAiB,IAAMlB,EAAImB,sBAAsBnB,EAAIY,KAAwB,eAAlBZ,EAAII,MAAMC,KAAuBH,EAAG,eAAe,CAACI,IAAI,OAAOvD,MAAM,CAAC,KAAOiD,EAAIa,SAAS,eAAiBb,EAAII,MAAMK,UAAUQ,SAASjC,GAAG,CAAC,KAAOgB,EAAIoB,kBAAkB,KAAOpB,EAAIqB,mBAAmBrB,EAAIY,MAAM,IAAI,GAAGV,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,MAAM,CAACmD,EAAG,aAAa,CAACnD,MAAM,CAAC,KAAO,eAAe,CAACmD,EAAG,aAAa,CAACA,EAAG,oBAAoB,CAACnD,MAAM,CAAC,OAAS,OAAO,MAAQiD,EAAII,OAAOpB,GAAG,CAAC,OAAS,SAAUsC,GAAO,OAAQtB,EAAII,MAAMK,UAAUc,WAAaD,OAAY,IAAI,IAAI,IAAI,IAAI,IAC/mDE,EAAkB,G,oICDlB,EAAS,WAAa,IAAIxB,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACA,EAAG,WAAW,CAACnD,MAAM,CAAC,YAAY,SAAS0E,MAAM,CAACC,MAAO1B,EAAoB,iBAAE2B,SAAS,SAAUC,GAAM5B,EAAI6B,iBAAiBD,GAAKE,WAAW,qBAAqB,CAAC5B,EAAG,SAAS,CAACA,EAAG,eAAe,CAACnD,MAAM,CAAC,gBAAgB,GAAG,MAAQ,YAAY,CAACiD,EAAI+B,GAAG,gCAAgC7B,EAAG,cAAc,CAACF,EAAI+B,GAAG,kDAAkD7B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWiC,GAAG,CAAC,MAAQgB,EAAIgC,WAAW,CAAChC,EAAI+B,GAAG,gBAAgB,IAAI,IAAI,GAAG7B,EAAG,UAAU,CAACnD,MAAM,CAAC,WAAa,qBAAqB,MAAQ,QAAQ,QAA4B,QAAlBiD,EAAII,MAAMC,MAAgBrB,GAAG,CAAC,IAAM,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,SAAST,MAAM,CAACC,MAAO1B,EAAU,OAAE2B,SAAS,SAAUC,GAAM5B,EAAImC,OAAOP,GAAKE,WAAW,YAAY5B,EAAG,SAAS,CAAC5B,YAAY,kBAAkBvB,MAAM,CAAC,MAAQ,KAAK,CAACmD,EAAG,oBAAoB,CAACnD,MAAM,CAAC,MAAQiD,EAAII,MAAMK,UAAUD,MAAMxB,GAAG,CAAC,OAAS,SAAUoD,GAAQ,OAAOpC,EAAIkC,MAAM,SAAUE,MAAWpC,EAAIqC,GAAIrC,EAAS,OAAE,SAASQ,GAAM,OAAON,EAAG,cAAc,CAACI,IAAIE,EAAK8B,GAAGvF,MAAM,CAAC,MAAQyD,GAAM+B,YAAYvC,EAAIwC,GAAG,CAAC,CAAClC,IAAI,UAAUmC,GAAG,SAASC,GAC3qC,IAAIC,EAASD,EAAIC,OACjB,MAAO,CAACzC,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACF,EAAI+B,GAAG/B,EAAI4C,GAAG5C,EAAI6C,eAAerC,OAAUN,EAAG,uBAAuB,CAACA,EAAG,IAAI,CAACF,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAG5C,EAAI8C,uBAAuBtC,UAAa,GAAIR,EAAI+C,YAAYJ,EAAQnC,GAAON,EAAG,qBAAqB,CAACA,EAAG,QAAQ,CAACnD,MAAM,CAAC,aAAa,KAAK,CAACmD,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,SAAS,QAAU,mBAAmB,MAAQ,aAAaiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAIkC,MAAM,OAAQ1B,QAAW,GAAGN,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,QAAQ,QAAU,oBAAoB,MAAQ,OAAOiC,GAAG,CAAC,MAAQ,SAASiD,GAAQA,EAAOe,kBAAkBhD,EAAI6B,kBAAmB,OAAU,IAAI,IAAI,GAAG7B,EAAIY,SAAS,MAAK,QAAU,IAAI,IAAI,IACntB,EAAkB,G,0DC0EhBqC,EAAQ,OAAIC,OAAO,CACvB5G,MAAO,CACL8D,MAAOnE,UAOU,EAArB,6D,+DACE,EAAA4F,kBAAmB,EACnB,EAAAgB,eAAiB,OAAEM,UAAUN,eAC7B,EAAAC,uBAAyB,OAAEK,UAAUC,gCAErC,EAAAjB,OAAS,GALX,iFAWcQ,EAAiBnC,GAC3B,OACEmC,KACEnC,EAAK6C,gBAAgBC,OACrB9C,EAAK6C,gBAAgBE,OAAS,OAAEC,iBAfxC,gLAoBIxG,KAAK6E,kBAAmB,EACS,MAA7B7E,KAAKoD,MAAMK,UAAUD,KArB7B,iEAsBU,OAAEiD,KAAKC,WAAW1G,KAAKoD,MAAMK,UAAUD,MAtBjD,OAuBsC,MAA9B,OAAEmD,cAAcC,YAClB,OAAED,cAAcE,WAAW,8BAxBjC,qIAQI,OAAO,OAAEC,WAAW9G,KAAKmF,YAR7B,GAAwCc,GAAnB,EAAU,gBAH9B,eAAU,CACTc,WAAY,CAAEC,aAAA,KAAYC,UAAA,SAEP,WCtFgc,I,iLCOjdC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,EAAiB,QAoBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,UAAA,KAAQC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,iBAAA,OAAiBC,iBAAA,KAAeC,kBAAA,OAAkBC,eAAA,OAAeC,OAAA,KAAKC,UAAA,OCtC9L,IAAI,EAAS,WAAa,IAAIlF,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACA,EAAG,WAAW,CAACnD,MAAM,CAAC,YAAY,SAAS0E,MAAM,CAACC,MAAO1B,EAAoB,iBAAE2B,SAAS,SAAUC,GAAM5B,EAAI6B,iBAAiBD,GAAKE,WAAW,qBAAqB,CAAC5B,EAAG,SAAS,CAACA,EAAG,eAAe,CAACnD,MAAM,CAAC,gBAAgB,GAAG,MAAQ,YAAY,CAACiD,EAAI+B,GAAG,gCAAgC7B,EAAG,cAAc,CAACF,EAAI+B,GAAG,sDAAsD7B,EAAG,MAAMA,EAAG,MAAM,CAAC5B,YAAY,QAAQ,CAAC4B,EAAG,QAAQ,CAACF,EAAI+B,GAAG,uEAAuE7B,EAAG,IAAI,CAACF,EAAI+B,GAAG,kBAAkB/B,EAAI+B,GAAG,YAAY7B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWiC,GAAG,CAAC,MAAQgB,EAAIgC,WAAW,CAAChC,EAAI+B,GAAG,gBAAgB,IAAI,IAAI,GAAG7B,EAAG,UAAU,CAACnD,MAAM,CAAC,WAAa,yBAAyB,MAAQiD,EAAImF,MAAM,QAA4B,QAAlBnF,EAAII,MAAMC,MAA8C,MAA5BL,EAAII,MAAMK,UAAUD,MAAcxB,GAAG,CAAC,IAAM,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,SAAST,MAAM,CAACC,MAAO1B,EAAU,OAAE2B,SAAS,SAAUC,GAAM5B,EAAImC,OAAOP,GAAKE,WAAW,YAAY5B,EAAG,SAAS,CAAC5B,YAAY,kBAAkBvB,MAAM,CAAC,MAAQ,GAAG,aAAaiD,EAAIoF,SAAS,CAAClF,EAAG,oBAAoB,CAACnD,MAAM,CAAC,MAAQiD,EAAII,MAAMK,UAAUQ,SAASjC,GAAG,CAAC,OAAS,SAAUoD,GAAQ,OAAOpC,EAAIkC,MAAM,SAAUE,MAAWpC,EAAIqC,GAAIrC,EAAY,UAAE,SAASiB,GAAS,OAAOf,EAAG,cAAc,CAACI,IAAIW,EAAQqB,GAAGvF,MAAM,CAAC,MAAQkE,GAASsB,YAAYvC,EAAIwC,GAAG,CAAC,CAAClC,IAAI,UAAUmC,GAAG,SAASC,GACt7C,IAAIC,EAASD,EAAIC,OACjB,MAAO,CAACzC,EAAG,sBAAsB,CAACnD,MAAM,CAAC,UAAY,QAAQiC,GAAG,CAAC,UAAY,SAAUqG,GAAM,OAAOrF,EAAIsF,YAAYD,EAAIpE,MAAc,CAACf,EAAG,oBAAoB,CAACA,EAAG,oBAAoB,CAACF,EAAI+B,GAAG/B,EAAI4C,GAAG3B,EAAQsE,SAAS,GAAGrF,EAAG,uBAAuB,CAACA,EAAG,IAAI,CAACF,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAG5C,EAAIwF,0BAA0BvE,UAAgB,GAAIjB,EAAIyF,YAAY9C,EAAQ1B,GAAUf,EAAG,qBAAqB,CAACA,EAAG,QAAQ,CAACnD,MAAM,CAAC,aAAa,KAAK,CAACmD,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,SAAS,QAAU,yBAAyB,MAAQ,aAAaiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAIkC,MAAM,OAAQjB,QAAc,GAAGf,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,QAAQ,QAAU,0BAA0B,MAAQ,OAAOiC,GAAG,CAAC,MAAQ,SAASiD,GAAQA,EAAOe,kBAAkBhD,EAAI6B,kBAAmB,OAAU,IAAI,IAAI,GAAG7B,EAAIY,SAAS,MAAK,QAAU,IAAI,IAAI,IAC/1B,EAAkB,G,kCC2FhB,EAAQ,OAAIsC,OAAO,CACvB5G,MAAO,CACL8D,MAAOnE,OACPmJ,OAAQM,UAOS,EAArB,6D,+DACE,EAAA7D,kBAAmB,EAEnB,EAAAM,OAAS,GA4BT,EAAAqD,0BAA4B,OAAErC,UAAUC,gCA/B1C,oFAKyBuC,EAAqBxD,GAC1C,IAAMyD,EAAW,eAAezD,GAChC,OAAOwD,EAASE,QAAO,SAAA5E,GAAO,OAAI2E,EAAS3E,EAAQsE,UAPvD,kCAiCc5C,EAAiB1B,GAC3B,OAAiC,MAA7BjE,KAAKoD,MAAMK,UAAUD,OAEvBmC,KACE1B,EAAQoC,gBAAgBC,OACxBrC,EAAQoC,gBAAgBE,OAAS,OAAEC,kBAtC3C,gLA2CIxG,KAAK6E,kBAAmB,EACY,MAAhC7E,KAAKoD,MAAMK,UAAUQ,QA5C7B,iEA6CU,OAAEwC,KAAKqC,cAAc9I,KAAKoD,MAAMK,UAAUQ,SA7CpD,OA8CIjE,KAAKkF,MAAM,SAAU,MACa,MAA9B,OAAEyB,cAAcC,YAClB,OAAED,cAAcE,WAAW,kCAhDjC,2IAoDckC,EAAkB9E,GACvB8E,EAAMC,eACXD,EAAMC,aAAaC,QAAQ,aAAcP,OAAOzE,EAAQqB,KACxDyD,EAAMC,aAAaE,cAAgB,UAvDvC,+BAWI,IAAIC,EAQJ,OANEA,EADqB,YAAnBnJ,KAAKoD,MAAMC,KACEpE,OAAOmK,OAAO,OAAE3C,KAAKkC,UACE,MAA7B3I,KAAKoD,MAAMK,UAAUD,KACf,OAAE6F,gBAAgBrJ,KAAKoD,MAAMK,UAAUD,MAEvCvE,OAAOmK,OAAO,OAAE3C,KAAKkC,UAE/B3I,KAAKsJ,eAAeH,EAAcnJ,KAAKmF,UAnBlD,4BAuBI,MAAuB,YAAnBnF,KAAKoD,MAAMC,KACN,sBAEwB,MAA7BrD,KAAKoD,MAAMK,UAAUD,KAChB,yBAEF,0BA7BX,GAA2C,GAAtB,EAAa,gBAHjC,eAAU,CACTuD,WAAY,CAAEC,aAAA,KAAYC,UAAA,SAEP,WCxGmc,ICOpd,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAoBhC,IAAkB,EAAW,CAACE,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,UAAA,KAAQC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,iBAAA,OAAiBC,iBAAA,KAAeC,kBAAA,OAAkBC,eAAA,OAAeC,OAAA,KAAKC,UAAA,OCtC9L,IAAI,EAAS,WAAa,IAAIlF,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACA,EAAG,WAAW,CAACnD,MAAM,CAAC,YAAY,SAAS0E,MAAM,CAACC,MAAO1B,EAAsB,mBAAE2B,SAAS,SAAUC,GAAM5B,EAAIuG,mBAAmB3E,GAAKE,WAAW,uBAAuB,CAAC5B,EAAG,kBAAkB,CAACnD,MAAM,CAAC,kBAAoBiD,EAAII,MAAMK,UAAUc,WAAW,KAAOvB,EAAIa,UAAU7B,GAAG,CAAC,KAAOgB,EAAIwG,uBAAuB,GAAGtG,EAAG,WAAW,CAACnD,MAAM,CAAC,WAAa,GAAG,YAAY,UAAU0E,MAAM,CAACC,MAAO1B,EAAoB,iBAAE2B,SAAS,SAAUC,GAAM5B,EAAIyG,iBAAiB7E,GAAKE,WAAW,qBAAqB,CAAC5B,EAAG,yBAAyB,CAACnD,MAAM,CAAC,WAAaiD,EAAI0G,wBAAwB,UAAY1G,EAAIyG,qBAAqB,GAAGvG,EAAG,WAAW,CAACnD,MAAM,CAAC,YAAY,SAAS0E,MAAM,CAACC,MAAO1B,EAAoB,iBAAE2B,SAAS,SAAUC,GAAM5B,EAAI6B,iBAAiBD,GAAKE,WAAW,qBAAqB,CAAC5B,EAAG,SAAS,CAACA,EAAG,eAAe,CAACnD,MAAM,CAAC,gBAAgB,GAAG,MAAQ,YAAY,CAACiD,EAAI+B,GAAG,gCAAgC7B,EAAG,cAAc,CAACF,EAAI+B,GAAG,yDAAyD7B,EAAG,MAAMF,EAAI+B,GAAG,0JAA0J7B,EAAG,MAAM,CAAC5B,YAAY,QAAQ,CAAC4B,EAAG,QAAQ,CAACF,EAAI+B,GAAG,mGAAmG7B,EAAG,IAAI,CAACF,EAAI+B,GAAG,kBAAkB/B,EAAI+B,GAAG,YAAY7B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWiC,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIgC,UAAS,MAAU,CAAChC,EAAI+B,GAAG,oDAAoD7B,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWiC,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIgC,UAAS,MAAS,CAAChC,EAAI+B,GAAG,8CAA8C,IAAI,IAAI,GAAG7B,EAAG,UAAU,CAACnD,MAAM,CAAC,WAAa,2BAA2B,MAAQiD,EAAImF,MAAM,QAA4B,QAAlBnF,EAAII,MAAMC,MAC71D,MAA5BL,EAAII,MAAMK,UAAUD,MACW,MAA/BR,EAAII,MAAMK,UAAUQ,SAAiBjC,GAAG,CAAC,IAAMgB,EAAI2G,uBAAuBlF,MAAM,CAACC,MAAO1B,EAAU,OAAE2B,SAAS,SAAUC,GAAM5B,EAAImC,OAAOP,GAAKE,WAAW,YAAY5B,EAAG,SAAS,CAAC5B,YAAY,kBAAkBvB,MAAM,CAAC,MAAQ,GAAG,aAAaiD,EAAIoF,SAAS,CAAClF,EAAG,oBAAoB,CAACnD,MAAM,CAAC,MAAQiD,EAAII,MAAMK,UAAUc,YAAYvC,GAAG,CAAC,OAAS,SAAUoD,GAAQ,OAAOpC,EAAIkC,MAAM,SAAUE,MAAWpC,EAAIqC,GAAIrC,EAAe,aAAE,SAASuB,GAAY,OAAOrB,EAAG,cAAc,CAACI,IAAIiB,EAAWA,WAAWe,GAAGvF,MAAM,CAAC,MAAQwE,GAAYgB,YAAYvC,EAAIwC,GAAG,CAAC,CAAClC,IAAI,UAAUmC,GAAG,SAASC,GACtjB,IAAIC,EAASD,EAAIC,OACzB,MAAO,CAACzC,EAAG,sBAAsB,CAACnD,MAAM,CAAC,UAAY,QAAQiC,GAAG,CAAC,UAAY,SAAUqG,GAAM,OAAOrF,EAAIsF,YAAYD,EAAI9D,EAAWA,eAAiB,CAACrB,EAAG,oBAAoB,CAACF,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAGrB,EAAWA,WAAWgE,KAAK,OAAOrF,EAAG,uBAAuB,CAAC0G,SAAS,CAAC,UAAY5G,EAAI4C,GAAG5C,EAAI6G,SAAStF,QAAiB,GAAIvB,EAAIyF,YAAY9C,GAASzC,EAAG,qBAAqB,CAACA,EAAG,QAAQ,CAACnD,MAAM,CAAC,aAAa,KAAK,CAACmD,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,OAAO,QAAU,oCAAoC,MAAQ,UAAUiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAI8G,kBAAkBvF,QAAiB,GAAGrB,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,SAAS,QAAU,6BAA6B,MAAQ,aAAaiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAI+G,oBAAoBxF,QAAiB,GAAGrB,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,QAAQ,QAAU,2BAA2B,MAAQ,OAAOiC,GAAG,CAAC,MAAQ,SAASiD,GAAQA,EAAOe,kBAAkBhD,EAAI6B,kBAAmB,OAAU,IAAI,IAAI,GAAG7B,EAAIY,SAAS,MAAK,QAAU,IAAI,IAAI,IAC7jC,EAAkB,GCLlB,G,UAAS,WAAa,IAAIZ,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,SAAS,CAAC8G,SAAS,CAAC,MAAQ,SAAS/E,GAAQ,OAAIA,EAAOtF,KAAKsK,QAAQ,QAAQjH,EAAIkH,GAAGjF,EAAOkF,QAAQ,QAAQ,GAAGlF,EAAO3B,IAAI,SAAkB,KAAcN,EAAIkC,MAAM,OAAQlC,EAAIoH,YAAY,CAAClH,EAAG,eAAe,CAACnD,MAAM,CAAC,gBAAgB,KAAK,CAACiD,EAAI+B,GAAG,+BAA+B7B,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACwC,IAAI,MAAM3F,MAAM,CAAC,MAAQ,OAAO0E,MAAM,CAACC,MAAO1B,EAAIoH,QAAW,IAAEzF,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIoH,QAAS,MAAOxF,IAAME,WAAW,kBAAkB,GAAG5B,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACuB,MAAM,CAACC,MAAO1B,EAAIoH,QAAa,MAAEzF,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIoH,QAAS,QAASxF,IAAME,WAAW,oBAAoB,IAAI,GAAG5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACnD,MAAM,CAAC,MAAQ,0BAA0B0E,MAAM,CAACC,MAAO1B,EAAmB,gBAAE2B,SAAS,SAAUC,GAAM5B,EAAIsH,gBAAgB1F,GAAKE,WAAW,sBAAsB,GAAG5B,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACnD,MAAM,CAAC,UAAYiD,EAAIsH,gBAAgB,MAAQ,4BAA4B,KAAO,UAAU7F,MAAM,CAACC,MAAO1B,EAAIoH,QAAQE,gBAAwB,SAAE3F,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIoH,QAAQE,gBAAiB,WAAYtH,EAAIuH,GAAG3F,KAAOE,WAAW,uCAAuC,GAAG5B,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,UAAYiD,EAAIsH,gBAAgB,MAAQ,0BAA0B,OAAStH,EAAIwH,8BAA8B/F,MAAM,CAACC,MAAO1B,EAAIoH,QAAQE,gBAAqB,MAAE3F,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIoH,QAAQE,gBAAiB,QAAS1F,IAAME,WAAW,oCAAoC,IAAI,GAAG5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACnD,MAAM,CAAC,MAAQ,GAAG,MAAQ,aAAa0E,MAAM,CAACC,MAAO1B,EAAIoH,QAAiB,UAAEzF,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIoH,QAAS,YAAaxF,IAAME,WAAW,wBAAwB,GAAG5B,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACnD,MAAM,CAAC,MAAQ,YAAY,SAAW,IAAI0E,MAAM,CAACC,MAAO1B,EAAIoH,QAAiB,UAAEzF,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIoH,QAAS,YAAaxF,IAAME,WAAW,wBAAwB,IAAI,IAAI,IAAI,GAAG5B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACnD,MAAM,CAAC,MAAQ,WAAWiC,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,OAAQlC,EAAIoH,YAAY,CAACpH,EAAI+B,GAAG/B,EAAI4C,GAAG5C,EAAIyH,cAAc,IAAI,KACxrE,EAAkB,G,0BCDlB,GAAS,WAAa,IAAIzH,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,WAAW,CAACnD,MAAM,CAAC,SAAWiD,EAAI0H,SAAS,MAAQ1H,EAAI2H,OAAO,MAAQ3H,EAAI4H,MAAM,MAAQ5H,EAAI6H,OAAO7I,GAAG,CAAC,OAAS,SAAUoD,GAAQ,OAAOpC,EAAIkC,MAAM,SAAUE,QAC5P,GAAkB,G,aCchB0F,GAAkB,OAAI5E,OAAO,CACjC5G,MAAO,CACLsL,MAAOlC,OACPmC,MAAO,CACLlL,KAAM+I,OACN7I,QAAS,SAEX6K,SAAU,CACR/K,KAAMoL,QACNlL,SAAS,GAEX8K,OAAQ,CACNhL,KAAM+B,MACN7B,QAAS,WACP,OAAO,WAIb4E,MAAO,CACLuG,KAAM,QACNjC,MAAO,YAKU,GAArB,kJAAwC+B,IAAnB,GAAU,gBAD9B,eAAU,KACU,cCxCgc,M,aCOjd,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACG,WAAA,OCRvB,IAAMC,GAAoC,CAC/C3C,IAAK,GACLqC,MAAO,GACPO,UAAW,GACXb,gBAAiB,CAAEM,MAAO,GAAIQ,SAAU,GACxCC,UAAW,IAGAC,GAA8B,CACzCjF,gBAAiB,CAAEC,OAAO,EAAMC,OAAQ,GACxCgF,YAAa,GACbC,YAAa,GACbjD,IAAK,IAGMkD,GAAwB,CACnCC,YAAa,GACbrF,gBAAiB,CAAEC,OAAO,EAAMC,OAAQ,GACxCgF,YAAa,GACb5C,SAAU,IC8CNgD,GAAsB,OAAIzF,OAAO,CACrC5G,MAAO,CACLsM,kBAAmB3M,OACnBoE,KAAMqF,UAOW,GAArB,6D,+DACE,EAAA0B,QAAU,EAAKyB,KAAK,EAAKD,mBAD3B,0EAGeE,GACX,IAAMxH,EACO,MAAXwH,EAAA,kBAAuBZ,GAAvB,CAAyC5F,IAAK,IAAMwG,EAAQvH,WAC9D,OAAO,gBAASD,KANpB,qCAsCItE,KAAKoK,QAAUpK,KAAK6L,KAAK7L,KAAK4L,qBAtClC,8BA8CI,IAAMG,EAAQ/L,KAAKgM,MAAMzD,IAAI0D,IAAIC,cAAc,SAClC,MAATH,GAAeA,EAAMI,WA/C7B,+BAUI,MAAoB,QAAbnM,KAAKqD,KAAiB,UAAY,UAV7C,sCAcI,MAA6C,IAAtCrD,KAAKoK,QAAQE,gBAAgBM,OAdxC,aAgBsBwB,GACbA,EAGHpM,KAAKoK,QAAQE,gBAAgBM,MAC3B5K,KAAKoK,QAAQQ,OACZ5K,KAAK4L,mBAAqB5L,KAAK4L,kBAAkBrH,WAAWqG,OAC7D,IALF5K,KAAKoK,QAAQE,gBAAkB,CAAEM,MAAO,GAAIQ,SAAU,KAlB5D,mDA2BkC,WAC9B,OAAIpL,KAAKoK,QAAQQ,OAAS,QAAYyB,MAE7B,QAAOxD,QAAO,SAAAyD,GAAC,OAAIA,EAAE5H,OAAS,QAAY2H,SAG5C,QAAOxD,QAAO,SAAAyD,GAAC,OAAIA,EAAE5H,OAAS,EAAK0F,QAAQQ,aAjCtD,GAA4Ce,IAqC1C,gBADC,gBAAM,sB,4BAGN,MAvCkB,GAAc,gBAHlC,eAAU,CACT5E,WAAY,CAAEwF,WAAA,OAEK,cC1Foc,M,uCCOrd,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,MAAiB,QAgBhC,IAAkB,GAAW,CAACpF,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKgF,SAAA,KAAMvE,OAAA,KAAKgD,WAAA,KAAQ/C,UAAA,KAAQuE,WAAA,KAAQC,cAAA,OClCnH,IAAI,GAAS,WAAa,IAAI1J,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,SAAS,CAACA,EAAG,eAAe,CAACnD,MAAM,CAAC,gBAAgB,KAAK,CAACiD,EAAI+B,GAAG,qCAAqC/B,EAAI4C,GAAG5C,EAAIuB,WAAWgE,KAAK,OAAOrF,EAAG,kBAAkB,CAACF,EAAI+B,GAAG,+FAA+F7B,EAAG,cAAc,CAACA,EAAG,oBAAoB,CAACnD,MAAM,CAAC,KAAO,YAAY,QAAUiD,EAAIxD,UAAU,CAACwD,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAG5C,EAAI2J,oBAAoB,QAAQ,GAAGzJ,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,GAAG,MAAQ,YAAY,CAACiD,EAAI+B,GAAG,UAAU7B,EAAG,QAAQ,CAACnD,MAAM,CAAC,KAAO,GAAG,MAAQ,YAAY,CAACiD,EAAI+B,GAAG,WAAW,IAAI,IACrpB,GAAkB,GC2BhB6H,GAA6B,OAAI1G,OAAO,CAC5C5G,MAAO,CACLiF,WAAYtF,OACZ4N,UAAW9B,WAKM,GAArB,6D,+DAKE,EAAA4B,mBAAgD,KALlD,sPAQsB,OAAElG,KAAKqG,sBAAsB9M,KAAKuE,WAAWe,IARnE,UAQUyH,EARV,YASehK,GAAPgK,EATR,iDAUI/M,KAAK2M,mBAAqBI,EAV9B,yIAcI/M,KAAKgN,iBAdT,yCAkBqBZ,GACZA,GACLpM,KAAKgN,iBApBT,8BAEI,OAAO,OAAErG,cAAcsG,cAF3B,GAAmDL,IAkBjD,gBADC,gBAAM,c,kCAIN,MArBkB,GAAqB,gBADzC,eAAU,KACU,cCpC2c,M,aCO5d,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACzF,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAa6F,cAAA,OAAc5F,UAAA,OAAUC,WAAA,OAAW4F,mBAAA,OCwGzF,IAAM,GAAQ,OAAIjH,OAAO,CACvB5G,MAAO,CACL8I,OAAQM,OACRtF,MAAOnE,UASU,GAArB,6D,+DACE,EAAA4F,kBAAmB,EAEnB,EAAA0E,oBAAqB,EACrB,EAAA1F,SAAqB,MAErB,EAAA4F,kBAAmB,EAEnB,EAAAtE,OAAS,GARX,8EAUWZ,GACP,OAAIA,EAAW6I,QACb,UAAU7I,EAAW6I,QAAQhC,SAA7B,eACE7G,EAAWA,WAAWqG,MADxB,4BAEoBrG,EAAW6I,QAAQC,SAAW,KAEpD,aAAa9I,EAAWA,WAAWqG,MAAnC,UAhBJ,wCAqC4BW,EAAkCpG,GAC1D,IAAMyD,EAAW,eAAezD,GAEhC,OAAOoG,EAAY1C,QAAO,SAAAvE,GACxB,OAAOa,GAAUb,EAAIC,WAAWqG,OAAShC,EAAStE,EAAIC,WAAWgE,UAzCvE,kCA2Dc5C,GACV,OAC+B,MAA7B3F,KAAKoD,MAAMK,UAAUD,MACW,MAAhCxD,KAAKoD,MAAMK,UAAUQ,SACrB0B,IA/DN,0FAmEiB2H,GAnEjB,oFAoEItN,KAAK6E,kBAAmB,EACe,MAAnC7E,KAAKoD,MAAMK,UAAUc,WArE7B,iEAsEU,OAAEkC,KAAK8G,iBACXvN,KAAKoD,MAAMK,UAAUc,WAAWA,WAChC+I,GAxEN,OA0EsC,MAA9B,OAAE3G,cAAcC,YAClB,OAAED,cAAcE,WAAW,oCA3EjC,4IA+EckC,EAAkBxE,GACvBwE,EAAMC,eACXD,EAAMC,aAAaC,QAAQ,gBAAiBP,OAAOnE,EAAWe,KAC9DyD,EAAMC,aAAaE,cAAgB,UAlFvC,0CAqFsB5E,GAClBtE,KAAKkF,MAAM,SAAUZ,GACrBtE,KAAK6D,SAAW,OAChB7D,KAAKuJ,oBAAqB,IAxF9B,oGA2F2BjF,GA3F3B,0FA4FItE,KAAKuJ,oBAAqB,EACtBiE,EAAU,GACO,QAAjBxN,KAAK6D,SA9Fb,gCA+FY,OAAE4C,KAAKgH,iBAAiBnJ,GA/FpC,OAgGMkJ,EAAU,0CAhGhB,wCAkGY,OAAE/G,KAAKiH,iBAAiBpJ,GAlGpC,QAmGMkJ,EAAU,yCAnGhB,QAqGsC,MAA9B,OAAE7G,cAAcC,YAClB,OAAED,cAAcE,WAAW2G,GAE7BxN,KAAKkF,MAAM,SAAU,MAxGzB,yJA4GIlF,KAAKkF,MAAM,SAAU,CAAEX,WAAY2G,KACnClL,KAAK6D,SAAW,MAChB7D,KAAKuJ,oBAAqB,IA9G9B,wCAiHoBhF,GAChBvE,KAAKyJ,kBAAmB,IAlH5B,4BAoBI,MAAuB,YAAnBzJ,KAAKoD,MAAMC,KACN,wBAE2B,MAAhCrD,KAAKoD,MAAMK,UAAUQ,QAChB,gCAC+B,MAA7BjE,KAAKoD,MAAMK,UAAUD,KACvB,2BAEF,yBA5BX,8CAgCI,OAAuC,MAAnCxD,KAAKoD,MAAMK,UAAUc,WAA2B,KAC7CvE,KAAKoD,MAAMK,UAAUc,WAAWA,aAjC3C,kCA8CI,IAAIoJ,EAUJ,OAREA,EADqB,YAAnB3N,KAAKoD,MAAMC,MAAyC,eAAnBrD,KAAKoD,MAAMC,KAC5B,OAAEuK,oBACqB,MAAhC5N,KAAKoD,MAAMK,UAAUQ,QACZ,OAAE4J,sBAAsB7N,KAAKoD,MAAMK,UAAUQ,SACzB,MAA7BjE,KAAKoD,MAAMK,UAAUD,KACZ,OAAEsK,mBAAmB9N,KAAKoD,MAAMK,UAAUD,MAE1C,OAAEoK,oBAEf5N,KAAK+N,kBAAkBJ,EAAiB3N,KAAKmF,YAxDxD,GAA8C,IAAzB,GAAgB,gBAHpC,eAAU,CACT4B,WAAY,CAAEC,aAAA,KAAYgH,eAAA,GAAgBC,sBAAA,GAAuBhH,UAAA,SAE9C,cCjJsc,MCOvd,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAoBhC,IAAkB,GAAW,CAACE,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,UAAA,KAAQC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,iBAAA,OAAiBC,iBAAA,KAAeC,kBAAA,OAAkBC,eAAA,OAAeC,OAAA,KAAKC,UAAA,OCtC9L,IAAI,GAAS,WAAa,IAAIlF,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACA,EAAG,WAAW,CAACnD,MAAM,CAAC,YAAY,SAAS0E,MAAM,CAACC,MAAO1B,EAAsB,mBAAE2B,SAAS,SAAUC,GAAM5B,EAAIuG,mBAAmB3E,GAAKE,WAAW,uBAAuB,CAAC5B,EAAG,6BAA6B,CAACwC,IAAI,iBAAiB3F,MAAM,CAAC,WAAaiD,EAAIkL,kBAAkBlM,GAAG,CAAC,KAAOgB,EAAIwG,uBAAuB,GAAGtG,EAAG,YAAY,CAAC5B,YAAY,OAAOvB,MAAM,CAAC,MAAQ,YAAY,MAAQ,KAAK,CAACmD,EAAG,kBAAkB,CAACF,EAAI+B,GAAG/B,EAAI4C,GAAG5C,EAAImF,UAAUjF,EAAG,YAAYA,EAAG,kBAAkB,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,gBAAgB,QAAU,UAAU,MAAQ,WAAWiC,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,OAAQlC,EAAIQ,UAAUN,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,OAAO,QAAU,gCAAgCiC,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,aAAa,IAAI,GAAGhC,EAAG,aAAa,CAAC5B,YAAY,sBAAsBvB,MAAM,CAAC,MAAQ,cAAc,eAAe,GAAG,KAAO,KAAK0E,MAAM,CAACC,MAAO1B,EAAIQ,KAAgB,YAAEmB,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIQ,KAAM,cAAeoB,IAAME,WAAW,sBAAsB5B,EAAG,SAAS,CAAC5B,YAAY,4BAA4BvB,MAAM,CAAC,MAAQ,GAAG,aAAa,SAAS,CAACmD,EAAG,MAAM,CAAClB,GAAG,CAAC,SAAWgB,EAAImL,mBAAmB,KAAOnL,EAAIoL,gBAAgB,CAAClL,EAAG,cAAc,CAACF,EAAI+B,GAAG,sBAA8C,GAAvB/B,EAAI2F,SAAShH,OAAauB,EAAG,cAAc,CAACA,EAAG,uBAAuB,CAACA,EAAG,IAAI,CAACF,EAAI+B,GAAG,qDAAqD,GAAG/B,EAAIY,KAAKZ,EAAIqC,GAAIrC,EAAY,UAAE,SAASiB,GAAS,OAAOf,EAAG,cAAc,CAACI,IAAIW,EAAQqB,GAAGC,YAAYvC,EAAIwC,GAAG,CAAC,CAAClC,IAAI,UAAUmC,GAAG,SAASC,GAC5kDA,EAAIC,OACjB,MAAO,CAACzC,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACA,EAAG,oBAAoB,CAACF,EAAI+B,GAAG/B,EAAI4C,GAAG3B,EAAQsE,SAAS,GAAGrF,EAAG,uBAAuB,CAACA,EAAG,IAAI,CAACF,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAG5C,EAAIwF,0BAA0BvE,UAAgB,GAAGf,EAAG,qBAAqB,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,QAAQ,QAAU,gCAAgC,MAAQ,OAAOiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAIqL,cAAcpK,QAAc,OAAO,MAAK,SAAW,GAAGf,EAAG,MAAM,CAAClB,GAAG,CAAC,SAAWgB,EAAIsL,sBAAsB,KAAOtL,EAAIuL,mBAAmB,CAACrL,EAAG,cAAc,CAACF,EAAI+B,GAAG,8BAAsE,IAAtC/B,EAAIQ,KAAK+H,aAAe,IAAI5J,OAAauB,EAAG,cAAc,CAACA,EAAG,uBAAuB,CAACA,EAAG,IAAI,CAACF,EAAI+B,GAAG,uDAAuD,GAAG/B,EAAIY,KAAKZ,EAAIqC,GAAIrC,EAAIQ,KAAgB,aAAE,SAASe,GAAY,OAAOrB,EAAG,cAAc,CAACI,IAAIiB,EAAWe,GAAGC,YAAYvC,EAAIwC,GAAG,CAAC,CAAClC,IAAI,UAAUmC,GAAG,SAASC,GACl4BA,EAAIC,OACjB,MAAO,CAACzC,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACF,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAG5C,EAAIwL,cAAcjK,GAAYgE,KAAK,OAAOrF,EAAG,uBAAuB,CAACF,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAGrB,EAAW6G,UAAU,KAAKlI,EAAG,IAAI,CAACF,EAAI+B,GAAG/B,EAAI4C,GAAG5C,EAAIwL,cAAcjK,GAAYqG,UAAU5H,EAAI+B,GAAG,gBAAgB/B,EAAI4C,GAAGrB,EAAW8I,SAAS,QAAQ,GAAGnK,EAAG,qBAAqB,CAACA,EAAG,QAAQ,CAACnD,MAAM,CAAC,aAAa,KAAK,CAACmD,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,SAAS,QAAU,0BAA0B,MAAQ,aAAaiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAIyL,eAAelK,QAAiB,GAAGrB,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,QAAQ,QAAU,iCAAiC,MAAQ,OAAOiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAI0L,iBAAiBnK,QAAiB,IAAI,IAAI,OAAO,MAAK,SAAW,MAAM,IACn0B,GAAkB,GCLlB,I,kDAAS,WAAa,IAAIvB,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,SAAS,CAAC8G,SAAS,CAAC,MAAQ,SAAS/E,GAAQ,OAAIA,EAAOtF,KAAKsK,QAAQ,QAAQjH,EAAIkH,GAAGjF,EAAOkF,QAAQ,QAAQ,GAAGlF,EAAO3B,IAAI,SAAkB,KAAcN,EAAIkC,MAAM,OAAQlC,EAAIoH,YAAY,CAAClH,EAAG,eAAe,CAACnD,MAAM,CAAC,gBAAgB,KAAK,CAACiD,EAAI+B,GAAG,+BAA+B7B,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACwC,IAAI,WAAW3F,MAAM,CAAC,MAAQ,WAAW,KAAO,oCAAoC,KAAO,UAAU0E,MAAM,CAACC,MAAO1B,EAAIoH,QAAgB,SAAEzF,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIoH,QAAS,WAAYpH,EAAIuH,GAAG3F,KAAOE,WAAW,uBAAuB,IAAI,GAAG5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACnD,MAAM,CAAC,MAAQ,GAAG,MAAQ,WAAW0E,MAAM,CAACC,MAAO1B,EAAIoH,QAAe,QAAEzF,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIoH,QAAS,UAAWxF,IAAME,WAAW,sBAAsB,IAAI,IAAI,IAAI,GAAG5B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACnD,MAAM,CAAC,MAAQ,WAAWiC,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,OAAQlC,EAAIoH,YAAY,CAACpH,EAAI+B,GAAG,cAAc,IAAI,KAC/jC,GAAkB,GC0ChB4J,GAA+B,OAAIzI,OAAO,CAC9C5G,MAAO,CACLiF,WAAYtF,UAKK,GAArB,6D,+DACE,EAAAmL,QAA6B,gBAAS,EAAK7F,YAD7C,oFAKIvE,KAAKoK,QAAU,gBAASpK,KAAKuE,cALjC,8BAaI,IAAMwH,EAAQ/L,KAAKgM,MAAMZ,SAASa,IAAIC,cAAc,SACvC,MAATH,GAAeA,EAAMI,aAd7B,GAAqDwC,IAInD,gBADC,gBAAM,e,4BAGN,MANkB,GAAuB,gBAD3C,eAAU,KACU,cClD6c,MCO9d,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAehC,IAAkB,GAAW,CAACxH,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKgF,SAAA,KAAMvE,OAAA,KAAKgD,WAAA,KAAQ/C,UAAA,KAAQwE,cAAA,OC+F3G,IAAMkC,GAAgB,OAAI1I,OAAO,CAC/B5G,MAAO,CACL+D,KAAMqF,OACNmG,YAAa5P,UAOI,GAArB,6D,+DAEE,EAAAuE,KAAa,gBAAS,EAAKqL,aAE3B,EAAAtF,oBAAqB,EACrB,EAAA2E,iBAA0C,KAiB1C,EAAA1F,0BAA4B,OAAErC,UAAUC,gCAtB1C,mFAwBgB9B,GACZ,OAAO,OAAEmC,KAAK8E,YAAYjH,EAAIwK,iBAzBlC,oCA4BgBC,GACZ/O,KAAKwD,KAAKmF,UAAY3I,KAAKwD,KAAKmF,UAAY,IAAIE,QAC9C,SAAA7E,GAAG,OAAIA,EAAIgL,YAAcD,EAASzJ,QA9BxC,qCAkCiBhB,GACbtE,KAAKkO,iBAAmB5J,EACxBtE,KAAKuJ,oBAAqB,IApC9B,yCAuCqB0F,GAAsB,WACjCC,EAAOlP,KAAKwD,KAAK+H,YACX,MAAR2D,IACJA,EAAKC,SAAQ,SAAC7K,EAAK8K,GACb9K,EAAIwK,eAAiBG,EAAOH,eAC9B,EAAKzE,KAAK6E,EAAME,EAAOH,MAG3BjP,KAAKuJ,oBAAqB,KA/C9B,uCAkDmBwF,GACf/O,KAAKwD,KAAK+H,aAAevL,KAAKwD,KAAK+H,aAAe,IAAI1C,QACpD,SAAAvE,GAAG,OAAIA,EAAIwK,eAAiBC,EAASD,mBApD3C,yCAwDqB/F,GACjB,GAAKA,EAAMC,aAAX,CACA,IAAMqG,EAAYtG,EAAMC,aAAapJ,MAAM0P,SAAS,cAChDD,IACFtG,EAAMwG,iBACNxG,EAAMC,aAAawG,WAAa,WA7DtC,oCAiEgBzG,GACZ,GAAKA,EAAMC,aAAX,CACAD,EAAMwG,iBACN,IAAME,EAAYC,OAAO3G,EAAMC,aAAa2G,QAAQ,eAC9ChH,EAAW3I,KAAKwD,KAAKmF,UAAY,GACjCiH,EACJjH,EAASE,QAAO,SAAAgH,GAAC,OAAIA,EAAEb,YAAcS,KAAW9N,OAAS,EACvDiO,IACJjH,EAASmH,KAAK,CAAEC,QAAS/P,KAAKwD,KAAK8B,GAAI0J,WAAYS,IACnDzP,KAAKwD,KAAKmF,SAAWA,MA1EzB,4CA6EwBI,GACpB,GAAKA,EAAMC,aAAX,CACA,IAAMgH,EAAejH,EAAMC,aAAapJ,MAAM0P,SAAS,iBACnDU,IACFjH,EAAMwG,iBACNxG,EAAMC,aAAawG,WAAa,WAlFtC,uCAsFmBzG,GACf,GAAKA,EAAMC,aAAX,CACAD,EAAMwG,iBACN,IAKIU,EALEC,EAAeR,OAAO3G,EAAMC,aAAa2G,QAAQ,kBACjDpE,EAAcvL,KAAKwD,KAAK+H,aAAe,GACvC4E,EAAsB5E,EAAY1C,QACtC,SAAAgH,GAAC,OAAIA,EAAEf,eAAiBoB,KAGtBC,EAAoBxO,OAAS,EAC/BsO,EAAgBE,EAAoB,IAEpCF,EAAgB,CACdF,QAAS/P,KAAKwD,KAAK8B,GACnBwJ,cAAeoB,EACf9E,SAAU,EACViC,QAAS,IAEX9B,EAAYuE,KAAKG,GACjBjQ,KAAKwD,KAAK+H,YAAcA,GAE1BvL,KAAKkO,iBAAmB+B,EACxBjQ,KAAKuJ,oBAAqB,KA5G9B,uCAgHmB6C,GAAU,WACrBA,GACFgE,YAAW,WACT,IAAMC,EAAK,EAAKrE,MAAMyC,eAClB4B,GAAIA,EAAGC,UACV,MArHT,4BAWI,MAAiB,QAAbtQ,KAAKqD,KACA,mBAEF,oBAdX,+BAmBI,OAAO,OAAEgG,gBAAgBrJ,KAAKwD,UAnBlC,GAAsCoL,IAgHpC,gBADC,gBAAM,uB,gCAQN,MAvHkB,GAAQ,gBAH5B,eAAU,CACT7H,WAAY,CAAEC,aAAA,KAAYuJ,wBAAA,OAEP,cC1I8b,M,sCCkB7cC,GAAa,OAAAC,GAAA,MAAnB,SAOe,GAAAD,GAAA,OAAkB,CAC/BnR,KAD+B,aAG/BC,MAAO,CACLoR,SADK,QAELC,SAFK,QAGLC,UAAW,CACTjR,KAAM,CAAC+P,OADE,QAET7P,QAFS,GAGTgR,UAAY,SAAAC,GAAD,OAAaC,MAAMC,WAAD,MAE/BC,KAAM,CACJtR,KAAM,CAAC+P,OADH,QAEJ7P,QAFI,EAGJgR,UAAY,SAAAC,GAAD,OAAaC,MAAMG,SAASJ,EAAV,QAIjChR,SAAU,CACRK,QADQ,WAEN,uBACE,cADK,EAEL,wBAAyBH,KAFpB,SAGL,wBAAyBA,KAHpB,gBAIF0M,GAAA,2CAGPyE,eATQ,WAUN,OAAOnR,KAAK2Q,UAAY3Q,KAAxB,WAIJoR,MAAO,CACLC,UADK,WAEHrR,KAAA,UAAiBA,KAAKsR,UAAUtR,KAAhC,uBAEF4Q,UAJK,WAKH5Q,KAAA,UAAiBA,KAAKsR,UAAUtR,KAAhC,wBAIJuR,QAzC+B,WAyCxB,WACLnB,YAAW,WACT,YAAiB,EAAjB,yBADF,IAKFjP,QAAS,CACPqQ,qBADO,WAEL,IAAMzF,EAAQ/L,KAAKgM,MAAnB,MACA,MAEAD,EAAA,iBACA,IAAM3D,EAAS2D,EAAf,aACM0F,EAAYP,SAASlR,KAAD,KAAR,IAA0BgR,WAAWhR,KANrC,WASlB+L,EAAA,aAAqB2F,KAAA,SAArB,OAEFC,SAZO,WAaL,IAAM5F,EAAQW,GAAA,mCAAd,MAMA,OAJAX,EAAA,sBACOA,EAAA,WAAP,KACAA,EAAA,gBAA0B/L,KAA1B,KAEA,GAEF4R,QArBO,SAqBA,GACLlF,GAAA,0CACA1M,KAAA,UAAiBA,KAAjB,wBAEF6R,UAzBO,SAyBE,GAIH7R,KAAK8R,WAAT,KAAsBC,EAAA,SACpBA,EAAA,kBAGF/R,KAAA,uB,0BClGF,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAmBhC,IAAkB,GAAW,CAACwH,OAAA,KAAKC,UAAA,KAAQC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,iBAAA,OAAiBE,kBAAA,OAAkBC,eAAA,OAAeC,OAAA,KAAKC,UAAA,KAAQ8J,cAAA,KAAWC,UAAA,GAAUC,YAAA,KAASC,cAAA,QAAcC,cAAA,UCrCtL,IAAI,GAAS,WAAa,IAAIpP,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACA,EAAG,WAAW,CAACnD,MAAM,CAAC,YAAY,SAAS0E,MAAM,CAACC,MAAO1B,EAAsB,mBAAE2B,SAAS,SAAUC,GAAM5B,EAAIuG,mBAAmB3E,GAAKE,WAAW,uBAAuB,CAAC5B,EAAG,6BAA6B,CAACwC,IAAI,iBAAiB3F,MAAM,CAAC,WAAaiD,EAAIkL,kBAAkBlM,GAAG,CAAC,KAAOgB,EAAIwG,uBAAuB,GAAGtG,EAAG,YAAY,CAAC5B,YAAY,OAAOvB,MAAM,CAAC,MAAQ,YAAY,MAAQ,KAAK,CAACmD,EAAG,kBAAkB,CAACF,EAAI+B,GAAG/B,EAAI4C,GAAG5C,EAAImF,UAAUjF,EAAG,YAAYA,EAAG,kBAAkB,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,gBAAgB,QAAU,UAAU,MAAQ,WAAWiC,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,OAAQlC,EAAIiB,aAAaf,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,OAAO,QAAU,gCAAgCiC,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,aAAa,IAAI,GAAGhC,EAAG,QAAQ,CAAC5B,YAAY,QAAQ,CAAC4B,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACnD,MAAM,CAAC,MAAQ,oBAAoB,SAAW,IAAI0E,MAAM,CAACC,MAAO1B,EAAIiB,QAAW,IAAEU,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIiB,QAAS,MAAOW,IAAME,WAAW,iBAAiB5B,EAAG,aAAa,CAACnD,MAAM,CAAC,MAAQ,gBAAgB,eAAe,GAAG,KAAO,KAAK0E,MAAM,CAACC,MAAO1B,EAAIiB,QAAmB,YAAEU,SAAS,SAAUC,GAAM5B,EAAIqH,KAAKrH,EAAIiB,QAAS,cAAeW,IAAME,WAAW,0BAA0B,GAAG5B,EAAG,QAAQ,CAACA,EAAG,SAAS,CAAC5B,YAAY,4BAA4BvB,MAAM,CAAC,MAAQ,GAAG,aAAa,SAAS,CAACmD,EAAG,MAAM,CAAClB,GAAG,CAAC,SAAWgB,EAAIsL,sBAAsB,KAAOtL,EAAIuL,mBAAmB,CAACrL,EAAG,cAAc,CAACF,EAAI+B,GAAG,iBAA4D,IAAzC/B,EAAIiB,QAAQsH,aAAe,IAAI5J,OAAauB,EAAG,cAAc,CAACA,EAAG,uBAAuB,CAACA,EAAG,IAAI,CAACF,EAAI+B,GAAG,uDAAuD,GAAG/B,EAAIY,KAAKZ,EAAIqC,GAAIrC,EAAIiB,QAAmB,aAAE,SAASM,GAAY,OAAOrB,EAAG,cAAc,CAACI,IAAIiB,EAAWe,GAAGC,YAAYvC,EAAIwC,GAAG,CAAC,CAAClC,IAAI,UAAUmC,GAAG,SAASC,GACx1DA,EAAIC,OACjB,MAAO,CAACzC,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACF,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAG5C,EAAIwL,cAAcjK,GAAYgE,KAAK,OAAOrF,EAAG,uBAAuB,CAACF,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAGrB,EAAW6G,UAAU,KAAKlI,EAAG,IAAI,CAACF,EAAI+B,GAAG/B,EAAI4C,GAAG5C,EAAIwL,cAAcjK,GAAYqG,UAAU5H,EAAI+B,GAAG,gBAAgB/B,EAAI4C,GAAGrB,EAAW8I,SAAS,QAAQ,GAAGnK,EAAG,qBAAqB,CAACA,EAAG,QAAQ,CAACnD,MAAM,CAAC,aAAa,KAAK,CAACmD,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,SAAS,QAAU,0BAA0B,MAAQ,aAAaiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAIyL,eAAelK,QAAiB,GAAGrB,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,QAAQ,QAAU,uCAAuC,MAAQ,OAAOiC,GAAG,CAAC,MAAQ,SAASiD,GAAiC,OAAzBA,EAAOe,kBAAyBhD,EAAI0L,iBAAiBnK,QAAiB,IAAI,IAAI,OAAO,MAAK,SAAW,MAAM,IAAI,IAAI,IACj1B,GAAkB,GCsGhB8N,GAAmB,OAAInM,OAAO,CAClC5G,MAAO,CACL+D,KAAMqF,OACN4J,eAAgBrT,UAOC,GAArB,6D,+DAEE,EAAAgF,QAAmB,gBAAS,EAAKqO,gBAEjC,EAAA/I,oBAAqB,EACrB,EAAA2E,iBAA6C,KAY7C,EAAA1F,0BAA4B,OAAErC,UAAUC,gCAjB1C,mFAmBgB9B,GACZ,OAAO,OAAEmC,KAAK8E,YAAYjH,EAAIwK,iBApBlC,qCAuBiBxK,GACbtE,KAAKkO,iBAAmB5J,EACxBtE,KAAKuJ,oBAAqB,IAzB9B,yCA4BqB0F,GAAyB,WACpCC,EAAOlP,KAAKiE,QAAQsH,YACd,MAAR2D,IACJA,EAAKC,SAAQ,SAAC7K,EAAK8K,GACb9K,EAAIwK,eAAiBG,EAAOH,eAC9B,EAAKzE,KAAK6E,EAAME,EAAOH,MAG3BjP,KAAKuJ,oBAAqB,KApC9B,uCAuCmBwF,GACf/O,KAAKiE,QAAQsH,aAAevL,KAAKiE,QAAQsH,aAAe,IAAI1C,QAC1D,SAAAvE,GAAG,OAAIA,EAAIwK,eAAiBC,EAASD,mBAzC3C,4CA6CwB/F,GACpB,GAAKA,EAAMC,aAAX,CACA,IAAMgH,EAAejH,EAAMC,aAAapJ,MAAM0P,SAAS,iBACnDU,IACFjH,EAAMwG,iBACNxG,EAAMC,aAAawG,WAAa,WAlDtC,uCAsDmBzG,GACf,GAAKA,EAAMC,aAAX,CACAD,EAAMwG,iBACN,IAKIU,EALEC,EAAeR,OAAO3G,EAAMC,aAAa2G,QAAQ,kBACjDpE,EAAcvL,KAAKiE,QAAQsH,aAAe,GAC1C4E,EAAsB5E,EAAY1C,QACtC,SAAAgH,GAAC,OAAIA,EAAEf,eAAiBoB,KAGtBC,EAAoBxO,OAAS,EAC/BsO,EAAgBE,EAAoB,IAEpCF,EAAgB,CACdjB,WAAYhP,KAAKiE,QAAQqB,GACzBwJ,cAAeoB,EACf9E,SAAU,EACViC,QAAS,IAEX9B,EAAYuE,KAAKG,GACjBjQ,KAAKiE,QAAQsH,YAAcA,GAE7BvL,KAAKkO,iBAAmB+B,EACxBjQ,KAAKuJ,oBAAqB,KA5E9B,uCAiFmB6C,GAAU,WACrBA,GACFgE,YAAW,WACT,IAAMC,EAAK,EAAKrE,MAAMyC,eAClB4B,GAAIA,EAAGC,UACV,MAtFT,4BAWI,MAAiB,QAAbtQ,KAAKqD,KACA,sBAEF,0BAdX,GAAyCgP,IAiFvC,gBADC,gBAAM,uB,gCAQN,MAxFkB,GAAW,gBAH/B,eAAU,CACTtL,WAAY,CAAEC,aAAA,KAAYuJ,wBAAA,OAEP,cCnHic,MCOld,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAoBhC,IAAkB,GAAW,CAAC/I,OAAA,KAAKC,UAAA,KAAQC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,iBAAA,OAAiBE,kBAAA,OAAkBC,eAAA,OAAeC,OAAA,KAAKC,UAAA,KAAQ8J,cAAA,KAAWtF,cAAA,KAAWuF,UAAA,GAAUC,YAAA,KAASC,cAAA,QAAcC,cAAA,UCgDjM,IAAqB,GAArB,6D,+DACE,EAAAhP,MAAoB,CAClBC,KAAM,OACNI,UAAW,CAAED,KAAM,KAAMS,QAAS,KAAMM,WAAY,OAGtD,EAAAV,SAAqB,MANvB,2OASU,OAAE4C,KAAK8L,eATjB,OAUsC,MAA9B,OAAE5L,cAAcC,YAClB,OAAED,cAAcE,WACd,4DAZR,wIAiBgBrD,GACZxD,KAAKoD,MAAMK,UAAUD,KAAOA,EAC5BxD,KAAKoD,MAAMC,KAAO,WAClBrD,KAAK6D,SAAW,SApBpB,wCAwBI,GAAuB,MAAnB,OAAE2C,cAAN,CACA,IAAMgM,EAAO,kBAAc,gBAAS/G,IAAvB,CAAoCnG,IAAK,IACtDkN,EAAQnM,gBAAgBE,MAAQ,OAAEC,cAClCxG,KAAKoD,MAAMK,UAAUD,KAAOgP,EAC5BxS,KAAK6D,SAAW,MAChB7D,KAAKoD,MAAMC,KAAO,cA7BtB,uCAiCyB,OAAjBrD,KAAK6D,WAEP7D,KAAKoD,MAAMK,UAAUD,KAAO,MAE9BxD,KAAKoD,MAAMC,KAAO,SArCtB,8FAwCqBG,GAxCrB,0FAyCQgK,EAAU,GACO,QAAjBxN,KAAK6D,SA1Cb,gCA2CY,OAAE4C,KAAKgM,WAAWjP,GA3C9B,OA4CMgK,EAAU,iCA5ChB,uCA8CY,OAAE/G,KAAKiM,WAAWlP,GA9C9B,OA+CMgK,EAAU,6BA/ChB,QAiDsC,MAA9B,OAAE7G,cAAcC,YAClB,OAAED,cAAcE,WAAW2G,GAE7BxN,KAAKoD,MAAMK,UAAUD,KAAO,KAC5BxD,KAAKoD,MAAMC,KAAO,OArDtB,kJAwDmBY,GACfjE,KAAKoD,MAAMK,UAAUQ,QAAUA,EAC/BjE,KAAK6D,SAAW,OAChB7D,KAAKoD,MAAMC,KAAO,gBA3DtB,2CA+DI,GAAuB,MAAnB,OAAEmD,cAAN,CACA,IAAMmM,EAAU,kBAAiB,gBAASrH,IAA1B,CAA0ChG,IAAK,IAC/DqN,EAAWtM,gBAAgBE,MAAQ,OAAEC,cACrCxG,KAAKoD,MAAMK,UAAUQ,QAAU0O,EAC/B3S,KAAK6D,SAAW,MAChB7D,KAAKoD,MAAMC,KAAO,iBApEtB,0CAuEyB,OAAjBrD,KAAK6D,WAEP7D,KAAKoD,MAAMK,UAAUQ,QAAU,MAEjCjE,KAAKoD,MAAMC,KAAO,SA3EtB,iGA8EwBY,GA9ExB,0FA+EQuJ,EAAU,GACO,QAAjBxN,KAAK6D,SAhFb,gCAiFY,OAAE4C,KAAKmM,cAAc3O,GAjFjC,OAkFMuJ,EAAU,qCAlFhB,uCAoFY,OAAE/G,KAAKoM,cAAc5O,GApFjC,OAqFMuJ,EAAU,iCArFhB,QAuFsC,MAA9B,OAAE7G,cAAcC,YAClB,OAAED,cAAcE,WAAW2G,GAE7BxN,KAAKoD,MAAMK,UAAUQ,QAAU,KAC/BjE,KAAKoD,MAAMC,KAAO,OA3FtB,gHAAmC,QAAd,GAAK,gBATzB,eAAU,CACT0D,WAAY,CACV+L,WAAA,EACAC,cAAA,EACAC,iBAAA,GACAC,SAAA,GACAC,YAAA,OAGiB,cCtFsa,M,0BCOvb,GAAY,eACd,GACAvQ,EACA6B,GACA,EACA,KACA,KACA,MAIa,gBAAiB,QAShC,IAAkB,GAAW,CAACgD,OAAA,KAAK2L,cAAA,KAAWC,gBAAA,QAAgBnL,OAAA,KAAKoL,yBAAA,W,oCC1BnE,IAAIC,EAAgC,EAAQ,QACxCC,EAAW,EAAQ,QACnBC,EAAyB,EAAQ,QACjCC,EAAY,EAAQ,QACpBC,EAAa,EAAQ,QAGzBJ,EAA8B,SAAU,GAAG,SAAUK,EAAQC,EAAcC,GACzE,MAAO,CAGL,SAAgBC,GACd,IAAIC,EAAIP,EAAuBxT,MAC3BgU,OAAqBjR,GAAV+Q,OAAsB/Q,EAAY+Q,EAAOH,GACxD,YAAoB5Q,IAAbiR,EAAyBA,EAASC,KAAKH,EAAQC,GAAK,IAAIG,OAAOJ,GAAQH,GAAQjL,OAAOqL,KAI/F,SAAUD,GACR,IAAI/G,EAAM8G,EAAgBD,EAAcE,EAAQ9T,MAChD,GAAI+M,EAAIoH,KAAM,OAAOpH,EAAIrI,MAEzB,IAAI0P,EAAKb,EAASO,GACdO,EAAI3L,OAAO1I,MAEXsU,EAAoBF,EAAGG,UACtBd,EAAUa,EAAmB,KAAIF,EAAGG,UAAY,GACrD,IAAIC,EAASd,EAAWU,EAAIC,GAE5B,OADKZ,EAAUW,EAAGG,UAAWD,KAAoBF,EAAGG,UAAYD,GAC9C,OAAXE,GAAmB,EAAIA,EAAOpF,Y,kCC9B3C,IAAIzM,EAAS,WAAa,IAAIK,EAAIhD,KAASiD,EAAGD,EAAI3B,eAAmB6B,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,YAAY,CAAC5B,YAAY,OAAOvB,MAAM,CAAC,MAAQ,GAAG,MAAQ,cAAc,CAACmD,EAAG,kBAAkB,CAAC5B,YAAY,QAAQ,CAAC4B,EAAG,QAAQ,CAAC5B,YAAY,OAAOvB,MAAM,CAAC,aAAa,KAAK,CAACmD,EAAG,QAAQ,CAACA,EAAG,OAAO,CAACuR,WAAW,CAAC,CAACpV,KAAK,OAAOqV,QAAQ,SAAShQ,OAAQ1B,EAAI2R,WAAY7P,WAAW,iBAAiB,CAAC9B,EAAI+B,GAAG,IAAI/B,EAAI4C,GAAG5C,EAAImF,OAAO,OAAOjF,EAAG,eAAe,CAACuR,WAAW,CAAC,CAACpV,KAAK,OAAOqV,QAAQ,SAAShQ,MAAO1B,EAAc,WAAE8B,WAAW,eAAeY,IAAI,SAASpE,YAAY,YAAYvB,MAAM,CAAC,MAAQ,aAAa,YAAc,YAAY,MAAQiD,EAAImC,OAAO,eAAe,GAAG,MAAQ,IAAInD,GAAG,CAAC,MAAQ,SAAU4S,GAAK,OAAO5R,EAAIkC,MAAM,SAAU0P,IAAM,MAAQ,SAAS3P,GAAQ,IAAIA,EAAOtF,KAAKsK,QAAQ,QAAQjH,EAAIkH,GAAGjF,EAAOkF,QAAQ,MAAM,GAAGlF,EAAO3B,IAAI,CAAC,MAAM,WAAa,OAAO,KAAON,EAAI2R,YAAa,OAAW,IAAI,IAAI,GAAGzR,EAAG,YAAYA,EAAG,kBAAkB,CAACA,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,UAAU,QAAU,iBAAiBiC,GAAG,CAAC,MAAQ,SAASiD,GAAQjC,EAAI2R,YAAc3R,EAAI2R,eAAgB3R,EAAW,QAAEE,EAAG,cAAc,CAACnD,MAAM,CAAC,WAAW,aAAa,QAAUiD,EAAI6R,WAAW,MAAQ,SAAS7S,GAAG,CAAC,MAAQ,SAASiD,GAAQ,OAAOjC,EAAIkC,MAAM,WAAWlC,EAAIY,MAAM,IAAI,IACxuCY,EAAkB,G,8IC+ChBsQ,EAAe,OAAI5O,OAAO,CAC9B5G,MAAO,CACL6I,MAAOO,OACPmM,WAAYnM,OACZqM,QAAShK,QACT5F,OAAQuD,QAEVjE,MAAO,CACLuG,KAAM,SACNjC,MAAO,YAOU,EAArB,6D,+DACE,EAAA4L,YAAa,EADf,kFASevI,GAAU,WAChBA,GACHpM,KAAKkF,MAAM,SAAU,IAEvBkL,YAAW,WACT,IAAMrE,EAAQ,EAAKC,MAAM7G,OAAO8G,IAAIC,cAAc,SACrC,MAATH,GAAeA,EAAMI,WACxB,QAhBP,GAAqC2I,GASnC,gBADC,eAAM,e,2BASN,MAjBkB,EAAO,gBAH3B,eAAU,CACT/N,WAAY,CAAEC,aAAA,SAEK,WChE6b,I,yGCO9cE,EAAY,eACd,EACAvE,EACA6B,GACA,EACA,KACA,WACA,MAIa,OAAA0C,EAAiB,QAWhC,IAAkBA,EAAW,CAACM,OAAA,KAAKS,OAAA,KAAKC,UAAA,KAAQwE,aAAA,KAAWwF,WAAA,KAASC,cAAA,OAAcC,cAAA","file":"js/menus.72495a79.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","// Styles\nimport './VSkeletonLoader.sass'\n\n// Mixins\nimport Elevatable from '../../mixins/elevatable'\nimport Measurable from '../../mixins/measurable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode, PropType } from 'vue'\nimport { getSlot } from '../../util/helpers'\n\nexport interface HTMLSkeletonLoaderElement extends HTMLElement {\n  _initialStyle?: {\n    display: string | null\n    transition: string\n  }\n}\n\n/* @vue/component */\nexport default mixins(\n  Elevatable,\n  Measurable,\n  Themeable,\n).extend({\n  name: 'VSkeletonLoader',\n\n  props: {\n    boilerplate: Boolean,\n    loading: Boolean,\n    tile: Boolean,\n    transition: String,\n    type: String,\n    types: {\n      type: Object as PropType<Record<string, string>>,\n      default: () => ({}),\n    },\n  },\n\n  computed: {\n    attrs (): object {\n      if (!this.isLoading) return this.$attrs\n\n      return !this.boilerplate ? {\n        'aria-busy': true,\n        'aria-live': 'polite',\n        role: 'alert',\n        ...this.$attrs,\n      } : {}\n    },\n    classes (): object {\n      return {\n        'v-skeleton-loader--boilerplate': this.boilerplate,\n        'v-skeleton-loader--is-loading': this.isLoading,\n        'v-skeleton-loader--tile': this.tile,\n        ...this.themeClasses,\n        ...this.elevationClasses,\n      }\n    },\n    isLoading (): boolean {\n      return !('default' in this.$scopedSlots) || this.loading\n    },\n    rootTypes (): Record<string, string> {\n      return {\n        actions: 'button@2',\n        article: 'heading, paragraph',\n        avatar: 'avatar',\n        button: 'button',\n        card: 'image, card-heading',\n        'card-avatar': 'image, list-item-avatar',\n        'card-heading': 'heading',\n        chip: 'chip',\n        'date-picker': 'list-item, card-heading, divider, date-picker-options, date-picker-days, actions',\n        'date-picker-options': 'text, avatar@2',\n        'date-picker-days': 'avatar@28',\n        heading: 'heading',\n        image: 'image',\n        'list-item': 'text',\n        'list-item-avatar': 'avatar, text',\n        'list-item-two-line': 'sentences',\n        'list-item-avatar-two-line': 'avatar, sentences',\n        'list-item-three-line': 'paragraph',\n        'list-item-avatar-three-line': 'avatar, paragraph',\n        paragraph: 'text@3',\n        sentences: 'text@2',\n        table: 'table-heading, table-thead, table-tbody, table-tfoot',\n        'table-heading': 'heading, text',\n        'table-thead': 'heading@6',\n        'table-tbody': 'table-row-divider@6',\n        'table-row-divider': 'table-row, divider',\n        'table-row': 'table-cell@6',\n        'table-cell': 'text',\n        'table-tfoot': 'text@2, avatar@2',\n        text: 'text',\n        ...this.types,\n      }\n    },\n  },\n\n  methods: {\n    genBone (text: string, children: VNode[]) {\n      return this.$createElement('div', {\n        staticClass: `v-skeleton-loader__${text} v-skeleton-loader__bone`,\n      }, children)\n    },\n    genBones (bone: string): VNode[] {\n      // e.g. 'text@3'\n      const [type, length] = bone.split('@') as [string, number]\n      const generator = () => this.genStructure(type)\n\n      // Generate a length array based upon\n      // value after @ in the bone string\n      return Array.from({ length }).map(generator)\n    },\n    // Fix type when this is merged\n    // https://github.com/microsoft/TypeScript/pull/33050\n    genStructure (type?: string): any {\n      let children = []\n      type = type || this.type || ''\n      const bone = this.rootTypes[type] || ''\n\n      // End of recursion, do nothing\n      /* eslint-disable-next-line no-empty, brace-style */\n      if (type === bone) {}\n      // Array of values - e.g. 'heading, paragraph, text@2'\n      else if (type.indexOf(',') > -1) return this.mapBones(type)\n      // Array of values - e.g. 'paragraph@4'\n      else if (type.indexOf('@') > -1) return this.genBones(type)\n      // Array of values - e.g. 'card@2'\n      else if (bone.indexOf(',') > -1) children = this.mapBones(bone)\n      // Array of values - e.g. 'list-item@2'\n      else if (bone.indexOf('@') > -1) children = this.genBones(bone)\n      // Single value - e.g. 'card-heading'\n      else if (bone) children.push(this.genStructure(bone))\n\n      return [this.genBone(type, children)]\n    },\n    genSkeleton () {\n      const children = []\n\n      if (!this.isLoading) children.push(getSlot(this))\n      else children.push(this.genStructure())\n\n      /* istanbul ignore else */\n      if (!this.transition) return children\n\n      /* istanbul ignore next */\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n        },\n        // Only show transition when\n        // content has been loaded\n        on: {\n          afterEnter: this.resetStyles,\n          beforeEnter: this.onBeforeEnter,\n          beforeLeave: this.onBeforeLeave,\n          leaveCancelled: this.resetStyles,\n        },\n      }, children)\n    },\n    mapBones (bones: string) {\n      // Remove spaces and return array of structures\n      return bones.replace(/\\s/g, '').split(',').map(this.genStructure)\n    },\n    onBeforeEnter (el: HTMLSkeletonLoaderElement) {\n      this.resetStyles(el)\n\n      if (!this.isLoading) return\n\n      el._initialStyle = {\n        display: el.style.display,\n        transition: el.style.transition,\n      }\n\n      el.style.setProperty('transition', 'none', 'important')\n    },\n    onBeforeLeave (el: HTMLSkeletonLoaderElement) {\n      el.style.setProperty('display', 'none', 'important')\n    },\n    resetStyles (el: HTMLSkeletonLoaderElement) {\n      if (!el._initialStyle) return\n\n      el.style.display = el._initialStyle.display || ''\n      el.style.transition = el._initialStyle.transition\n\n      delete el._initialStyle\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-skeleton-loader',\n      attrs: this.attrs,\n      on: this.$listeners,\n      class: this.classes,\n      style: this.isLoading ? this.measurableStyles : undefined,\n    }, [this.genSkeleton()])\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"py-1 px-2\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"wrap\":\"\"}},[(_vm.state.mode == 'visu' || _vm.state.mode == 'editMenu')?_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-fade-transition',{attrs:{\"group\":\"\",\"hide-on-leave\":\"\"}},[(_vm.state.mode == 'visu')?_c('liste-menus',{key:\"liste\",staticStyle:{\"height\":\"75vh\"},attrs:{\"state\":_vm.state},on:{\"change\":function (menu) { return (_vm.state.selection.menu = menu); },\"edit\":_vm.startEditMenu,\"new\":_vm.startCreateMenu}}):_vm._e(),(_vm.state.mode == 'editMenu')?_c('edit-menu',{key:\"edit\",attrs:{\"mode\":_vm.editMode,\"initialMenu\":_vm.state.selection.menu},on:{\"undo\":_vm.editMenuCancel,\"done\":_vm.editMenuDone}}):_vm._e()],1)],1):_vm._e(),_c('v-col',[_c('v-slide-x-reverse-transition',{attrs:{\"group\":\"\",\"hide-on-leave\":\"\"}},[(_vm.state.mode == 'visu' || _vm.state.mode == 'editMenu')?_c('liste-recettes',{key:\"liste\",attrs:{\"height\":\"75vh\",\"state\":_vm.state},on:{\"change\":function (rec) { return (_vm.state.selection.recette = rec); },\"edit\":_vm.startEditRecette,\"new\":_vm.startCreateRecette}}):_vm._e(),(_vm.state.mode == 'editRecette')?_c('edit-recette',{key:\"edit\",attrs:{\"mode\":_vm.editMode,\"initialRecette\":_vm.state.selection.recette},on:{\"undo\":_vm.editRecetteCancel,\"done\":_vm.editRecetteDone}}):_vm._e()],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('keep-alive',[_c('liste-ingredients',{attrs:{\"height\":\"75vh\",\"state\":_vm.state},on:{\"change\":function (ing) { return (_vm.state.selection.ingredient = ing); }}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression de ce menu ? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprime}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter un menu...\",\"title\":\"Menus\",\"showAdd\":_vm.state.mode == 'visu'},on:{\"add\":function($event){return _vm.$emit('new')}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\"}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.menu},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.menus),function(menu){return _c('v-list-item',{key:menu.id,attrs:{\"value\":menu},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.formatMenuName(menu)))]),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatMenuProprietaire(menu)))])])],1),(_vm.showButtons(active, menu))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier ce menu\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit', menu)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer ce menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Menu } from \"../../logic/types\";\nimport { StateMenus } from \"./types\";\nimport { searchFunction } from \"../utils/utils\";\n\nconst Props = Vue.extend({\n  props: {\n    state: Object as () => StateMenus\n  }\n});\n\n@Component({\n  components: { TooltipBtn, Toolbar }\n})\nexport default class ListeMenus extends Props {\n  confirmeSupprime = false;\n  formatMenuName = C.formatter.formatMenuName;\n  formatMenuProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  search = \"\";\n\n  get menus() {\n    return C.searchMenu(this.search);\n  }\n\n  showButtons(active: boolean, menu: Menu) {\n    return (\n      active &&\n      (!menu.id_proprietaire.Valid ||\n        menu.id_proprietaire.Int64 == C.idUtilisateur)\n    );\n  }\n\n  async supprime() {\n    this.confirmeSupprime = false;\n    if (this.state.selection.menu == null) return;\n    await C.data.deleteMenu(this.state.selection.menu);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Menu supprimé avec succès.\");\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeMenus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeMenus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeMenus.vue?vue&type=template&id=632853e2&\"\nimport script from \"./ListeMenus.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeMenus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression de cette recette ? \"),_c('br'),_c('div',{staticClass:\"my-3\"},[_c('small',[_vm._v(\" Si vous souhaitez seulement l'enlever d'un menu, passez plutôt en \"),_c('b',[_vm._v(\"mode édition\")]),_vm._v(\". \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprime}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter une recette...\",\"title\":_vm.title,\"showAdd\":_vm.state.mode == 'visu' && _vm.state.selection.menu == null},on:{\"add\":function($event){return _vm.$emit('new')}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.recette},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.recettes),function(recette){return _c('v-list-item',{key:recette.id,attrs:{\"value\":recette},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function (ev) { return _vm.onDragStart(ev, recette); }}},[_c('v-list-item-title',[_c('v-list-item-title',[_vm._v(_vm._s(recette.nom))])],1),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatRecetteProprietaire(recette)))])])],1),(_vm.showActions(active, recette))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier cette recette\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit', recette)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer cette recette\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Recette } from \"../../logic/types\";\nimport { StateMenus } from \"./types\";\nimport levenshtein from \"js-levenshtein\";\nimport { searchFunction } from \"../utils/utils\";\nconst MAX_DIST_LEVENSHTEIN = 5;\n\nconst Props = Vue.extend({\n  props: {\n    state: Object as () => StateMenus,\n    height: String\n  }\n});\n\n@Component({\n  components: { TooltipBtn, Toolbar }\n})\nexport default class ListeRecettes extends Props {\n  confirmeSupprime = false;\n\n  search = \"\";\n\n  private searchRecettes(recettes: Recette[], search: string) {\n    const predicat = searchFunction(search);\n    return recettes.filter(recette => predicat(recette.nom));\n  }\n\n  get recettes() {\n    let baseRecettes: Recette[];\n    if (this.state.mode == \"editMenu\") {\n      baseRecettes = Object.values(C.data.recettes);\n    } else if (this.state.selection.menu != null) {\n      baseRecettes = C.getMenuRecettes(this.state.selection.menu);\n    } else {\n      baseRecettes = Object.values(C.data.recettes);\n    }\n    return this.searchRecettes(baseRecettes, this.search);\n  }\n\n  get title() {\n    if (this.state.mode == \"editMenu\") {\n      return \"Choisir une recette\";\n    }\n    if (this.state.selection.menu != null) {\n      return \"Recettes liées au menu\";\n    }\n    return \"Toutes les recettes\";\n  }\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  showActions(active: boolean, recette: Recette) {\n    if (this.state.selection.menu != null) return false;\n    return (\n      active &&\n      (!recette.id_proprietaire.Valid ||\n        recette.id_proprietaire.Int64 == C.idUtilisateur)\n    );\n  }\n\n  async supprime() {\n    this.confirmeSupprime = false;\n    if (this.state.selection.recette == null) return;\n    await C.data.deleteRecette(this.state.selection.recette);\n    this.$emit(\"change\", null);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Recette supprimée avec succès.\");\n    }\n  }\n\n  onDragStart(event: DragEvent, recette: Recette) {\n    if (!event.dataTransfer) return;\n    event.dataTransfer.setData(\"id-recette\", String(recette.id));\n    event.dataTransfer.effectAllowed = \"copy\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeRecettes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeRecettes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeRecettes.vue?vue&type=template&id=bf3deaca&\"\nimport script from \"./ListeRecettes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeRecettes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('edit-ingredient',{attrs:{\"initialIngredient\":_vm.state.selection.ingredient,\"mode\":_vm.editMode},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"1000px\"},model:{value:(_vm.showEditProduits),callback:function ($$v) {_vm.showEditProduits=$$v},expression:\"showEditProduits\"}},[_c('association-ingredient',{attrs:{\"ingredient\":_vm.editedIngredientProduit,\"activated\":_vm.showEditProduits}})],1),_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Vous avez demandé la suppression de cet ingrédient. \"),_c('br'),_vm._v(\" Souhaitez-vous vérifiez qu'aucun produit n'y est associé ? Dans le cas contraire, les éventuelles associations ingrédient/produit seront supprimées. \"),_c('div',{staticClass:\"my-3\"},[_c('small',[_vm._v(\" Si vous souhaitez seulement enlever l'ingrédient d'un menu ou d'une recette, passez plutôt en \"),_c('b',[_vm._v(\"mode édition\")]),_vm._v(\". \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.supprime(false)}}},[_vm._v(\" Supprimer l'ingrédient et les liens produits \")]),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.supprime(true)}}},[_vm._v(\" Vérifier les liens avant de supprimer \")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter un ingrédient...\",\"title\":_vm.title,\"showAdd\":_vm.state.mode == 'visu' &&\n        _vm.state.selection.menu == null &&\n        _vm.state.selection.recette == null},on:{\"add\":_vm.startCreateIngredient},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.ingredient},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.ingredient.id,attrs:{\"value\":ingredient},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var active = ref.active;\nreturn [_c('v-list-item-content',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function (ev) { return _vm.onDragStart(ev, ingredient.ingredient); }}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(ingredient.ingredient.nom)+\" \")]),_c('v-list-item-subtitle',{domProps:{\"innerHTML\":_vm._s(_vm.subtitle(ingredient))}})],1),(_vm.showActions(active))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"cart\",\"tooltip\":\"Produits liés à cet ingrédient...\",\"color\":\"accent\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditProduits(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier cet ingrédient...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer cet ingrédient\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('edit', _vm.current)}}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails de l'ingrédient \")]),_c('v-card-text',[_c('v-form',[_c('v-row',[_c('v-col',[_c('v-text-field',{ref:\"nom\",attrs:{\"label\":\"Nom\"},model:{value:(_vm.current.nom),callback:function ($$v) {_vm.$set(_vm.current, \"nom\", $$v)},expression:\"current.nom\"}})],1),_c('v-col',[_c('unite-field',{model:{value:(_vm.current.unite),callback:function ($$v) {_vm.$set(_vm.current, \"unite\", $$v)},expression:\"current.unite\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-switch',{attrs:{\"label\":\"Conditionnement requis\"},model:{value:(_vm.conditionnement),callback:function ($$v) {_vm.conditionnement=$$v},expression:\"conditionnement\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"disabled\":!_vm.conditionnement,\"label\":\"Conditionnement - Quanité\",\"type\":\"number\"},model:{value:(_vm.current.conditionnement.quantite),callback:function ($$v) {_vm.$set(_vm.current.conditionnement, \"quantite\", _vm._n($$v))},expression:\"current.conditionnement.quantite\"}})],1),_c('v-col',[_c('unite-field',{attrs:{\"disabled\":!_vm.conditionnement,\"label\":\"Conditionnement - Unité\",\"unites\":_vm.allowedUnitesConditionnement},model:{value:(_vm.current.conditionnement.unite),callback:function ($$v) {_vm.$set(_vm.current.conditionnement, \"unite\", $$v)},expression:\"current.conditionnement.unite\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":[],\"label\":\"Catégorie\"},model:{value:(_vm.current.categorie),callback:function ($$v) {_vm.$set(_vm.current, \"categorie\", $$v)},expression:\"current.categorie\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Callories\",\"required\":\"\"},model:{value:(_vm.current.callories),callback:function ($$v) {_vm.$set(_vm.current, \"callories\", $$v)},expression:\"current.callories\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('edit', _vm.current)}}},[_vm._v(_vm._s(_vm.btnTitle))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{attrs:{\"disabled\":_vm.disabled,\"items\":_vm.unites,\"value\":_vm.unite,\"label\":_vm.label},on:{\"change\":function (args) { return _vm.$emit('change', args); }}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Unites } from \"../../logic/enums\";\n\nconst UniteFieldProps = Vue.extend({\n  props: {\n    unite: String,\n    label: {\n      type: String,\n      default: \"Unité\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    unites: {\n      type: Array,\n      default: function() {\n        return Unites;\n      }\n    }\n  },\n  model: {\n    prop: \"unite\",\n    event: \"change\"\n  }\n});\n\n@Component({})\nexport default class UniteField extends UniteFieldProps {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UniteField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UniteField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UniteField.vue?vue&type=template&id=49ddb001&scoped=true&\"\nimport script from \"./UniteField.vue?vue&type=script&lang=ts&\"\nexport * from \"./UniteField.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49ddb001\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","import { Menu, Recette, Ingredient } from \"@/logic/types\";\n\nimport { IngredientOptions, New } from \"@/logic/types2\";\n\ntype ModeMenu = \"visu\" | \"editMenu\" | \"editRecette\" | \"editIngredient\";\ninterface SelectionMenu {\n  menu: Menu | null;\n  recette: Recette | null;\n  ingredient: IngredientOptions | null;\n}\nexport interface StateMenus {\n  mode: ModeMenu;\n  selection: SelectionMenu;\n}\n\nexport const DefautIngredient: New<Ingredient> = {\n  nom: \"\",\n  unite: \"\",\n  categorie: \"\",\n  conditionnement: { unite: \"\", quantite: 0 },\n  callories: {}\n};\n\nexport const DefautRecette: New<Recette> = {\n  id_proprietaire: { Valid: true, Int64: -1 },\n  ingredients: [],\n  mode_emploi: \"\",\n  nom: \"\"\n};\n\nexport const DefautMenu: New<Menu> = {\n  commentaire: \"\",\n  id_proprietaire: { Valid: true, Int64: -1 },\n  ingredients: [],\n  recettes: []\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { RecetteIngredient, Ingredient } from \"../../logic/types\";\nimport { Watch } from \"vue-property-decorator\";\nimport { IngredientOptions, EditMode, deepcopy } from \"../../logic/types2\";\nimport UniteField from \"../utils/UniteField.vue\";\nimport { Unites, UniteFields } from \"../../logic/enums\";\nimport { DefautIngredient } from \"./types\";\n\nconst EditIngredientProps = Vue.extend({\n  props: {\n    initialIngredient: Object as () => IngredientOptions | null,\n    mode: String as () => EditMode\n  }\n});\n\n@Component({\n  components: { UniteField }\n})\nexport default class EditIngredient extends EditIngredientProps {\n  current = this.copy(this.initialIngredient);\n\n  private copy(initial: IngredientOptions | null): Ingredient {\n    const ing =\n      initial == null ? { ...DefautIngredient, id: -1 } : initial.ingredient;\n    return deepcopy(ing);\n  }\n\n  get btnTitle() {\n    return this.mode == \"edit\" ? \"Valider\" : \"Créer\";\n  }\n\n  get conditionnement() {\n    return this.current.conditionnement.unite != \"\";\n  }\n  set conditionnement(b: boolean) {\n    if (!b) {\n      this.current.conditionnement = { unite: \"\", quantite: 0 };\n    } else {\n      this.current.conditionnement.unite =\n        this.current.unite ||\n        (this.initialIngredient && this.initialIngredient.ingredient.unite) ||\n        \"L\";\n    }\n  }\n\n  get allowedUnitesConditionnement() {\n    if (this.current.unite == UniteFields.Piece) {\n      // Pour le conditionnement, l'unité Pièce n'apporte aucune information\n      return Unites.filter(u => u.value != UniteFields.Piece);\n    }\n    // le conditionnement doit être compatible avec l'unité.\n    return Unites.filter(u => u.value == this.current.unite);\n  }\n\n  @Watch(\"initialIngredient\")\n  onPropChange() {\n    this.current = this.copy(this.initialIngredient);\n  }\n\n  $refs!: {\n    nom: Vue;\n  };\n\n  focus() {\n    const input = this.$refs.nom.$el.querySelector(\"input\");\n    if (input != null) input.select();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditIngredient.vue?vue&type=template&id=b139ce80&scoped=true&\"\nimport script from \"./EditIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b139ce80\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Produits associés à l'ingrédient \"+_vm._s(_vm.ingredient.nom)+\" \")]),_c('v-card-subtitle',[_vm._v(\" Vous pouvez choisir ici quels produits concrets sont associés à l'ingrédient générique. \")]),_c('v-card-text',[_c('v-skeleton-loader',{attrs:{\"type\":\"paragraph\",\"loading\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.ingredientProduits)+\" \")])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"}},[_vm._v(\"text\")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"}},[_vm._v(\"text\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Ingredient, IngredientProduits } from \"../../logic/types\";\nimport { C } from \"../../logic/controller\";\nimport { Watch } from \"vue-property-decorator\";\n\nconst AssociationIngredientProps = Vue.extend({\n  props: {\n    ingredient: Object as () => Ingredient,\n    activated: Boolean\n  }\n});\n\n@Component({})\nexport default class AssociationIngredient extends AssociationIngredientProps {\n  get loading() {\n    return C.notifications.getSpin();\n  }\n\n  ingredientProduits: IngredientProduits | null = null;\n\n  private async loadProduits() {\n    const res = await C.data.getIngredientProduits(this.ingredient.id);\n    if (res == undefined) return;\n    this.ingredientProduits = res;\n  }\n\n  mounted() {\n    this.loadProduits();\n  }\n\n  @Watch(\"activated\")\n  onChangeIngredient(b: boolean) {\n    if (!b) return;\n    this.loadProduits();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssociationIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssociationIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssociationIngredient.vue?vue&type=template&id=32dad1e3&scoped=true&\"\nimport script from \"./AssociationIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./AssociationIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32dad1e3\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VSkeletonLoader})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport EditIngredient from \"./EditIngredient.vue\";\nimport AssociationIngredient from \"../produits/AssociationIngredient.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Ingredient, RecetteIngredient } from \"../../logic/types\";\nimport { IngredientOptions, EditMode, New } from \"../../logic/types2\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport levenshtein from \"js-levenshtein\";\nimport { StateMenus, DefautIngredient } from \"./types\";\nimport { searchFunction } from \"../utils/utils\";\n\nconst Props = Vue.extend({\n  props: {\n    height: String,\n    state: Object as () => StateMenus\n  }\n});\n\nconst MAX_DIST_LEVENSHTEIN = 4;\n\n@Component({\n  components: { TooltipBtn, EditIngredient, AssociationIngredient, Toolbar }\n})\nexport default class ListeIngredients extends Props {\n  confirmeSupprime = false;\n\n  showEditIngredient = false;\n  editMode: EditMode = \"new\";\n\n  showEditProduits = false;\n\n  search = \"\";\n\n  subtitle(ingredient: IngredientOptions) {\n    if (ingredient.options) {\n      return `${ingredient.options.quantite} <i>${\n        ingredient.ingredient.unite\n      }</i> - Cuisson : ${ingredient.options.cuisson || \"-\"}`;\n    }\n    return `<i>${ingredient.ingredient.unite}</i>`;\n  }\n\n  get title() {\n    if (this.state.mode == \"editMenu\") {\n      return \"Choisir un ingrédient\";\n    }\n    if (this.state.selection.recette != null) {\n      return \"Ingrédients liés à la recette\";\n    } else if (this.state.selection.menu != null) {\n      return \"Ingrédients liés au menu\";\n    }\n    return \"Tous les ingrédients\";\n  }\n\n  get editedIngredientProduit() {\n    if (this.state.selection.ingredient == null) return null;\n    return this.state.selection.ingredient.ingredient;\n  }\n\n  // filtre suivant la recherche\n  private searchIngredients(ingredients: IngredientOptions[], search: string) {\n    const predicat = searchFunction(search);\n    // cas spécial pour l'unité\n    return ingredients.filter(ing => {\n      return search == ing.ingredient.unite || predicat(ing.ingredient.nom);\n    });\n  }\n\n  get ingredients() {\n    let baseIngredients: IngredientOptions[];\n    if (this.state.mode == \"editMenu\" || this.state.mode == \"editRecette\") {\n      baseIngredients = C.getAllIngredients();\n    } else if (this.state.selection.recette != null) {\n      baseIngredients = C.getRecetteIngredients(this.state.selection.recette);\n    } else if (this.state.selection.menu != null) {\n      baseIngredients = C.getMenuIngredients(this.state.selection.menu);\n    } else {\n      baseIngredients = C.getAllIngredients();\n    }\n    return this.searchIngredients(baseIngredients, this.search);\n  }\n\n  showActions(active: boolean) {\n    return (\n      this.state.selection.menu == null &&\n      this.state.selection.recette == null &&\n      active\n    );\n  }\n\n  async supprime(checkProduits: boolean) {\n    this.confirmeSupprime = false;\n    if (this.state.selection.ingredient == null) return;\n    await C.data.deleteIngredient(\n      this.state.selection.ingredient.ingredient,\n      checkProduits\n    );\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Ingrédient supprimé avec succès.\");\n    }\n  }\n\n  onDragStart(event: DragEvent, ingredient: Ingredient) {\n    if (!event.dataTransfer) return;\n    event.dataTransfer.setData(\"id-ingredient\", String(ingredient.id));\n    event.dataTransfer.effectAllowed = \"copy\";\n  }\n\n  startEditIngredient(ing: IngredientOptions) {\n    this.$emit(\"change\", ing);\n    this.editMode = \"edit\";\n    this.showEditIngredient = true;\n  }\n\n  async editIngredientDone(ing: Ingredient) {\n    this.showEditIngredient = false;\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      await C.data.updateIngredient(ing);\n      message = \"L'ingrédient a été modifié avec succès.\";\n    } else {\n      await C.data.createIngredient(ing);\n      message = \"L'ingrédient a été ajouté avec succès.\";\n    }\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n    }\n    this.$emit(\"change\", null);\n  }\n\n  startCreateIngredient() {\n    this.$emit(\"change\", { ingredient: DefautIngredient });\n    this.editMode = \"new\";\n    this.showEditIngredient = true;\n  }\n\n  startEditProduits(ingredient: IngredientOptions) {\n    this.showEditProduits = true;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeIngredients.vue?vue&type=template&id=240e2a63&\"\nimport script from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('menu-or-recette-ingredient',{ref:\"editIngredient\",attrs:{\"ingredient\":_vm.editedIngredient},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"check-outline\",\"tooltip\":\"Valider\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('done', _vm.menu)}}}),_c('tooltip-btn',{attrs:{\"mdi-icon\":\"undo\",\"tooltip\":\"Abandonner les modifications\"},on:{\"click\":function($event){return _vm.$emit('undo')}}})],1)],1),_c('v-textarea',{staticClass:\"pa-2 mt-4 my-3 mb-0\",attrs:{\"label\":\"Commentaire\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(_vm.menu.commentaire),callback:function ($$v) {_vm.$set(_vm.menu, \"commentaire\", $$v)},expression:\"menu.commentaire\"}}),_c('v-list',{staticClass:\"mt-0 pt-0 overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":\"60vh\"}},[_c('div',{on:{\"dragover\":_vm.onDragoverRecettes,\"drop\":_vm.onDropRecette}},[_c('v-subheader',[_vm._v(\"Recettes du menu\")]),(_vm.recettes.length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter une recette...\")])])],1):_vm._e(),_vm._l((_vm.recettes),function(recette){return _c('v-list-item',{key:recette.id,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_c('v-list-item-title',[_vm._v(_vm._s(recette.nom))])],1),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatRecetteProprietaire(recette)))])])],1),_c('v-list-item-action',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cette recette du menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeRecette(recette)}}})],1)]}}],null,true)})})],2),_c('div',{on:{\"dragover\":_vm.onDragoverIngredients,\"drop\":_vm.onDropIngredient}},[_c('v-subheader',[_vm._v(\"Ingrédients additionnels\")]),((_vm.menu.ingredients || []).length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter un ingrédient...\")])])],1):_vm._e(),_vm._l((_vm.menu.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.id,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.getIngredient(ingredient).nom)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(ingredient.quantite)+\" \"),_c('i',[_vm._v(_vm._s(_vm.getIngredient(ingredient).unite))]),_vm._v(\" - Cuisson : \"+_vm._s(ingredient.cuisson)+\" \")])],1),_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier les détails...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cet ingrédient du menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeIngredient(ingredient)}}})],1)],1)],1)]}}],null,true)})})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('edit', _vm.current)}}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails de l'ingrédient \")]),_c('v-card-text',[_c('v-form',[_c('v-row',[_c('v-col',[_c('v-text-field',{ref:\"quantite\",attrs:{\"label\":\"Quantité\",\"hint\":\"Quantité désirée pour 1 personne.\",\"type\":\"number\"},model:{value:(_vm.current.quantite),callback:function ($$v) {_vm.$set(_vm.current, \"quantite\", _vm._n($$v))},expression:\"current.quantite\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":[],\"label\":\"Cuisson\"},model:{value:(_vm.current.cuisson),callback:function ($$v) {_vm.$set(_vm.current, \"cuisson\", $$v)},expression:\"current.cuisson\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('edit', _vm.current)}}},[_vm._v(\"Valider\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { RecetteIngredient } from \"../../logic/types\";\nimport { Watch } from \"vue-property-decorator\";\nimport { deepcopy } from \"../../logic/types2\";\n\nconst MenuOrRecetteIngredientProps = Vue.extend({\n  props: {\n    ingredient: Object as () => RecetteIngredient\n  }\n});\n\n@Component({})\nexport default class MenuOrRecetteIngredient extends MenuOrRecetteIngredientProps {\n  current: RecetteIngredient = deepcopy(this.ingredient);\n\n  @Watch(\"ingredient\")\n  onPropChange() {\n    this.current = deepcopy(this.ingredient);\n  }\n\n  $refs!: {\n    quantite: Vue;\n  };\n\n  focus() {\n    const input = this.$refs.quantite.$el.querySelector(\"input\");\n    if (input != null) input.select();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MenuOrRecetteIngredient.vue?vue&type=template&id=0c691b92&scoped=true&\"\nimport script from \"./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c691b92\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport MenuOrRecetteIngredient from \"./MenuOrRecetteIngredient.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport {\n  Menu,\n  Recette,\n  MenuIngredient,\n  RecetteIngredient\n} from \"../../logic/types\";\nimport { New, EditMode, deepcopy } from \"../../logic/types2\";\nimport { Watch } from \"vue-property-decorator\";\nconst EditMenuProps = Vue.extend({\n  props: {\n    mode: String as () => EditMode,\n    initialMenu: Object as () => Menu\n  }\n});\n\n@Component({\n  components: { TooltipBtn, MenuOrRecetteIngredient }\n})\nexport default class EditMenu extends EditMenuProps {\n  // menu actuellement édité\n  menu: Menu = deepcopy(this.initialMenu);\n\n  showEditIngredient = false;\n  editedIngredient: MenuIngredient | null = null;\n\n  $refs!: {\n    editIngredient: MenuOrRecetteIngredient;\n  };\n  get title() {\n    if (this.mode == \"edit\") {\n      return \"Modifier le menu\";\n    }\n    return \"Ajouter un menu\";\n  }\n\n  // résoud les recettes à partir des ids\n  get recettes() {\n    return C.getMenuRecettes(this.menu);\n  }\n\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  getIngredient(ing: MenuIngredient) {\n    return C.data.ingredients[ing.id_ingredient];\n  }\n\n  removeRecette(toRemove: Recette) {\n    this.menu.recettes = (this.menu.recettes || []).filter(\n      rec => rec.id_recette != toRemove.id\n    );\n  }\n\n  editIngredient(ing: MenuIngredient) {\n    this.editedIngredient = ing;\n    this.showEditIngredient = true;\n  }\n\n  editIngredientDone(edited: MenuIngredient) {\n    const ings = this.menu.ingredients;\n    if (ings == null) return;\n    ings.forEach((ing, index) => {\n      if (ing.id_ingredient == edited.id_ingredient) {\n        this.$set(ings, index, edited);\n      }\n    });\n    this.showEditIngredient = false;\n  }\n\n  removeIngredient(toRemove: MenuIngredient) {\n    this.menu.ingredients = (this.menu.ingredients || []).filter(\n      ing => ing.id_ingredient != toRemove.id_ingredient\n    );\n  }\n\n  onDragoverRecettes(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isRecette = event.dataTransfer.types.includes(\"id-recette\");\n    if (isRecette) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropRecette(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idRecette = Number(event.dataTransfer.getData(\"id-recette\"));\n    const recettes = this.menu.recettes || [];\n    const hasRecette =\n      recettes.filter(r => r.id_recette == idRecette).length > 0;\n    if (hasRecette) return;\n    recettes.push({ id_menu: this.menu.id, id_recette: idRecette });\n    this.menu.recettes = recettes;\n  }\n\n  onDragoverIngredients(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isIngredient = event.dataTransfer.types.includes(\"id-ingredient\");\n    if (isIngredient) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropIngredient(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idIngredient = Number(event.dataTransfer.getData(\"id-ingredient\"));\n    const ingredients = this.menu.ingredients || [];\n    const matchingIngredients = ingredients.filter(\n      r => r.id_ingredient == idIngredient\n    );\n    let newIngredient: MenuIngredient;\n    if (matchingIngredients.length > 0) {\n      newIngredient = matchingIngredients[0];\n    } else {\n      newIngredient = {\n        id_menu: this.menu.id,\n        id_ingredient: idIngredient,\n        quantite: 0,\n        cuisson: \"\"\n      };\n      ingredients.push(newIngredient);\n      this.menu.ingredients = ingredients;\n    }\n    this.editedIngredient = newIngredient;\n    this.showEditIngredient = true;\n  }\n\n  @Watch(\"showEditIngredient\")\n  onEditIngredient(b: boolean) {\n    if (b) {\n      setTimeout(() => {\n        const ed = this.$refs.editIngredient;\n        if (ed) ed.focus();\n      }, 50);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=ts&\"","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./EditMenu.vue?vue&type=template&id=4e421860&scoped=true&\"\nimport script from \"./EditMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e421860\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VSubheader,VTextarea,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('menu-or-recette-ingredient',{ref:\"editIngredient\",attrs:{\"ingredient\":_vm.editedIngredient},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"check-outline\",\"tooltip\":\"Valider\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('done', _vm.recette)}}}),_c('tooltip-btn',{attrs:{\"mdi-icon\":\"undo\",\"tooltip\":\"Abandonner les modifications\"},on:{\"click\":function($event){return _vm.$emit('undo')}}})],1)],1),_c('v-row',{staticClass:\"px-2\"},[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Nom de la recette\",\"required\":\"\"},model:{value:(_vm.recette.nom),callback:function ($$v) {_vm.$set(_vm.recette, \"nom\", $$v)},expression:\"recette.nom\"}}),_c('v-textarea',{attrs:{\"label\":\"Mode d'emploi\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(_vm.recette.mode_emploi),callback:function ($$v) {_vm.$set(_vm.recette, \"mode_emploi\", $$v)},expression:\"recette.mode_emploi\"}})],1),_c('v-col',[_c('v-list',{staticClass:\"mt-0 pt-0 overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":\"60vh\"}},[_c('div',{on:{\"dragover\":_vm.onDragoverIngredients,\"drop\":_vm.onDropIngredient}},[_c('v-subheader',[_vm._v(\"Ingrédients\")]),((_vm.recette.ingredients || []).length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter un ingrédient...\")])])],1):_vm._e(),_vm._l((_vm.recette.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.id,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.getIngredient(ingredient).nom)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(ingredient.quantite)+\" \"),_c('i',[_vm._v(_vm._s(_vm.getIngredient(ingredient).unite))]),_vm._v(\" - Cuisson : \"+_vm._s(ingredient.cuisson)+\" \")])],1),_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier les détails...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cet ingrédient de la recette\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeIngredient(ingredient)}}})],1)],1)],1)]}}],null,true)})})],2)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport MenuOrRecetteIngredient from \"./MenuOrRecetteIngredient.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Recette, RecetteIngredient } from \"../../logic/types\";\nimport { New, EditMode, deepcopy } from \"../../logic/types2\";\nimport { Watch } from \"vue-property-decorator\";\nconst EditRecetteProps = Vue.extend({\n  props: {\n    mode: String as () => EditMode,\n    initialRecette: Object as () => Recette\n  }\n});\n\n@Component({\n  components: { TooltipBtn, MenuOrRecetteIngredient }\n})\nexport default class EditRecette extends EditRecetteProps {\n  // recette actuellement éditée\n  recette: Recette = deepcopy(this.initialRecette);\n\n  showEditIngredient = false;\n  editedIngredient: RecetteIngredient | null = null;\n\n  $refs!: {\n    editIngredient: MenuOrRecetteIngredient;\n  };\n  get title() {\n    if (this.mode == \"edit\") {\n      return \"Modifier la recette\";\n    }\n    return \"Ajouter une recette\";\n  }\n\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  getIngredient(ing: RecetteIngredient) {\n    return C.data.ingredients[ing.id_ingredient];\n  }\n\n  editIngredient(ing: RecetteIngredient) {\n    this.editedIngredient = ing;\n    this.showEditIngredient = true;\n  }\n\n  editIngredientDone(edited: RecetteIngredient) {\n    const ings = this.recette.ingredients;\n    if (ings == null) return;\n    ings.forEach((ing, index) => {\n      if (ing.id_ingredient == edited.id_ingredient) {\n        this.$set(ings, index, edited);\n      }\n    });\n    this.showEditIngredient = false;\n  }\n\n  removeIngredient(toRemove: RecetteIngredient) {\n    this.recette.ingredients = (this.recette.ingredients || []).filter(\n      ing => ing.id_ingredient != toRemove.id_ingredient\n    );\n  }\n\n  onDragoverIngredients(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isIngredient = event.dataTransfer.types.includes(\"id-ingredient\");\n    if (isIngredient) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropIngredient(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idIngredient = Number(event.dataTransfer.getData(\"id-ingredient\"));\n    const ingredients = this.recette.ingredients || [];\n    const matchingIngredients = ingredients.filter(\n      r => r.id_ingredient == idIngredient\n    );\n    let newIngredient: RecetteIngredient;\n    if (matchingIngredients.length > 0) {\n      newIngredient = matchingIngredients[0];\n    } else {\n      newIngredient = {\n        id_recette: this.recette.id,\n        id_ingredient: idIngredient,\n        quantite: 0,\n        cuisson: \"\"\n      };\n      ingredients.push(newIngredient);\n      this.recette.ingredients = ingredients;\n    }\n    this.editedIngredient = newIngredient;\n    this.showEditIngredient = true;\n  }\n\n  // permet de donner le focus automatiquement\n  @Watch(\"showEditIngredient\")\n  onEditIngredient(b: boolean) {\n    if (b) {\n      setTimeout(() => {\n        const ed = this.$refs.editIngredient;\n        if (ed) ed.focus();\n      }, 50);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRecette.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRecette.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditRecette.vue?vue&type=template&id=dce952b6&scoped=true&\"\nimport script from \"./EditRecette.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditRecette.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dce952b6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VSubheader,VTextField,VTextarea,VToolbar,VToolbarItems,VToolbarTitle})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\nimport Vue from \"vue\";\nimport ListeMenus from \"../components/menus/ListeMenus.vue\";\nimport ListeRecettes from \"../components/menus/ListeRecettes.vue\";\nimport ListeIngredients from \"../components/menus/ListeIngredients.vue\";\nimport EditMenu from \"../components/menus/EditMenu.vue\";\nimport EditRecette from \"../components/menus/EditRecette.vue\";\nimport { C } from \"../logic/controller\";\nimport { Menu, Recette, Ingredient } from \"../logic/types\";\nimport { IngredientOptions, EditMode, New, deepcopy } from \"../logic/types2\";\nimport {\n  StateMenus,\n  DefautRecette,\n  DefautMenu\n} from \"../components/menus/types\";\n\n@Component({\n  components: {\n    ListeMenus,\n    ListeRecettes,\n    ListeIngredients,\n    EditMenu,\n    EditRecette\n  }\n})\nexport default class Menus extends Vue {\n  state: StateMenus = {\n    mode: \"visu\",\n    selection: { menu: null, recette: null, ingredient: null }\n  };\n\n  editMode: EditMode = \"new\"; // s'applique au menu, recette ou ingrédient\n\n  async mounted() {\n    await C.data.loadAllMenus();\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\n        \"Les menus, recettes et ingrédients ont bien été chargés.\"\n      );\n    }\n  }\n\n  startEditMenu(menu: Menu) {\n    this.state.selection.menu = menu;\n    this.state.mode = \"editMenu\";\n    this.editMode = \"edit\";\n  }\n\n  startCreateMenu() {\n    if (C.idUtilisateur == null) return;\n    const newMenu: Menu = { ...deepcopy(DefautMenu), id: -1 };\n    newMenu.id_proprietaire.Int64 = C.idUtilisateur;\n    this.state.selection.menu = newMenu;\n    this.editMode = \"new\";\n    this.state.mode = \"editMenu\";\n  }\n\n  editMenuCancel() {\n    if (this.editMode == \"new\") {\n      // on remet le menu courant à zéro\n      this.state.selection.menu = null;\n    }\n    this.state.mode = \"visu\";\n  }\n\n  async editMenuDone(menu: Menu) {\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      await C.data.updateMenu(menu);\n      message = \"Le menu a bien été mis à jour.\";\n    } else {\n      await C.data.createMenu(menu);\n      message = \"Le menu a bien été ajouté.\";\n    }\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n    }\n    this.state.selection.menu = null;\n    this.state.mode = \"visu\";\n  }\n\n  startEditRecette(recette: Recette) {\n    this.state.selection.recette = recette;\n    this.editMode = \"edit\";\n    this.state.mode = \"editRecette\";\n  }\n\n  startCreateRecette() {\n    if (C.idUtilisateur == null) return;\n    const newRecette: Recette = { ...deepcopy(DefautRecette), id: -1 };\n    newRecette.id_proprietaire.Int64 = C.idUtilisateur;\n    this.state.selection.recette = newRecette;\n    this.editMode = \"new\";\n    this.state.mode = \"editRecette\";\n  }\n  editRecetteCancel() {\n    if (this.editMode == \"new\") {\n      // on remet la recette ourante à zéro\n      this.state.selection.recette = null;\n    }\n    this.state.mode = \"visu\";\n  }\n\n  async editRecetteDone(recette: Recette) {\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      await C.data.updateRecette(recette);\n      message = \"La recette a bien été mise à jour.\";\n    } else {\n      await C.data.createRecette(recette);\n      message = \"La recette a bien été ajoutée.\";\n    }\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n    }\n    this.state.selection.recette = null;\n    this.state.mode = \"visu\";\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Menus.vue?vue&type=template&id=2a488ef5&\"\nimport script from \"./Menus.vue?vue&type=script&lang=ts&\"\nexport * from \"./Menus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSlideXReverseTransition } from 'vuetify/lib/components/transitions';\ninstallComponents(component, {VCol,VContainer,VFadeTransition,VRow,VSlideXReverseTransition})\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{staticClass:\"my-1\",attrs:{\"dense\":\"\",\"color\":\"secondary\"}},[_c('v-toolbar-title',{staticClass:\"px-2\"},[_c('v-row',{staticClass:\"mt-1\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showSearch),expression:\"!showSearch\"}]},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('v-text-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearch),expression:\"showSearch\"}],ref:\"search\",staticClass:\"mt-3 mb-1\",attrs:{\"label\":\"Rechercher\",\"placeholder\":\"Tappez...\",\"value\":_vm.search,\"hide-details\":\"\",\"dense\":\"\"},on:{\"input\":function (s) { return _vm.$emit('change', s); },\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }_vm.showSearch = false}}})],1)],1)],1),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"magnify\",\"tooltip\":\"Rechercher...\"},on:{\"click\":function($event){_vm.showSearch = !_vm.showSearch}}}),(_vm.showAdd)?_c('tooltip-btn',{attrs:{\"mdi-icon\":\"plus-thick\",\"tooltip\":_vm.tooltipAdd,\"color\":\"green\"},on:{\"click\":function($event){return _vm.$emit('add')}}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Watch } from \"vue-property-decorator\";\n\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\n\nconst ToolbarProps = Vue.extend({\n  props: {\n    title: String,\n    tooltipAdd: String,\n    showAdd: Boolean,\n    search: String\n  },\n  model: {\n    prop: \"search\",\n    event: \"change\"\n  }\n});\n\n@Component({\n  components: { TooltipBtn }\n})\nexport default class Toolbar extends ToolbarProps {\n  showSearch = false;\n\n  $refs!: {\n    search: Vue;\n  };\n\n  // donne le focus au champ de recherche\n  @Watch(\"showSearch\")\n  onShowSearch(b: boolean) {\n    if (!b) {\n      this.$emit(\"change\", \"\"); // annule la recherche\n    }\n    setTimeout(() => {\n      const input = this.$refs.search.$el.querySelector(\"input\");\n      if (input != null) input.select();\n    }, 50);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=6d1b6a3c&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d1b6a3c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VRow,VSpacer,VTextField,VToolbar,VToolbarItems,VToolbarTitle})\n"],"sourceRoot":""}