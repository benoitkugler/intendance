(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["menus"],{"0171":function(e,t,n){"use strict";var i=n("dec1"),r=n.n(i);r.a},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1681:function(e,t,n){},"31d5":function(e,t,n){"use strict";e.exports=function(){function e(e,t,n,i,r){return e<t||n<t?e>n?n+1:e+1:i===r?t:t+1}return function(t,n){if(t===n)return 0;if(t.length>n.length){var i=t;t=n,n=i}var r=t.length,a=n.length;while(r>0&&t.charCodeAt(r-1)===n.charCodeAt(a-1))r--,a--;var o=0;while(o<r&&t.charCodeAt(o)===n.charCodeAt(o))o++;if(r-=o,a-=o,0===r||a<3)return a;var s,c,u,l,d,p,m,v,f,h,g,b,y=0,w=[];for(s=0;s<r;s++)w.push(s+1),w.push(t.charCodeAt(o+s));for(var k=w.length-1;y<a-3;)for(f=n.charCodeAt(o+(c=y)),h=n.charCodeAt(o+(u=y+1)),g=n.charCodeAt(o+(l=y+2)),b=n.charCodeAt(o+(d=y+3)),p=y+=4,s=0;s<k;s+=2)m=w[s],v=w[s+1],c=e(m,c,u,f,v),u=e(c,u,l,h,v),l=e(u,l,d,g,v),p=e(l,d,p,b,v),w[s]=p,d=l,l=u,u=c,c=m;for(;y<a;)for(f=n.charCodeAt(o+(c=y)),p=++y,s=0;s<k;s+=2)m=w[s],w[s]=p=e(m,c,p,f,w[s+1]),c=m;return p}}()},"37fd":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"pa-1",attrs:{fluid:""}},[n("v-row",{attrs:{wrap:""}},[n("v-fade-transition",{style:{maxWidth:"35%"},attrs:{group:"","hide-on-leave":""}},["visu"==e.state.mode?n("v-col",{key:"liste"},[n("liste-menus",{style:{height:"80vh"},attrs:{state:e.state},on:{change:function(t){return e.state.selection.menu=t},edit:e.startEditMenu,new:e.startCreateMenu}})],1):e._e(),"editMenu"==e.state.mode?n("v-col",{key:"edit"},[n("edit-menu",{attrs:{mode:e.editMode,initialMenu:e.state.selection.menu},on:{undo:function(t){e.state.mode="visu"},done:e.editMenuDone}})],1):e._e()],1),n("v-slide-x-reverse-transition",{attrs:{group:"","hide-on-leave":""}},["visu"==e.state.mode||"editMenu"==e.state.mode?n("v-col",{key:"liste"},[n("liste-recettes",{attrs:{height:"80vh",state:e.state},on:{change:function(t){return e.state.selection.recette=t},edit:e.startEditRecette,new:e.startCreateRecette}})],1):e._e(),"editRecette"==e.state.mode?n("v-col",{key:"edit"},[n("edit-recette",{attrs:{mode:e.editMode,initialRecette:e.state.selection.recette},on:{undo:function(t){e.state.mode="visu"},done:e.editRecetteDone}})],1):e._e()],1),n("transition",{attrs:{name:"slide-fade"}},[n("keep-alive",[n("v-col",[n("liste-ingredients",{attrs:{height:"80vh",state:e.state},on:{change:function(t){return e.state.selection.ingredient=t}}})],1)],1)],1)],1)],1)},r=[],a=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2"),c=n("99de"),u=n("7e84"),l=n("262e"),d=n("9ab4"),p=n("2fe1"),m=n("2b0e"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.confirmeSupprime,callback:function(t){e.confirmeSupprime=t},expression:"confirmeSupprime"}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":"",color:"warning"}},[e._v(" Confirmer la suppression ")]),n("v-card-text",[e._v(" Confirmez-vous la suppression de ce menu ? ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{tile:"",color:"warning"},on:{click:e.supprime}},[e._v("Supprimer")])],1)],1)],1),n("v-toolbar",{staticClass:"my-1",attrs:{color:"secondary"}},[n("v-toolbar-title",[e._v("Menus")]),n("v-spacer"),n("v-toolbar-items",["visu"==e.state.mode?n("tooltip-btn",{attrs:{"mdi-icon":"plus-thick",color:"green",tooltip:"Ajouter un menu..."},on:{click:function(t){return e.$emit("new")}}}):e._e()],1)],1),n("v-list",{staticClass:"overflow-y-auto",attrs:{dense:""}},[n("v-list-item-group",{attrs:{value:e.state.selection.menu},on:{change:function(t){return e.$emit("change",t)}}},e._l(e.menus,(function(t){return n("v-list-item",{key:t.id,attrs:{value:t},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.active;return[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.formatMenuName(t)))]),n("v-list-item-subtitle",[n("i",[e._v(" "+e._s(e.formatMenuProprietaire(t)))])])],1),e.showButtons(r,t)?n("v-list-item-action",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"pencil",tooltip:"Modifier ce menu",color:"secondary"},on:{click:function(n){return n.stopPropagation(),e.$emit("edit",t)}}})],1),n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Supprimer ce menu",color:"red"},on:{click:function(t){t.stopPropagation(),e.confirmeSupprime=!0}}})],1)],1)],1):e._e()]}}],null,!0)})})),1)],1)],1)},f=[],h=(n("07ac"),n("0f2e")),g=n("1c9b"),b=m["a"].extend({props:{state:Object}}),y=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.confirmeSupprime=!1,e.formatMenuName=h["a"].formatter.formatMenuName,e.formatMenuProprietaire=h["a"].formatter.formatMenuOrRecetteProprietaire,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"showButtons",value:function(e,t){return e&&(!t.id_proprietaire.Valid||t.id_proprietaire.Int64==h["a"].idUtilisateur)}},{key:"supprime",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.confirmeSupprime=!1,null!=this.state.selection.menu){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,h["a"].data.deleteMenu(this.state.selection.menu);case 5:null==h["a"].notifications.getError()&&h["a"].notifications.setMessage("Menu supprimé avec succès.");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"menus",get:function(){return Object.values(h["a"].data.menus)}}]),t}(b);y=Object(d["a"])([Object(p["b"])({components:{TooltipBtn:g["a"]}})],y);var w=y,k=w,_=n("2877"),I=n("6544"),O=n.n(I),x=n("8336"),V=n("b0af"),j=n("99d9"),S=n("62ad"),C=n("169a"),T=n("8860"),R=n("da13"),M=n("1800"),E=n("5d23"),$=n("1baa"),D=n("0fd9"),L=n("2fa4"),P=n("71d9"),A=n("2a7f"),N=Object(_["a"])(k,v,f,!1,null,null,null),q=N.exports;O()(N,{VBtn:x["a"],VCard:V["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:S["a"],VDialog:C["a"],VList:T["a"],VListItem:R["a"],VListItemAction:M["a"],VListItemContent:E["a"],VListItemGroup:$["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VRow:D["a"],VSpacer:L["a"],VToolbar:P["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.confirmeSupprime,callback:function(t){e.confirmeSupprime=t},expression:"confirmeSupprime"}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":"",color:"warning"}},[e._v(" Confirmer la suppression ")]),n("v-card-text",[e._v(" Confirmez-vous la suppression de cette recette ? "),n("br"),n("div",{staticClass:"my-3"},[n("small",[e._v(" Si vous souhaitez seulement l'enlever d'un menu, passez plutôt en "),n("b",[e._v("mode édition")]),e._v(". ")])])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{tile:"",color:"warning"},on:{click:e.supprime}},[e._v("Supprimer")])],1)],1)],1),n("v-toolbar",{staticClass:"my-1",attrs:{color:"secondary"}},[n("v-toolbar-title",[n("v-row",{staticClass:"mt-1",attrs:{"no-gutters":""}},[n("v-col",[e._v(" Recettes ")])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("small",[n("i",[e._v(e._s(e.bonusTitle))])])])],1)],1),n("v-spacer"),n("v-toolbar-items",[n("tooltip-btn",{attrs:{"mdi-icon":"magnify",tooltip:"Filtrer les recettes..."},on:{click:function(t){e.showSearch=!e.showSearch}}}),"visu"==e.state.mode&&null==e.state.selection.menu?n("tooltip-btn",{attrs:{"mdi-icon":"plus-thick",color:"green",tooltip:"Ajouter une recette..."},on:{click:function(t){return e.$emit("new")}}}):e._e()],1)],1),e.showSearch?n("v-text-field",{ref:"search",staticClass:"my-2",attrs:{outlined:"",label:"Rechercher",placeholder:"Tappez pour lancer la recherche","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),n("v-list",{staticClass:"overflow-y-auto",attrs:{dense:"","max-height":e.height}},[n("v-list-item-group",{attrs:{value:e.state.selection.recette},on:{change:function(t){return e.$emit("change",t)}}},e._l(e.recettes,(function(t){return n("v-list-item",{key:t.id,attrs:{value:t},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.active;return[n("v-list-item-content",{attrs:{draggable:"true"},on:{dragstart:function(n){return e.onDragStart(n,t)}}},[n("v-list-item-title",[n("v-list-item-title",[e._v(e._s(t.nom))])],1),n("v-list-item-subtitle",[n("i",[e._v(" "+e._s(e.formatRecetteProprietaire(t)))])])],1),e.showActions(r,t)?n("v-list-item-action",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"pencil",tooltip:"Modifier cette recette",color:"secondary"},on:{click:function(n){return n.stopPropagation(),e.$emit("edit",t)}}})],1),n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Supprimer cette recette",color:"red"},on:{click:function(t){t.stopPropagation(),e.confirmeSupprime=!0}}})],1)],1)],1):e._e()]}}],null,!0)})})),1)],1)],1)},J=[],B=(n("4de4"),n("caad"),n("4d63"),n("ac1f"),n("25f0"),n("2532"),n("841c"),n("60a3")),F=n("31d5"),U=n.n(F),H=m["a"].extend({props:{state:Object,height:String}}),G=5,Q=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.confirmeSupprime=!1,e.search="",e.showSearch=!1,e.formatRecetteProprietaire=h["a"].formatter.formatMenuOrRecetteProprietaire,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"searchRecettes",value:function(e){var t,n=this;if(!this.search||!this.showSearch)return e;try{var i=new RegExp(this.search,"i");t=function(e){return i.test(e)}}catch(a){var r=this.search.toLowerCase();t=function(e){return e.includes(r)}}return e.filter((function(e){var i=e.nom.toLowerCase();return!!t(i)||U()(i,n.search)<=G}))}},{key:"showActions",value:function(e,t){return null==this.state.selection.menu&&(e&&(!t.id_proprietaire.Valid||t.id_proprietaire.Int64==h["a"].idUtilisateur))}},{key:"supprime",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.confirmeSupprime=!1,null!=this.state.selection.recette){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,h["a"].data.deleteRecette(this.state.selection.recette);case 5:this.$emit("change",null),null==h["a"].notifications.getError()&&h["a"].notifications.setMessage("Recette supprimée avec succès.");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDragStart",value:function(e,t){e.dataTransfer&&(e.dataTransfer.setData("id-recette",String(t.id)),e.dataTransfer.effectAllowed="copy")}},{key:"onShowSearch",value:function(e){var t=this;e&&setTimeout((function(){var e=t.$refs.search.$el.querySelector("input");null!=e&&e.select()}),50)}},{key:"recettes",get:function(){var e;return e="editMenu"==this.state.mode?Object.values(h["a"].data.recettes):null!=this.state.selection.menu?h["a"].getMenuRecettes(this.state.selection.menu):Object.values(h["a"].data.recettes),this.searchRecettes(e)}},{key:"bonusTitle",get:function(){return"editMenu"==this.state.mode?"Toutes":null!=this.state.selection.menu?"Menu courant":""}}]),t}(H);Object(d["a"])([Object(B["a"])("showSearch")],Q.prototype,"onShowSearch",null),Q=Object(d["a"])([Object(p["b"])({components:{TooltipBtn:g["a"]}})],Q);var K=Q,W=K,X=n("8654"),Y=Object(_["a"])(W,z,J,!1,null,null,null),Z=Y.exports;O()(Y,{VBtn:x["a"],VCard:V["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:S["a"],VDialog:C["a"],VList:T["a"],VListItem:R["a"],VListItemAction:M["a"],VListItemContent:E["a"],VListItemGroup:$["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VRow:D["a"],VSpacer:L["a"],VTextField:X["a"],VToolbar:P["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.showEditIngredient,callback:function(t){e.showEditIngredient=t},expression:"showEditIngredient"}},[n("edit-ingredient",{attrs:{initialIngredient:e.state.selection.ingredient,mode:e.editMode},on:{edit:e.editIngredientDone}})],1),n("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.confirmeSupprime,callback:function(t){e.confirmeSupprime=t},expression:"confirmeSupprime"}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":"",color:"warning"}},[e._v(" Confirmer la suppression ")]),n("v-card-text",[e._v(" Vous avez demandé la suppression de cet ingrédient. "),n("br"),e._v(" Souhaitez-vous vérifiez qu'aucun produit n'y est associé ? Dans le cas contraire, les éventuelles associations ingrédient/produit seront supprimées. "),n("div",{staticClass:"my-3"},[n("small",[e._v(" Si vous souhaitez seulement enlever l'ingrédient d'un menu ou d'une recette, passez plutôt en "),n("b",[e._v("mode édition")]),e._v(". ")])])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{tile:"",color:"warning"},on:{click:function(t){return e.supprime(!1)}}},[e._v(" Supprimer l'ingrédient et les liens produits ")]),n("v-btn",{attrs:{tile:"",color:"warning"},on:{click:function(t){return e.supprime(!0)}}},[e._v(" Vérifier les liens avant de supprimer ")])],1)],1)],1),n("v-toolbar",{staticClass:"toolbar-ingredients my-1",attrs:{color:"secondary"}},[n("v-toolbar-title",{staticClass:"px-2"},[n("v-row",{staticClass:"mt-1",attrs:{"no-gutters":""}},[n("v-col",[e._v(" Ingrédients ")])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("small",[n("i",[e._v(e._s(e.bonusTitle))])])])],1)],1),n("v-spacer"),n("v-toolbar-items",[n("tooltip-btn",{attrs:{"mdi-icon":"magnify",tooltip:"Filtrer les ingrédients..."},on:{click:function(t){e.showSearch=!e.showSearch}}}),"visu"==e.state.mode&&null==e.state.selection.menu&&null==e.state.selection.recette?n("tooltip-btn",{attrs:{"mdi-icon":"plus-thick",tooltip:"Ajouter un ingrédient...",color:"green"},on:{click:e.startCreateIngredient}}):e._e()],1)],1),e.showSearch?n("v-text-field",{ref:"search",staticClass:"my-2",attrs:{outlined:"",label:"Rechercher",placeholder:"Tappez pour lancer la recherche","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),n("v-list",{staticClass:"overflow-y-auto",attrs:{dense:"","max-height":e.height}},[n("v-list-item-group",{attrs:{value:e.state.selection.ingredient},on:{change:function(t){return e.$emit("change",t)}}},e._l(e.ingredients,(function(t){return n("v-list-item",{key:t.ingredient.id,attrs:{value:t},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.active;return[n("v-list-item-content",{attrs:{draggable:"true"},on:{dragstart:function(n){return e.onDragStart(n,t.ingredient)}}},[n("v-list-item-title",[e._v(" "+e._s(t.ingredient.nom)+" ")]),n("v-list-item-subtitle",{domProps:{innerHTML:e._s(e.subtitle(t))}})],1),e.showActions(r)?n("v-list-item-action",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"pencil",tooltip:"Modifier cet ingrédient",color:"secondary"},on:{click:function(n){return n.stopPropagation(),e.startEditIngredient(t)}}})],1),n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Supprimer cet ingrédient",color:"red"},on:{click:function(t){t.stopPropagation(),e.confirmeSupprime=!0}}})],1)],1)],1):e._e()]}}],null,!0)})})),1)],1)],1)},te=[],ne=(n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("edit",e.current)}}},[n("v-card-title",{attrs:{"primary-title":""}},[e._v(" Détails de l'ingrédient ")]),n("v-card-text",[n("v-form",[n("v-row",[n("v-col",[n("v-text-field",{ref:"nom",attrs:{label:"Nom"},model:{value:e.current.nom,callback:function(t){e.$set(e.current,"nom",t)},expression:"current.nom"}})],1),n("v-col",[n("unite-field",{model:{value:e.current.unite,callback:function(t){e.$set(e.current,"unite",t)},expression:"current.unite"}})],1)],1),n("v-row",[n("v-col",[n("v-switch",{attrs:{label:"Conditionnement requis"},model:{value:e.conditionnement,callback:function(t){e.conditionnement=t},expression:"conditionnement"}})],1),n("v-col",[n("v-text-field",{attrs:{disabled:!e.conditionnement,label:"Conditionnement - Quanité",type:"number"},model:{value:e.current.conditionnement.quantite,callback:function(t){e.$set(e.current.conditionnement,"quantite",e._n(t))},expression:"current.conditionnement.quantite"}})],1),n("v-col",[n("unite-field",{attrs:{disabled:!e.conditionnement,label:"Conditionnement - Unité",unites:e.allowedUnitesConditionnement},model:{value:e.current.conditionnement.unite,callback:function(t){e.$set(e.current.conditionnement,"unite",t)},expression:"current.conditionnement.unite"}})],1)],1),n("v-row",[n("v-col",[n("v-select",{attrs:{items:[],label:"Catégorie"},model:{value:e.current.categorie,callback:function(t){e.$set(e.current,"categorie",t)},expression:"current.categorie"}})],1),n("v-col",[n("v-text-field",{attrs:{label:"Callories",required:""},model:{value:e.current.callories,callback:function(t){e.$set(e.current,"callories",t)},expression:"current.callories"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.$emit("edit",e.current)}}},[e._v(e._s(e.btnTitle))])],1)],1)}),ie=[],re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{attrs:{disabled:e.disabled,items:e.unites,value:e.unite,label:e.label},on:{change:function(t){return e.$emit("change",t)}}})},ae=[],oe=n("b038"),se=m["a"].extend({props:{unite:String,label:{type:String,default:"Unité"},disabled:{type:Boolean,default:!1},unites:{type:Array,default:function(){return oe["c"]}}},model:{prop:"unite",event:"change"}}),ce=function(e){function t(){return Object(o["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(se);ce=Object(d["a"])([Object(p["b"])({})],ce);var ue=ce,le=ue,de=n("b974"),pe=Object(_["a"])(le,re,ae,!1,null,"2819ecd1",null),me=pe.exports;O()(pe,{VSelect:de["a"]});var ve={nom:"",unite:"",categorie:"",conditionnement:{unite:"",quantite:0},callories:{}},fe={id_proprietaire:{Valid:!0,Int64:-1},ingredients:[],mode_emploi:"",nom:""},he={commentaire:"",id_proprietaire:{Valid:!0,Int64:-1},ingredients:[],recettes:[]},ge=m["a"].extend({props:{initialIngredient:Object,mode:String}}),be=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.current=e.copy(e.initialIngredient),e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"copy",value:function(e){var t=null==e?ve:e.ingredient;return JSON.parse(JSON.stringify(t))}},{key:"onPropChange",value:function(){this.current=this.copy(this.initialIngredient)}},{key:"focus",value:function(){var e=this.$refs.nom.$el.querySelector("input");null!=e&&e.select()}},{key:"btnTitle",get:function(){return"edit"==this.mode?"Valider":"Créer"}},{key:"conditionnement",get:function(){return""!=this.current.conditionnement.unite},set:function(e){e?this.current.conditionnement.unite=this.current.unite||this.initialIngredient&&this.initialIngredient.ingredient.unite||"L":this.current.conditionnement={unite:"",quantite:0}}},{key:"allowedUnitesConditionnement",get:function(){var e=this;return this.current.unite==oe["b"]?oe["c"].filter((function(e){return e.value!=oe["b"]})):oe["c"].filter((function(t){return t.value==e.current.unite}))}}]),t}(ge);Object(d["a"])([Object(B["a"])("initialIngredient")],be.prototype,"onPropChange",null),be=Object(d["a"])([Object(p["b"])({components:{UniteField:me}})],be);var ye=be,we=ye,ke=n("4bd4"),_e=n("b73d"),Ie=Object(_["a"])(we,ne,ie,!1,null,"793fd582",null),Oe=Ie.exports;O()(Ie,{VBtn:x["a"],VCard:V["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:S["a"],VForm:ke["a"],VRow:D["a"],VSelect:de["a"],VSpacer:L["a"],VSwitch:_e["a"],VTextField:X["a"]});var xe=m["a"].extend({props:{height:String,state:Object}}),Ve=4,je=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.confirmeSupprime=!1,e.showEditIngredient=!1,e.editMode="new",e.search="",e.showSearch=!1,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"subtitle",value:function(e){return e.options?"".concat(e.options.quantite," <i>").concat(e.ingredient.unite,"</i> - Cuisson : ").concat(e.options.cuisson||"-"):"<i>".concat(e.ingredient.unite,"</i>")}},{key:"searchIngredients",value:function(e){var t,n=this;if(!this.search||!this.showSearch)return e;try{var i=new RegExp(this.search,"i");t=function(e){return i.test(e)}}catch(a){var r=this.search.toLowerCase();t=function(e){return e.includes(r)}}return e.filter((function(e){if(n.search==e.ingredient.unite)return!0;var i=e.ingredient.nom.toLowerCase();return!!t(i)||U()(i,n.search)<=Ve}))}},{key:"showActions",value:function(e){return null==this.state.selection.menu&&null==this.state.selection.recette&&e}},{key:"supprime",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.confirmeSupprime=!1,null!=this.state.selection.ingredient){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,h["a"].data.deleteIngredient(this.state.selection.ingredient.ingredient,t);case 5:null==h["a"].notifications.getError()&&h["a"].notifications.setMessage("Ingrédient supprimé avec succès.");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onDragStart",value:function(e,t){e.dataTransfer&&(e.dataTransfer.setData("id-ingredient",String(t.id)),e.dataTransfer.effectAllowed="copy")}},{key:"onShowSearch",value:function(e){var t=this;e&&setTimeout((function(){var e=t.$refs.search.$el.querySelector("input");null!=e&&e.select()}),50)}},{key:"startEditIngredient",value:function(e){this.$emit("change",e),this.editMode="edit",this.showEditIngredient=!0}},{key:"editIngredientDone",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.showEditIngredient=!1,n="","edit"!=this.editMode){e.next=8;break}return e.next=5,h["a"].data.updateIngredient(t);case 5:n="L'ingrédient a été modifié avec succès.",e.next=11;break;case 8:return e.next=10,h["a"].data.createIngredient(t);case 10:n="L'ingrédient a été ajouté avec succès.";case 11:null==h["a"].notifications.getError()&&h["a"].notifications.setMessage(n),this.$emit("change",null);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startCreateIngredient",value:function(){this.$emit("change",{ingredient:ve}),this.editMode="new",this.showEditIngredient=!0}},{key:"bonusTitle",get:function(){return"editMenu"==this.state.mode?"Tous":null!=this.state.selection.recette?"Recette courante":null!=this.state.selection.menu?"Menu courant":""}},{key:"ingredients",get:function(){var e;return e="editMenu"==this.state.mode||"editRecette"==this.state.mode?h["a"].getAllIngredients():null!=this.state.selection.recette?h["a"].getRecetteIngredients(this.state.selection.recette):null!=this.state.selection.menu?h["a"].getMenuIngredients(this.state.selection.menu):h["a"].getAllIngredients(),this.searchIngredients(e)}}]),t}(xe);Object(d["a"])([Object(B["a"])("showSearch")],je.prototype,"onShowSearch",null),je=Object(d["a"])([Object(p["b"])({components:{TooltipBtn:g["a"],EditIngredient:Oe}})],je);var Se=je,Ce=Se,Te=(n("0171"),Object(_["a"])(Ce,ee,te,!1,null,null,null)),Re=Te.exports;O()(Te,{VBtn:x["a"],VCard:V["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:S["a"],VDialog:C["a"],VList:T["a"],VListItem:R["a"],VListItemAction:M["a"],VListItemContent:E["a"],VListItemGroup:$["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VRow:D["a"],VSpacer:L["a"],VTextField:X["a"],VToolbar:P["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showEditIngredient,callback:function(t){e.showEditIngredient=t},expression:"showEditIngredient"}},[n("menu-or-recette-ingredient",{ref:"editIngredient",attrs:{ingredient:e.editedIngredient},on:{edit:e.editIngredientDone}})],1),n("v-toolbar",{staticClass:"my-1",attrs:{color:"secondary",dense:""}},[n("v-toolbar-title",[e._v(e._s(e.title))]),n("v-spacer"),n("v-toolbar-items",[n("tooltip-btn",{attrs:{"mdi-icon":"check-outline",tooltip:"Valider",color:"success"},on:{click:function(t){return e.$emit("done",e.menu)}}}),n("tooltip-btn",{attrs:{"mdi-icon":"undo",tooltip:"Abandonner les modifications"},on:{click:function(t){return e.$emit("undo")}}})],1)],1),n("v-textarea",{staticClass:"pa-2 mt-4 my-3 mb-0",attrs:{label:"Commentaire","hide-details":"",rows:"2"},model:{value:e.menu.commentaire,callback:function(t){e.$set(e.menu,"commentaire",t)},expression:"menu.commentaire"}}),n("v-list",{staticClass:"mt-0 pt-0 overflow-y-auto",attrs:{dense:"","max-height":"60vh"}},[n("div",{on:{dragover:e.onDragoverRecettes,drop:e.onDropRecette}},[n("v-subheader",[e._v("Recettes du menu")]),0==e.recettes.length?n("v-list-item",[n("v-list-item-subtitle",[n("i",[e._v("Cliquer-déplacer pour ajouter une recette...")])])],1):e._e(),e._l(e.recettes,(function(t){return n("v-list-item",{key:t.id,scopedSlots:e._u([{key:"default",fn:function(i){i.active;return[n("v-list-item-content",[n("v-list-item-title",[n("v-list-item-title",[e._v(e._s(t.nom))])],1),n("v-list-item-subtitle",[n("i",[e._v(" "+e._s(e.formatRecetteProprietaire(t)))])])],1),n("v-list-item-action",[n("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Retirer cette recette du menu",color:"red"},on:{click:function(n){return n.stopPropagation(),e.removeRecette(t)}}})],1)]}}],null,!0)})}))],2),n("div",{on:{dragover:e.onDragoverIngredients,drop:e.onDropIngredient}},[n("v-subheader",[e._v("Ingrédients additionnels")]),0==(e.menu.ingredients||[]).length?n("v-list-item",[n("v-list-item-subtitle",[n("i",[e._v("Cliquer-déplacer pour ajouter un ingrédient...")])])],1):e._e(),e._l(e.menu.ingredients,(function(t){return n("v-list-item",{key:t.id,scopedSlots:e._u([{key:"default",fn:function(i){i.active;return[n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e.getIngredient(t).nom)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(t.quantite)+" "),n("i",[e._v(e._s(e.getIngredient(t).unite))]),e._v(" - Cuisson : "+e._s(t.cuisson)+" ")])],1),n("v-list-item-action",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"pencil",tooltip:"Modifier les détails...",color:"secondary"},on:{click:function(n){return n.stopPropagation(),e.editIngredient(t)}}})],1),n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Retirer cet ingrédient du menu",color:"red"},on:{click:function(n){return n.stopPropagation(),e.removeIngredient(t)}}})],1)],1)],1)]}}],null,!0)})}))],2)])],1)},Ee=[],$e=(n("a9e3"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("edit",e.current)}}},[n("v-card-title",{attrs:{"primary-title":""}},[e._v(" Détails de l'ingrédient ")]),n("v-card-text",[n("v-form",[n("v-row",[n("v-col",[n("v-text-field",{ref:"quantite",attrs:{label:"Quantité",hint:"Quantité désirée pour 1 personne.",type:"number"},model:{value:e.current.quantite,callback:function(t){e.$set(e.current,"quantite",e._n(t))},expression:"current.quantite"}})],1)],1),n("v-row",[n("v-col",[n("v-select",{attrs:{items:[],label:"Cuisson"},model:{value:e.current.cuisson,callback:function(t){e.$set(e.current,"cuisson",t)},expression:"current.cuisson"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.$emit("edit",e.current)}}},[e._v("Valider")])],1)],1)}),De=[],Le=m["a"].extend({props:{ingredient:Object}}),Pe=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.current=JSON.parse(JSON.stringify(e.ingredient)),e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"onPropChange",value:function(){this.current=JSON.parse(JSON.stringify(this.ingredient))}},{key:"focus",value:function(){var e=this.$refs.quantite.$el.querySelector("input");null!=e&&e.select()}}]),t}(Le);Object(d["a"])([Object(B["a"])("ingredient")],Pe.prototype,"onPropChange",null),Pe=Object(d["a"])([Object(p["b"])({})],Pe);var Ae=Pe,Ne=Ae,qe=Object(_["a"])(Ne,$e,De,!1,null,"1da51a79",null),ze=qe.exports;O()(qe,{VBtn:x["a"],VCard:V["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:S["a"],VForm:ke["a"],VRow:D["a"],VSelect:de["a"],VSpacer:L["a"],VTextField:X["a"]});var Je=m["a"].extend({props:{mode:String,initialMenu:Object}}),Be=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.menu=JSON.parse(JSON.stringify(e.initialMenu)),e.showEditIngredient=!1,e.editedIngredient=null,e.formatRecetteProprietaire=h["a"].formatter.formatMenuOrRecetteProprietaire,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"getIngredient",value:function(e){return h["a"].data.ingredients[e.id_ingredient]}},{key:"removeRecette",value:function(e){this.menu.recettes=(this.menu.recettes||[]).filter((function(t){return t.id_recette!=e.id}))}},{key:"editIngredient",value:function(e){this.editedIngredient=e,this.showEditIngredient=!0}},{key:"editIngredientDone",value:function(e){var t=this,n=this.menu.ingredients;null!=n&&(n.forEach((function(i,r){i.id_ingredient==e.id_ingredient&&t.$set(n,r,e)})),this.showEditIngredient=!1)}},{key:"removeIngredient",value:function(e){this.menu.ingredients=(this.menu.ingredients||[]).filter((function(t){return t.id_ingredient!=e.id_ingredient}))}},{key:"onDragoverRecettes",value:function(e){if(e.dataTransfer){var t=e.dataTransfer.types.includes("id-recette");t&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")}}},{key:"onDropRecette",value:function(e){if(e.dataTransfer){e.preventDefault();var t=Number(e.dataTransfer.getData("id-recette")),n=this.menu.recettes||[],i=n.filter((function(e){return e.id_recette==t})).length>0;i||(n.push({id_menu:this.menu.id,id_recette:t}),this.menu.recettes=n)}}},{key:"onDragoverIngredients",value:function(e){if(e.dataTransfer){var t=e.dataTransfer.types.includes("id-ingredient");t&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")}}},{key:"onDropIngredient",value:function(e){if(e.dataTransfer){e.preventDefault();var t,n=Number(e.dataTransfer.getData("id-ingredient")),i=this.menu.ingredients||[],r=i.filter((function(e){return e.id_ingredient==n}));r.length>0?t=r[0]:(t={id_menu:this.menu.id,id_ingredient:n,quantite:0,cuisson:""},i.push(t),this.menu.ingredients=i),this.editedIngredient=t,this.showEditIngredient=!0}}},{key:"onEditIngredient",value:function(e){var t=this;e&&setTimeout((function(){var e=t.$refs.editIngredient;e&&e.focus()}),50)}},{key:"title",get:function(){return"edit"==this.mode?"Modifier le menu":"Ajouter un menu"}},{key:"recettes",get:function(){return h["a"].getMenuRecettes(this.menu)}}]),t}(Je);Object(d["a"])([Object(B["a"])("showEditIngredient")],Be.prototype,"onEditIngredient",null),Be=Object(d["a"])([Object(p["b"])({components:{TooltipBtn:g["a"],MenuOrRecetteIngredient:ze}})],Be);var Fe=Be,Ue=Fe,He=n("e0c7"),Ge=(n("a4d3"),n("e439"),n("dbb4"),n("b64b"),n("acd8"),n("e25e"),n("ade3")),Qe=(n("1681"),n("58df"));function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Object(Ge["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=Object(Qe["a"])(X["a"]),Ye=Xe.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return We({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},X["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(n,t)+"px"}},genInput:function(){var e=X["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){X["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}}),Ze=Object(_["a"])(Ue,Me,Ee,!1,null,"0a4443a1",null),et=Ze.exports;O()(Ze,{VCol:S["a"],VDialog:C["a"],VList:T["a"],VListItem:R["a"],VListItemAction:M["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VRow:D["a"],VSpacer:L["a"],VSubheader:He["a"],VTextarea:Ye,VToolbar:P["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showEditIngredient,callback:function(t){e.showEditIngredient=t},expression:"showEditIngredient"}},[n("menu-or-recette-ingredient",{ref:"editIngredient",attrs:{ingredient:e.editedIngredient},on:{edit:e.editIngredientDone}})],1),n("v-toolbar",{staticClass:"my-1",attrs:{color:"secondary",dense:""}},[n("v-toolbar-title",[e._v(e._s(e.title))]),n("v-spacer"),n("v-toolbar-items",[n("tooltip-btn",{attrs:{"mdi-icon":"check-outline",tooltip:"Valider",color:"success"},on:{click:function(t){return e.$emit("done",e.recette)}}}),n("tooltip-btn",{attrs:{"mdi-icon":"undo",tooltip:"Abandonner les modifications"},on:{click:function(t){return e.$emit("undo")}}})],1)],1),n("v-row",{staticClass:"px-2"},[n("v-col",[n("v-text-field",{attrs:{label:"Nom de la recette",required:""},model:{value:e.recette.nom,callback:function(t){e.$set(e.recette,"nom",t)},expression:"recette.nom"}}),n("v-textarea",{attrs:{label:"Mode d'emploi","hide-details":"",rows:"2"},model:{value:e.recette.mode_emploi,callback:function(t){e.$set(e.recette,"mode_emploi",t)},expression:"recette.mode_emploi"}})],1),n("v-col",[n("v-list",{staticClass:"mt-0 pt-0 overflow-y-auto",attrs:{dense:"","max-height":"60vh"}},[n("div",{on:{dragover:e.onDragoverIngredients,drop:e.onDropIngredient}},[n("v-subheader",[e._v("Ingrédients")]),0==(e.recette.ingredients||[]).length?n("v-list-item",[n("v-list-item-subtitle",[n("i",[e._v("Cliquer-déplacer pour ajouter un ingrédient...")])])],1):e._e(),e._l(e.recette.ingredients,(function(t){return n("v-list-item",{key:t.id,scopedSlots:e._u([{key:"default",fn:function(i){i.active;return[n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e.getIngredient(t).nom)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(t.quantite)+" "),n("i",[e._v(e._s(e.getIngredient(t).unite))]),e._v(" - Cuisson : "+e._s(t.cuisson)+" ")])],1),n("v-list-item-action",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"pencil",tooltip:"Modifier les détails...",color:"secondary"},on:{click:function(n){return n.stopPropagation(),e.editIngredient(t)}}})],1),n("v-col",[n("tooltip-btn",{attrs:{"mdi-icon":"close",tooltip:"Retirer cet ingrédient de la recette",color:"red"},on:{click:function(n){return n.stopPropagation(),e.removeIngredient(t)}}})],1)],1)],1)]}}],null,!0)})}))],2)])],1)],1)],1)},nt=[],it=m["a"].extend({props:{mode:String,initialRecette:Object}}),rt=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.recette=JSON.parse(JSON.stringify(e.initialRecette)),e.showEditIngredient=!1,e.editedIngredient=null,e.formatRecetteProprietaire=h["a"].formatter.formatMenuOrRecetteProprietaire,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"getIngredient",value:function(e){return h["a"].data.ingredients[e.id_ingredient]}},{key:"editIngredient",value:function(e){this.editedIngredient=e,this.showEditIngredient=!0}},{key:"editIngredientDone",value:function(e){var t=this,n=this.recette.ingredients;null!=n&&(n.forEach((function(i,r){i.id_ingredient==e.id_ingredient&&t.$set(n,r,e)})),this.showEditIngredient=!1)}},{key:"removeIngredient",value:function(e){this.recette.ingredients=(this.recette.ingredients||[]).filter((function(t){return t.id_ingredient!=e.id_ingredient}))}},{key:"onDragoverIngredients",value:function(e){if(e.dataTransfer){var t=e.dataTransfer.types.includes("id-ingredient");t&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")}}},{key:"onDropIngredient",value:function(e){if(e.dataTransfer){e.preventDefault();var t,n=Number(e.dataTransfer.getData("id-ingredient")),i=this.recette.ingredients||[],r=i.filter((function(e){return e.id_ingredient==n}));r.length>0?t=r[0]:(t={id_recette:this.recette.id,id_ingredient:n,quantite:0,cuisson:""},i.push(t),this.recette.ingredients=i),this.editedIngredient=t,this.showEditIngredient=!0}}},{key:"onEditIngredient",value:function(e){var t=this;e&&setTimeout((function(){var e=t.$refs.editIngredient;e&&e.focus()}),50)}},{key:"title",get:function(){return"edit"==this.mode?"Modifier la recette":"Ajouter une recette"}}]),t}(it);Object(d["a"])([Object(B["a"])("showEditIngredient")],rt.prototype,"onEditIngredient",null),rt=Object(d["a"])([Object(p["b"])({components:{TooltipBtn:g["a"],MenuOrRecetteIngredient:ze}})],rt);var at=rt,ot=at,st=Object(_["a"])(ot,tt,nt,!1,null,"060990e0",null),ct=st.exports;O()(st,{VCol:S["a"],VDialog:C["a"],VList:T["a"],VListItem:R["a"],VListItemAction:M["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VRow:D["a"],VSpacer:L["a"],VSubheader:He["a"],VTextField:X["a"],VTextarea:Ye,VToolbar:P["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var ut=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.state={mode:"visu",selection:{menu:null,recette:null,ingredient:null}},e.editMode="new",e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].data.loadAllMenus();case 2:null==h["a"].notifications.getError()&&h["a"].notifications.setMessage("Les menus, recettes et ingrédients ont bien été chargés.");case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startEditMenu",value:function(e){this.state.selection.menu=e,this.state.mode="editMenu",this.editMode="edit"}},{key:"startCreateMenu",value:function(){if(null!=h["a"].idUtilisateur){var e=JSON.parse(JSON.stringify(he));e.id_proprietaire.Int64=h["a"].idUtilisateur,this.state.selection.menu=e,this.editMode="new",this.state.mode="editMenu"}}},{key:"editMenuDone",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="","edit"!=this.editMode){e.next=7;break}return e.next=4,h["a"].data.updateMenu(t);case 4:n="Le menu a bien été mis à jour.",e.next=10;break;case 7:return e.next=9,h["a"].data.createMenu(t);case 9:n="Le menu a bien été ajouté.";case 10:null==h["a"].notifications.getError()&&h["a"].notifications.setMessage(n),this.state.selection.menu=null,this.state.mode="visu";case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startEditRecette",value:function(e){this.state.selection.recette=e,this.editMode="edit",this.state.mode="editRecette"}},{key:"startCreateRecette",value:function(){if(null!=h["a"].idUtilisateur){var e=JSON.parse(JSON.stringify(fe));e.id_proprietaire.Int64=h["a"].idUtilisateur,this.state.selection.recette=e,this.editMode="new",this.state.mode="editRecette"}}},{key:"editRecetteDone",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="","edit"!=this.editMode){e.next=7;break}return e.next=4,h["a"].data.updateRecette(t);case 4:n="La recette a bien été mise à jour.",e.next=10;break;case 7:return e.next=9,h["a"].data.createRecette(t);case 9:n="La recette a bien été ajoutée.";case 10:null==h["a"].notifications.getError()&&h["a"].notifications.setMessage(n),this.state.selection.recette=null,this.state.mode="visu";case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),t}(m["a"]);ut=Object(d["a"])([Object(p["b"])({components:{ListeMenus:q,ListeRecettes:Z,ListeIngredients:Re,EditMenu:et,EditRecette:ct}})],ut);var lt=ut,dt=lt,pt=n("a523"),mt=n("0789"),vt=Object(_["a"])(dt,i,r,!1,null,null,null);t["default"]=vt.exports;O()(vt,{VCol:S["a"],VContainer:pt["a"],VFadeTransition:mt["d"],VRow:D["a"],VSlideXReverseTransition:mt["e"]})},"4d63":function(e,t,n){var i=n("83ab"),r=n("da84"),a=n("94ca"),o=n("7156"),s=n("9bf2").f,c=n("241c").f,u=n("44e7"),l=n("ad6d"),d=n("9f7f"),p=n("6eeb"),m=n("d039"),v=n("69f3").set,f=n("2626"),h=n("b622"),g=h("match"),b=r.RegExp,y=b.prototype,w=/a/g,k=/a/g,_=new b(w)!==w,I=d.UNSUPPORTED_Y,O=i&&a("RegExp",!_||I||m((function(){return k[g]=!1,b(w)!=w||b(k)==k||"/a/i"!=b(w,"i")})));if(O){var x=function(e,t){var n,i=this instanceof x,r=u(e),a=void 0===t;if(!i&&r&&e.constructor===x&&a)return e;_?r&&!a&&(e=e.source):e instanceof x&&(a&&(t=l.call(e)),e=e.source),I&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var s=o(_?new b(e,t):b(e,t),i?this:y,x);return I&&n&&v(s,{sticky:n}),s},V=function(e){e in x||s(x,e,{configurable:!0,get:function(){return b[e]},set:function(t){b[e]=t}})},j=c(b),S=0;while(j.length>S)V(j[S++]);y.constructor=x,x.prototype=y,p(r,"RegExp",x)}f("RegExp")},"841c":function(e,t,n){"use strict";var i=n("d784"),r=n("825a"),a=n("1d80"),o=n("129f"),s=n("14c3");i("search",1,(function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var a=r(e),c=String(this),u=a.lastIndex;o(u,0)||(a.lastIndex=0);var l=s(a,c);return o(a.lastIndex,u)||(a.lastIndex=u),null===l?-1:l.index}]}))},dec1:function(e,t,n){}}]);
//# sourceMappingURL=menus.10966444.js.map