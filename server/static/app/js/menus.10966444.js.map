{"version":3,"sources":["webpack:///./src/components/menus/ListeIngredients.vue?254f","webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/js-levenshtein/index.js","webpack:///./src/views/Menus.vue?5d00","webpack:///./src/components/menus/ListeMenus.vue?1a7d","webpack:///./src/components/menus/ListeMenus.vue","webpack:///./src/components/menus/ListeMenus.vue?8efa","webpack:///./src/components/menus/ListeMenus.vue?2d3a","webpack:///./src/components/menus/ListeRecettes.vue?fec3","webpack:///./src/components/menus/ListeRecettes.vue","webpack:///./src/components/menus/ListeRecettes.vue?8ecb","webpack:///./src/components/menus/ListeRecettes.vue?73fd","webpack:///./src/components/menus/ListeIngredients.vue?5eb4","webpack:///./src/components/menus/EditIngredient.vue?0ddb","webpack:///./src/components/utils/UniteField.vue?42fc","webpack:///./src/components/utils/UniteField.vue","webpack:///./src/components/utils/UniteField.vue?eb56","webpack:///./src/components/utils/UniteField.vue?566c","webpack:///./src/components/menus/types.ts","webpack:///./src/components/menus/EditIngredient.vue","webpack:///./src/components/menus/EditIngredient.vue?1c04","webpack:///./src/components/menus/EditIngredient.vue?f8ff","webpack:///./src/components/menus/ListeIngredients.vue?4718","webpack:///./src/components/menus/ListeIngredients.vue?7b46","webpack:///./src/components/menus/ListeIngredients.vue?721b","webpack:///./src/components/menus/EditMenu.vue?bc01","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?f252","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?700a","webpack:///./src/components/menus/MenuOrRecetteIngredient.vue?9bab","webpack:///./src/components/menus/EditMenu.vue","webpack:///./src/components/menus/EditMenu.vue?b194","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/components/menus/EditMenu.vue?855c","webpack:///./src/components/menus/EditRecette.vue?7fbe","webpack:///./src/components/menus/EditRecette.vue","webpack:///./src/components/menus/EditRecette.vue?d5cc","webpack:///./src/components/menus/EditRecette.vue?0e38","webpack:///./src/views/Menus.vue","webpack:///./src/views/Menus.vue?e40c","webpack:///./src/views/Menus.vue?5f84","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./node_modules/core-js/modules/es.string.search.js"],"names":["module","exports","Object","is","x","y","_min","d0","d1","d2","bx","ay","a","b","length","tmp","la","lb","charCodeAt","offset","d3","dd","dy","bx0","bx1","bx2","bx3","vector","push","len","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","style","maxWidth","state","mode","key","height","on","menu","selection","startEditMenu","startCreateMenu","_e","editMode","$event","editMenuDone","rec","recette","startEditRecette","startCreateRecette","editRecetteDone","ing","ingredient","staticRenderFns","model","value","callback","$$v","confirmeSupprime","expression","_v","supprime","$emit","args","_l","id","scopedSlots","_u","fn","ref","active","_s","formatMenuName","formatMenuProprietaire","showButtons","stopPropagation","Props","extend","props","formatter","formatMenuOrRecetteProprietaire","id_proprietaire","Valid","Int64","idUtilisateur","data","deleteMenu","notifications","getError","setMessage","values","menus","components","TooltipBtn","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDialog","VList","VListItem","VListItemAction","VListItemContent","VListItemGroup","VListItemSubtitle","VListItemTitle","VRow","VSpacer","VToolbar","VToolbarItems","VToolbarTitle","bonusTitle","showSearch","search","ev","onDragStart","nom","formatRecetteProprietaire","showActions","String","MAX_DIST_LEVENSHTEIN","recettes","filterNom","s","RegExp","test","sl","toLowerCase","includes","filter","deleteRecette","event","dataTransfer","setData","effectAllowed","setTimeout","input","$refs","$el","querySelector","select","baseRecettes","getMenuRecettes","searchRecettes","VTextField","showEditIngredient","editIngredientDone","startCreateIngredient","domProps","subtitle","startEditIngredient","nativeOn","type","indexOf","_k","keyCode","current","$set","conditionnement","_n","allowedUnitesConditionnement","btnTitle","disabled","unites","unite","label","UniteFieldProps","default","Boolean","Array","prop","VSelect","DefautIngredient","categorie","quantite","callories","DefautRecette","ingredients","mode_emploi","DefautMenu","commentaire","EditIngredientProps","initialIngredient","copy","initial","JSON","parse","stringify","u","UniteField","VForm","VSwitch","options","cuisson","checkProduits","deleteIngredient","message","updateIngredient","createIngredient","baseIngredients","getAllIngredients","getRecetteIngredients","getMenuIngredients","searchIngredients","EditIngredient","editedIngredient","title","onDragoverRecettes","onDropRecette","removeRecette","onDragoverIngredients","onDropIngredient","getIngredient","editIngredient","removeIngredient","MenuOrRecetteIngredientProps","EditMenuProps","initialMenu","id_ingredient","toRemove","id_recette","edited","ings","forEach","index","isRecette","types","preventDefault","dropEffect","idRecette","Number","getData","hasRecette","r","id_menu","isIngredient","newIngredient","idIngredient","matchingIngredients","ed","focus","MenuOrRecetteIngredient","baseMixins","mixins","name","autoGrow","noResize","rowHeight","validator","v","isNaN","parseFloat","rows","parseInt","computed","classes","noResizeHandle","watch","lazyValue","$nextTick","mounted","methods","calculateInputHeight","minHeight","Math","genInput","onInput","onKeyDown","isFocused","e","VSubheader","VTextarea","EditRecetteProps","initialRecette","loadAllMenus","newMenu","updateMenu","createMenu","newRecette","updateRecette","createRecette","ListeMenus","ListeRecettes","ListeIngredients","EditMenu","EditRecette","VContainer","VFadeTransition","VSlideXReverseTransition","DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","f","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","setInternalState","set","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","RegExpPrototype","prototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","flags","sticky","thisIsRegExp","patternIsRegExp","flagsAreUndefined","undefined","constructor","source","call","replace","result","proxy","configurable","get","it","keys","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","res","done","rx","S","previousLastIndex","lastIndex"],"mappings":"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","file":"js/menus.10966444.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=style&index=0&lang=css&\"","// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\nmodule.exports = (function()\n{\n  function _min(d0, d1, d2, bx, ay)\n  {\n    return d0 < d1 || d2 < d1\n        ? d0 > d2\n            ? d2 + 1\n            : d0 + 1\n        : bx === ay\n            ? d1\n            : d1 + 1;\n  }\n\n  return function(a, b)\n  {\n    if (a === b) {\n      return 0;\n    }\n\n    if (a.length > b.length) {\n      var tmp = a;\n      a = b;\n      b = tmp;\n    }\n\n    var la = a.length;\n    var lb = b.length;\n\n    while (la > 0 && (a.charCodeAt(la - 1) === b.charCodeAt(lb - 1))) {\n      la--;\n      lb--;\n    }\n\n    var offset = 0;\n\n    while (offset < la && (a.charCodeAt(offset) === b.charCodeAt(offset))) {\n      offset++;\n    }\n\n    la -= offset;\n    lb -= offset;\n\n    if (la === 0 || lb < 3) {\n      return lb;\n    }\n\n    var x = 0;\n    var y;\n    var d0;\n    var d1;\n    var d2;\n    var d3;\n    var dd;\n    var dy;\n    var ay;\n    var bx0;\n    var bx1;\n    var bx2;\n    var bx3;\n\n    var vector = [];\n\n    for (y = 0; y < la; y++) {\n      vector.push(y + 1);\n      vector.push(a.charCodeAt(offset + y));\n    }\n\n    var len = vector.length - 1;\n\n    for (; x < lb - 3;) {\n      bx0 = b.charCodeAt(offset + (d0 = x));\n      bx1 = b.charCodeAt(offset + (d1 = x + 1));\n      bx2 = b.charCodeAt(offset + (d2 = x + 2));\n      bx3 = b.charCodeAt(offset + (d3 = x + 3));\n      dd = (x += 4);\n      for (y = 0; y < len; y += 2) {\n        dy = vector[y];\n        ay = vector[y + 1];\n        d0 = _min(dy, d0, d1, bx0, ay);\n        d1 = _min(d0, d1, d2, bx1, ay);\n        d2 = _min(d1, d2, d3, bx2, ay);\n        dd = _min(d2, d3, dd, bx3, ay);\n        vector[y] = dd;\n        d3 = d2;\n        d2 = d1;\n        d1 = d0;\n        d0 = dy;\n      }\n    }\n\n    for (; x < lb;) {\n      bx0 = b.charCodeAt(offset + (d0 = x));\n      dd = ++x;\n      for (y = 0; y < len; y += 2) {\n        dy = vector[y];\n        vector[y] = dd = _min(dy, d0, dd, bx0, vector[y + 1]);\n        d0 = dy;\n      }\n    }\n\n    return dd;\n  };\n})();\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"pa-1\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"wrap\":\"\"}},[_c('v-fade-transition',{style:({ maxWidth: '35%' }),attrs:{\"group\":\"\",\"hide-on-leave\":\"\"}},[(_vm.state.mode == 'visu')?_c('v-col',{key:\"liste\"},[_c('liste-menus',{style:({ height: '80vh' }),attrs:{\"state\":_vm.state},on:{\"change\":function (menu) { return (_vm.state.selection.menu = menu); },\"edit\":_vm.startEditMenu,\"new\":_vm.startCreateMenu}})],1):_vm._e(),(_vm.state.mode == 'editMenu')?_c('v-col',{key:\"edit\"},[_c('edit-menu',{attrs:{\"mode\":_vm.editMode,\"initialMenu\":_vm.state.selection.menu},on:{\"undo\":function($event){_vm.state.mode = 'visu'},\"done\":_vm.editMenuDone}})],1):_vm._e()],1),_c('v-slide-x-reverse-transition',{attrs:{\"group\":\"\",\"hide-on-leave\":\"\"}},[(_vm.state.mode == 'visu' || _vm.state.mode == 'editMenu')?_c('v-col',{key:\"liste\"},[_c('liste-recettes',{attrs:{\"height\":\"80vh\",\"state\":_vm.state},on:{\"change\":function (rec) { return (_vm.state.selection.recette = rec); },\"edit\":_vm.startEditRecette,\"new\":_vm.startCreateRecette}})],1):_vm._e(),(_vm.state.mode == 'editRecette')?_c('v-col',{key:\"edit\"},[_c('edit-recette',{attrs:{\"mode\":_vm.editMode,\"initialRecette\":_vm.state.selection.recette},on:{\"undo\":function($event){_vm.state.mode = 'visu'},\"done\":_vm.editRecetteDone}})],1):_vm._e()],1),_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('keep-alive',[_c('v-col',[_c('liste-ingredients',{attrs:{\"height\":\"80vh\",\"state\":_vm.state},on:{\"change\":function (ing) { return (_vm.state.selection.ingredient = ing); }}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression de ce menu ? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprime}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\"}},[_c('v-toolbar-title',[_vm._v(\"Menus\")]),_c('v-spacer'),_c('v-toolbar-items',[(_vm.state.mode == 'visu')?_c('tooltip-btn',{attrs:{\"mdi-icon\":\"plus-thick\",\"color\":\"green\",\"tooltip\":\"Ajouter un menu...\"},on:{\"click\":function($event){return _vm.$emit('new')}}}):_vm._e()],1)],1),_c('v-list',{staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\"}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.menu},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.menus),function(menu){return _c('v-list-item',{key:menu.id,attrs:{\"value\":menu},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.formatMenuName(menu)))]),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatMenuProprietaire(menu)))])])],1),(_vm.showButtons(active, menu))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier ce menu\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit', menu)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer ce menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { C } from \"../../logic/controller\";\nimport { Menu } from \"../../logic/types\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport { StateMenus } from \"./types\";\n\nconst Props = Vue.extend({\n  props: {\n    state: Object as () => StateMenus\n  }\n});\n\n@Component({\n  components: { TooltipBtn }\n})\nexport default class ListeMenus extends Props {\n  confirmeSupprime = false;\n  formatMenuName = C.formatter.formatMenuName;\n  formatMenuProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  get menus() {\n    return Object.values(C.data.menus);\n  }\n\n  showButtons(active: boolean, menu: Menu) {\n    return (\n      active &&\n      (!menu.id_proprietaire.Valid ||\n        menu.id_proprietaire.Int64 == C.idUtilisateur)\n    );\n  }\n\n  async supprime() {\n    this.confirmeSupprime = false;\n    if (this.state.selection.menu == null) return;\n    await C.data.deleteMenu(this.state.selection.menu);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Menu supprimé avec succès.\");\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeMenus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeMenus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeMenus.vue?vue&type=template&id=beeb5dd4&\"\nimport script from \"./ListeMenus.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeMenus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression de cette recette ? \"),_c('br'),_c('div',{staticClass:\"my-3\"},[_c('small',[_vm._v(\" Si vous souhaitez seulement l'enlever d'un menu, passez plutôt en \"),_c('b',[_vm._v(\"mode édition\")]),_vm._v(\". \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprime}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\"}},[_c('v-toolbar-title',[_c('v-row',{staticClass:\"mt-1\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_vm._v(\" Recettes \")])],1),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('small',[_c('i',[_vm._v(_vm._s(_vm.bonusTitle))])])])],1)],1),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"magnify\",\"tooltip\":\"Filtrer les recettes...\"},on:{\"click\":function($event){_vm.showSearch = !_vm.showSearch}}}),(_vm.state.mode == 'visu' && _vm.state.selection.menu == null)?_c('tooltip-btn',{attrs:{\"mdi-icon\":\"plus-thick\",\"color\":\"green\",\"tooltip\":\"Ajouter une recette...\"},on:{\"click\":function($event){return _vm.$emit('new')}}}):_vm._e()],1)],1),(_vm.showSearch)?_c('v-text-field',{ref:\"search\",staticClass:\"my-2\",attrs:{\"outlined\":\"\",\"label\":\"Rechercher\",\"placeholder\":\"Tappez pour lancer la recherche\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}):_vm._e(),_c('v-list',{staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.recette},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.recettes),function(recette){return _c('v-list-item',{key:recette.id,attrs:{\"value\":recette},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function (ev) { return _vm.onDragStart(ev, recette); }}},[_c('v-list-item-title',[_c('v-list-item-title',[_vm._v(_vm._s(recette.nom))])],1),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatRecetteProprietaire(recette)))])])],1),(_vm.showActions(active, recette))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier cette recette\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit', recette)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer cette recette\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Recette } from \"../../logic/types\";\nimport { StateMenus } from \"./types\";\nimport levenshtein from \"js-levenshtein\";\n\nconst Props = Vue.extend({\n  props: {\n    state: Object as () => StateMenus,\n    height: String\n  }\n});\n\nconst MAX_DIST_LEVENSHTEIN = 5;\n\n@Component({\n  components: { TooltipBtn }\n})\nexport default class ListeRecettes extends Props {\n  confirmeSupprime = false;\n\n  search = \"\";\n  showSearch = false;\n\n  $refs!: {\n    search: Vue;\n  };\n\n  private searchRecettes(recettes: Recette[]) {\n    if (!this.search || !this.showSearch) return recettes;\n    let filterNom: (nom: string) => boolean;\n    try {\n      const s = new RegExp(this.search, \"i\");\n      filterNom = nom => s.test(nom);\n    } catch {\n      const sl = this.search.toLowerCase();\n      filterNom = (nom: string) => nom.includes(sl);\n    }\n    return recettes.filter(ing => {\n      const nom = ing.nom.toLowerCase();\n      if (filterNom(nom)) return true;\n      return levenshtein(nom, this.search) <= MAX_DIST_LEVENSHTEIN;\n    });\n  }\n\n  get recettes() {\n    let baseRecettes: Recette[];\n    if (this.state.mode == \"editMenu\") {\n      baseRecettes = Object.values(C.data.recettes);\n    } else if (this.state.selection.menu != null) {\n      baseRecettes = C.getMenuRecettes(this.state.selection.menu);\n    } else {\n      baseRecettes = Object.values(C.data.recettes);\n    }\n    return this.searchRecettes(baseRecettes);\n  }\n\n  get bonusTitle() {\n    if (this.state.mode == \"editMenu\") {\n      return \"Toutes\";\n    }\n    if (this.state.selection.menu != null) {\n      return \"Menu courant\";\n    }\n    return \"\";\n  }\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  showActions(active: boolean, recette: Recette) {\n    if (this.state.selection.menu != null) return false;\n    return (\n      active &&\n      (!recette.id_proprietaire.Valid ||\n        recette.id_proprietaire.Int64 == C.idUtilisateur)\n    );\n  }\n\n  async supprime() {\n    this.confirmeSupprime = false;\n    if (this.state.selection.recette == null) return;\n    await C.data.deleteRecette(this.state.selection.recette);\n    this.$emit(\"change\", null);\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Recette supprimée avec succès.\");\n    }\n  }\n\n  onDragStart(event: DragEvent, recette: Recette) {\n    if (!event.dataTransfer) return;\n    event.dataTransfer.setData(\"id-recette\", String(recette.id));\n    event.dataTransfer.effectAllowed = \"copy\";\n  }\n\n  @Watch(\"showSearch\")\n  onShowSearch(b: boolean) {\n    if (!b) return;\n    setTimeout(() => {\n      const input = this.$refs.search.$el.querySelector(\"input\");\n      if (input != null) input.select();\n    }, 50);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeRecettes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeRecettes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeRecettes.vue?vue&type=template&id=5095a6cd&\"\nimport script from \"./ListeRecettes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeRecettes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VTextField,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('edit-ingredient',{attrs:{\"initialIngredient\":_vm.state.selection.ingredient,\"mode\":_vm.editMode},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Vous avez demandé la suppression de cet ingrédient. \"),_c('br'),_vm._v(\" Souhaitez-vous vérifiez qu'aucun produit n'y est associé ? Dans le cas contraire, les éventuelles associations ingrédient/produit seront supprimées. \"),_c('div',{staticClass:\"my-3\"},[_c('small',[_vm._v(\" Si vous souhaitez seulement enlever l'ingrédient d'un menu ou d'une recette, passez plutôt en \"),_c('b',[_vm._v(\"mode édition\")]),_vm._v(\". \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.supprime(false)}}},[_vm._v(\" Supprimer l'ingrédient et les liens produits \")]),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.supprime(true)}}},[_vm._v(\" Vérifier les liens avant de supprimer \")])],1)],1)],1),_c('v-toolbar',{staticClass:\"toolbar-ingredients my-1\",attrs:{\"color\":\"secondary\"}},[_c('v-toolbar-title',{staticClass:\"px-2\"},[_c('v-row',{staticClass:\"mt-1\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_vm._v(\" Ingrédients \")])],1),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('small',[_c('i',[_vm._v(_vm._s(_vm.bonusTitle))])])])],1)],1),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"magnify\",\"tooltip\":\"Filtrer les ingrédients...\"},on:{\"click\":function($event){_vm.showSearch = !_vm.showSearch}}}),(\n          _vm.state.mode == 'visu' &&\n            _vm.state.selection.menu == null &&\n            _vm.state.selection.recette == null\n        )?_c('tooltip-btn',{attrs:{\"mdi-icon\":\"plus-thick\",\"tooltip\":\"Ajouter un ingrédient...\",\"color\":\"green\"},on:{\"click\":_vm.startCreateIngredient}}):_vm._e()],1)],1),(_vm.showSearch)?_c('v-text-field',{ref:\"search\",staticClass:\"my-2\",attrs:{\"outlined\":\"\",\"label\":\"Rechercher\",\"placeholder\":\"Tappez pour lancer la recherche\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}):_vm._e(),_c('v-list',{staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.ingredient},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.ingredient.id,attrs:{\"value\":ingredient},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var active = ref.active;\nreturn [_c('v-list-item-content',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function (ev) { return _vm.onDragStart(ev, ingredient.ingredient); }}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(ingredient.ingredient.nom)+\" \")]),_c('v-list-item-subtitle',{domProps:{\"innerHTML\":_vm._s(_vm.subtitle(ingredient))}})],1),(_vm.showActions(active))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier cet ingrédient\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer cet ingrédient\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('edit', _vm.current)}}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails de l'ingrédient \")]),_c('v-card-text',[_c('v-form',[_c('v-row',[_c('v-col',[_c('v-text-field',{ref:\"nom\",attrs:{\"label\":\"Nom\"},model:{value:(_vm.current.nom),callback:function ($$v) {_vm.$set(_vm.current, \"nom\", $$v)},expression:\"current.nom\"}})],1),_c('v-col',[_c('unite-field',{model:{value:(_vm.current.unite),callback:function ($$v) {_vm.$set(_vm.current, \"unite\", $$v)},expression:\"current.unite\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-switch',{attrs:{\"label\":\"Conditionnement requis\"},model:{value:(_vm.conditionnement),callback:function ($$v) {_vm.conditionnement=$$v},expression:\"conditionnement\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"disabled\":!_vm.conditionnement,\"label\":\"Conditionnement - Quanité\",\"type\":\"number\"},model:{value:(_vm.current.conditionnement.quantite),callback:function ($$v) {_vm.$set(_vm.current.conditionnement, \"quantite\", _vm._n($$v))},expression:\"current.conditionnement.quantite\"}})],1),_c('v-col',[_c('unite-field',{attrs:{\"disabled\":!_vm.conditionnement,\"label\":\"Conditionnement - Unité\",\"unites\":_vm.allowedUnitesConditionnement},model:{value:(_vm.current.conditionnement.unite),callback:function ($$v) {_vm.$set(_vm.current.conditionnement, \"unite\", $$v)},expression:\"current.conditionnement.unite\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":[],\"label\":\"Catégorie\"},model:{value:(_vm.current.categorie),callback:function ($$v) {_vm.$set(_vm.current, \"categorie\", $$v)},expression:\"current.categorie\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Callories\",\"required\":\"\"},model:{value:(_vm.current.callories),callback:function ($$v) {_vm.$set(_vm.current, \"callories\", $$v)},expression:\"current.callories\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('edit', _vm.current)}}},[_vm._v(_vm._s(_vm.btnTitle))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{attrs:{\"disabled\":_vm.disabled,\"items\":_vm.unites,\"value\":_vm.unite,\"label\":_vm.label},on:{\"change\":function (args) { return _vm.$emit('change', args); }}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Unites } from \"./enums\";\n\nconst UniteFieldProps = Vue.extend({\n  props: {\n    unite: String,\n    label: {\n      type: String,\n      default: \"Unité\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    unites: {\n      type: Array,\n      default: function() {\n        return Unites;\n      }\n    }\n  },\n  model: {\n    prop: \"unite\",\n    event: \"change\"\n  }\n});\n\n@Component({})\nexport default class UniteField extends UniteFieldProps {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UniteField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UniteField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UniteField.vue?vue&type=template&id=2819ecd1&scoped=true&\"\nimport script from \"./UniteField.vue?vue&type=script&lang=ts&\"\nexport * from \"./UniteField.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2819ecd1\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","import { Menu, Recette, Ingredient } from \"@/logic/types\";\n\nimport { IngredientOptions, New } from \"@/logic/types2\";\n\ntype ModeMenu = \"visu\" | \"editMenu\" | \"editRecette\" | \"editIngredient\";\ninterface SelectionMenu {\n  menu: Menu | null;\n  recette: Recette | null;\n  ingredient: IngredientOptions | null;\n}\nexport interface StateMenus {\n  mode: ModeMenu;\n  selection: SelectionMenu;\n}\n\nexport const DefautIngredient: New<Ingredient> = {\n  nom: \"\",\n  unite: \"\",\n  categorie: \"\",\n  conditionnement: { unite: \"\", quantite: 0 },\n  callories: {}\n};\n\nexport const DefautRecette: New<Recette> = {\n  id_proprietaire: { Valid: true, Int64: -1 },\n  ingredients: [],\n  mode_emploi: \"\",\n  nom: \"\"\n};\n\nexport const DefautMenu: New<Menu> = {\n  commentaire: \"\",\n  id_proprietaire: { Valid: true, Int64: -1 },\n  ingredients: [],\n  recettes: []\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { RecetteIngredient, Ingredient } from \"../../logic/types\";\nimport { Watch } from \"vue-property-decorator\";\nimport { IngredientOptions, EditMode } from \"../../logic/types2\";\nimport UniteField from \"../utils/UniteField.vue\";\nimport { Unites, UnitePiece } from \"../utils/enums\";\nimport { DefautIngredient } from \"./types\";\n\nconst EditIngredientProps = Vue.extend({\n  props: {\n    initialIngredient: Object as () => IngredientOptions | null,\n    mode: String as () => EditMode\n  }\n});\n\n@Component({\n  components: { UniteField }\n})\nexport default class EditIngredient extends EditIngredientProps {\n  current = this.copy(this.initialIngredient);\n\n  private copy(initial: IngredientOptions | null): Ingredient {\n    const ing = initial == null ? DefautIngredient : initial.ingredient;\n    return JSON.parse(JSON.stringify(ing));\n  }\n\n  get btnTitle() {\n    return this.mode == \"edit\" ? \"Valider\" : \"Créer\";\n  }\n\n  get conditionnement() {\n    return this.current.conditionnement.unite != \"\";\n  }\n  set conditionnement(b: boolean) {\n    if (!b) {\n      this.current.conditionnement = { unite: \"\", quantite: 0 };\n    } else {\n      this.current.conditionnement.unite =\n        this.current.unite ||\n        (this.initialIngredient && this.initialIngredient.ingredient.unite) ||\n        \"L\";\n    }\n  }\n\n  get allowedUnitesConditionnement() {\n    if (this.current.unite == UnitePiece) {\n      // Pour le conditionnement, l'unité Pièce n'apporte aucune information\n      return Unites.filter(u => u.value != UnitePiece);\n    }\n    // le conditionnement doit être compatible avec l'unité.\n    return Unites.filter(u => u.value == this.current.unite);\n  }\n\n  @Watch(\"initialIngredient\")\n  onPropChange() {\n    this.current = this.copy(this.initialIngredient);\n  }\n\n  $refs!: {\n    nom: Vue;\n  };\n\n  focus() {\n    const input = this.$refs.nom.$el.querySelector(\"input\");\n    if (input != null) input.select();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditIngredient.vue?vue&type=template&id=793fd582&scoped=true&\"\nimport script from \"./EditIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"793fd582\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VSwitch,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport EditIngredient from \"./EditIngredient.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Ingredient, RecetteIngredient } from \"../../logic/types\";\nimport { IngredientOptions, EditMode, New } from \"../../logic/types2\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport levenshtein from \"js-levenshtein\";\nimport { StateMenus, DefautIngredient } from \"./types\";\n\nconst Props = Vue.extend({\n  props: {\n    height: String,\n    state: Object as () => StateMenus\n  }\n});\n\nconst MAX_DIST_LEVENSHTEIN = 4;\n\n@Component({ components: { TooltipBtn, EditIngredient } })\nexport default class ListeIngredients extends Props {\n  confirmeSupprime = false;\n\n  showEditIngredient = false;\n  editMode: EditMode = \"new\";\n\n  search = \"\";\n  showSearch = false;\n\n  $refs!: {\n    search: Vue;\n  };\n\n  subtitle(ingredient: IngredientOptions) {\n    if (ingredient.options) {\n      return `${ingredient.options.quantite} <i>${\n        ingredient.ingredient.unite\n      }</i> - Cuisson : ${ingredient.options.cuisson || \"-\"}`;\n    }\n    return `<i>${ingredient.ingredient.unite}</i>`;\n  }\n\n  get bonusTitle() {\n    if (this.state.mode == \"editMenu\") {\n      return \"Tous\";\n    }\n    if (this.state.selection.recette != null) {\n      return \"Recette courante\";\n    } else if (this.state.selection.menu != null) {\n      return \"Menu courant\";\n    }\n    return \"\";\n  }\n\n  // filtre suivant la recherche\n  private searchIngredients(ingredients: IngredientOptions[]) {\n    if (!this.search || !this.showSearch) return ingredients;\n    let filterNom: (nom: string) => boolean;\n    try {\n      const s = new RegExp(this.search, \"i\");\n      filterNom = nom => s.test(nom);\n    } catch {\n      const sl = this.search.toLowerCase();\n      filterNom = (nom: string) => nom.includes(sl);\n    }\n    return ingredients.filter(ing => {\n      if (this.search == ing.ingredient.unite) return true;\n      const nom = ing.ingredient.nom.toLowerCase();\n      if (filterNom(nom)) return true;\n      return levenshtein(nom, this.search) <= MAX_DIST_LEVENSHTEIN;\n    });\n  }\n\n  get ingredients() {\n    let baseIngredients: IngredientOptions[];\n    if (this.state.mode == \"editMenu\" || this.state.mode == \"editRecette\") {\n      baseIngredients = C.getAllIngredients();\n    } else if (this.state.selection.recette != null) {\n      baseIngredients = C.getRecetteIngredients(this.state.selection.recette);\n    } else if (this.state.selection.menu != null) {\n      baseIngredients = C.getMenuIngredients(this.state.selection.menu);\n    } else {\n      baseIngredients = C.getAllIngredients();\n    }\n    return this.searchIngredients(baseIngredients);\n  }\n\n  showActions(active: boolean) {\n    return (\n      this.state.selection.menu == null &&\n      this.state.selection.recette == null &&\n      active\n    );\n  }\n\n  async supprime(checkProduits: boolean) {\n    this.confirmeSupprime = false;\n    if (this.state.selection.ingredient == null) return;\n    await C.data.deleteIngredient(\n      this.state.selection.ingredient.ingredient,\n      checkProduits\n    );\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\"Ingrédient supprimé avec succès.\");\n    }\n  }\n\n  onDragStart(event: DragEvent, ingredient: Ingredient) {\n    if (!event.dataTransfer) return;\n    event.dataTransfer.setData(\"id-ingredient\", String(ingredient.id));\n    event.dataTransfer.effectAllowed = \"copy\";\n  }\n\n  @Watch(\"showSearch\")\n  onShowSearch(b: boolean) {\n    if (!b) return;\n    setTimeout(() => {\n      const input = this.$refs.search.$el.querySelector(\"input\");\n      if (input != null) input.select();\n    }, 50);\n  }\n\n  startEditIngredient(ing: IngredientOptions) {\n    this.$emit(\"change\", ing);\n    this.editMode = \"edit\";\n    this.showEditIngredient = true;\n  }\n\n  async editIngredientDone(ing: Ingredient) {\n    this.showEditIngredient = false;\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      await C.data.updateIngredient(ing);\n      message = \"L'ingrédient a été modifié avec succès.\";\n    } else {\n      await C.data.createIngredient(ing);\n      message = \"L'ingrédient a été ajouté avec succès.\";\n    }\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n    }\n    this.$emit(\"change\", null);\n  }\n\n  startCreateIngredient() {\n    this.$emit(\"change\", { ingredient: DefautIngredient });\n    this.editMode = \"new\";\n    this.showEditIngredient = true;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeIngredients.vue?vue&type=template&id=6947d6a8&\"\nimport script from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ListeIngredients.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VTextField,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('menu-or-recette-ingredient',{ref:\"editIngredient\",attrs:{\"ingredient\":_vm.editedIngredient},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"check-outline\",\"tooltip\":\"Valider\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('done', _vm.menu)}}}),_c('tooltip-btn',{attrs:{\"mdi-icon\":\"undo\",\"tooltip\":\"Abandonner les modifications\"},on:{\"click\":function($event){return _vm.$emit('undo')}}})],1)],1),_c('v-textarea',{staticClass:\"pa-2 mt-4 my-3 mb-0\",attrs:{\"label\":\"Commentaire\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(_vm.menu.commentaire),callback:function ($$v) {_vm.$set(_vm.menu, \"commentaire\", $$v)},expression:\"menu.commentaire\"}}),_c('v-list',{staticClass:\"mt-0 pt-0 overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":\"60vh\"}},[_c('div',{on:{\"dragover\":_vm.onDragoverRecettes,\"drop\":_vm.onDropRecette}},[_c('v-subheader',[_vm._v(\"Recettes du menu\")]),(_vm.recettes.length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter une recette...\")])])],1):_vm._e(),_vm._l((_vm.recettes),function(recette){return _c('v-list-item',{key:recette.id,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_c('v-list-item-title',[_vm._v(_vm._s(recette.nom))])],1),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatRecetteProprietaire(recette)))])])],1),_c('v-list-item-action',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cette recette du menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeRecette(recette)}}})],1)]}}],null,true)})})],2),_c('div',{on:{\"dragover\":_vm.onDragoverIngredients,\"drop\":_vm.onDropIngredient}},[_c('v-subheader',[_vm._v(\"Ingrédients additionnels\")]),((_vm.menu.ingredients || []).length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter un ingrédient...\")])])],1):_vm._e(),_vm._l((_vm.menu.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.id,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.getIngredient(ingredient).nom)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(ingredient.quantite)+\" \"),_c('i',[_vm._v(_vm._s(_vm.getIngredient(ingredient).unite))]),_vm._v(\" - Cuisson : \"+_vm._s(ingredient.cuisson)+\" \")])],1),_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier les détails...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cet ingrédient du menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeIngredient(ingredient)}}})],1)],1)],1)]}}],null,true)})})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('edit', _vm.current)}}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails de l'ingrédient \")]),_c('v-card-text',[_c('v-form',[_c('v-row',[_c('v-col',[_c('v-text-field',{ref:\"quantite\",attrs:{\"label\":\"Quantité\",\"hint\":\"Quantité désirée pour 1 personne.\",\"type\":\"number\"},model:{value:(_vm.current.quantite),callback:function ($$v) {_vm.$set(_vm.current, \"quantite\", _vm._n($$v))},expression:\"current.quantite\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":[],\"label\":\"Cuisson\"},model:{value:(_vm.current.cuisson),callback:function ($$v) {_vm.$set(_vm.current, \"cuisson\", $$v)},expression:\"current.cuisson\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('edit', _vm.current)}}},[_vm._v(\"Valider\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { RecetteIngredient } from \"../../logic/types\";\nimport { Watch } from \"vue-property-decorator\";\n\nconst MenuOrRecetteIngredientProps = Vue.extend({\n  props: {\n    ingredient: Object as () => RecetteIngredient\n  }\n});\n\n@Component({})\nexport default class MenuOrRecetteIngredient extends MenuOrRecetteIngredientProps {\n  current: RecetteIngredient = JSON.parse(JSON.stringify(this.ingredient));\n\n  @Watch(\"ingredient\")\n  onPropChange() {\n    this.current = JSON.parse(JSON.stringify(this.ingredient));\n  }\n\n  $refs!: {\n    quantite: Vue;\n  };\n\n  focus() {\n    const input = this.$refs.quantite.$el.querySelector(\"input\");\n    if (input != null) input.select();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MenuOrRecetteIngredient.vue?vue&type=template&id=1da51a79&scoped=true&\"\nimport script from \"./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./MenuOrRecetteIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1da51a79\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport MenuOrRecetteIngredient from \"./MenuOrRecetteIngredient.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport {\n  Menu,\n  Recette,\n  MenuIngredient,\n  RecetteIngredient\n} from \"../../logic/types\";\nimport { New, EditMode } from \"../../logic/types2\";\nimport { Watch } from \"vue-property-decorator\";\nconst EditMenuProps = Vue.extend({\n  props: {\n    mode: String as () => EditMode,\n    initialMenu: Object as () => Menu\n  }\n});\n\n@Component({\n  components: { TooltipBtn, MenuOrRecetteIngredient }\n})\nexport default class EditMenu extends EditMenuProps {\n  // menu actuellement édité\n  menu: Menu = JSON.parse(JSON.stringify(this.initialMenu));\n\n  showEditIngredient = false;\n  editedIngredient: MenuIngredient | null = null;\n\n  $refs!: {\n    editIngredient: MenuOrRecetteIngredient;\n  };\n  get title() {\n    if (this.mode == \"edit\") {\n      return \"Modifier le menu\";\n    }\n    return \"Ajouter un menu\";\n  }\n\n  // résoud les recettes à partir des ids\n  get recettes() {\n    return C.getMenuRecettes(this.menu);\n  }\n\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  getIngredient(ing: MenuIngredient) {\n    return C.data.ingredients[ing.id_ingredient];\n  }\n\n  removeRecette(toRemove: Recette) {\n    this.menu.recettes = (this.menu.recettes || []).filter(\n      rec => rec.id_recette != toRemove.id\n    );\n  }\n\n  editIngredient(ing: MenuIngredient) {\n    this.editedIngredient = ing;\n    this.showEditIngredient = true;\n  }\n\n  editIngredientDone(edited: MenuIngredient) {\n    const ings = this.menu.ingredients;\n    if (ings == null) return;\n    ings.forEach((ing, index) => {\n      if (ing.id_ingredient == edited.id_ingredient) {\n        this.$set(ings, index, edited);\n      }\n    });\n    this.showEditIngredient = false;\n  }\n\n  removeIngredient(toRemove: MenuIngredient) {\n    this.menu.ingredients = (this.menu.ingredients || []).filter(\n      ing => ing.id_ingredient != toRemove.id_ingredient\n    );\n  }\n\n  onDragoverRecettes(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isRecette = event.dataTransfer.types.includes(\"id-recette\");\n    if (isRecette) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropRecette(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idRecette = Number(event.dataTransfer.getData(\"id-recette\"));\n    const recettes = this.menu.recettes || [];\n    const hasRecette =\n      recettes.filter(r => r.id_recette == idRecette).length > 0;\n    if (hasRecette) return;\n    recettes.push({ id_menu: this.menu.id, id_recette: idRecette });\n    this.menu.recettes = recettes;\n  }\n\n  onDragoverIngredients(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isIngredient = event.dataTransfer.types.includes(\"id-ingredient\");\n    if (isIngredient) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropIngredient(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idIngredient = Number(event.dataTransfer.getData(\"id-ingredient\"));\n    const ingredients = this.menu.ingredients || [];\n    const matchingIngredients = ingredients.filter(\n      r => r.id_ingredient == idIngredient\n    );\n    let newIngredient: MenuIngredient;\n    if (matchingIngredients.length > 0) {\n      newIngredient = matchingIngredients[0];\n    } else {\n      newIngredient = {\n        id_menu: this.menu.id,\n        id_ingredient: idIngredient,\n        quantite: 0,\n        cuisson: \"\"\n      };\n      ingredients.push(newIngredient);\n      this.menu.ingredients = ingredients;\n    }\n    this.editedIngredient = newIngredient;\n    this.showEditIngredient = true;\n  }\n\n  @Watch(\"showEditIngredient\")\n  onEditIngredient(b: boolean) {\n    if (b) {\n      setTimeout(() => {\n        const ed = this.$refs.editIngredient;\n        if (ed) ed.focus();\n      }, 50);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=ts&\"","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./EditMenu.vue?vue&type=template&id=0a4443a1&scoped=true&\"\nimport script from \"./EditMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a4443a1\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VSubheader,VTextarea,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('menu-or-recette-ingredient',{ref:\"editIngredient\",attrs:{\"ingredient\":_vm.editedIngredient},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"check-outline\",\"tooltip\":\"Valider\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('done', _vm.recette)}}}),_c('tooltip-btn',{attrs:{\"mdi-icon\":\"undo\",\"tooltip\":\"Abandonner les modifications\"},on:{\"click\":function($event){return _vm.$emit('undo')}}})],1)],1),_c('v-row',{staticClass:\"px-2\"},[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Nom de la recette\",\"required\":\"\"},model:{value:(_vm.recette.nom),callback:function ($$v) {_vm.$set(_vm.recette, \"nom\", $$v)},expression:\"recette.nom\"}}),_c('v-textarea',{attrs:{\"label\":\"Mode d'emploi\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(_vm.recette.mode_emploi),callback:function ($$v) {_vm.$set(_vm.recette, \"mode_emploi\", $$v)},expression:\"recette.mode_emploi\"}})],1),_c('v-col',[_c('v-list',{staticClass:\"mt-0 pt-0 overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":\"60vh\"}},[_c('div',{on:{\"dragover\":_vm.onDragoverIngredients,\"drop\":_vm.onDropIngredient}},[_c('v-subheader',[_vm._v(\"Ingrédients\")]),((_vm.recette.ingredients || []).length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter un ingrédient...\")])])],1):_vm._e(),_vm._l((_vm.recette.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.id,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.getIngredient(ingredient).nom)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(ingredient.quantite)+\" \"),_c('i',[_vm._v(_vm._s(_vm.getIngredient(ingredient).unite))]),_vm._v(\" - Cuisson : \"+_vm._s(ingredient.cuisson)+\" \")])],1),_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier les détails...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cet ingrédient de la recette\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeIngredient(ingredient)}}})],1)],1)],1)]}}],null,true)})})],2)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport MenuOrRecetteIngredient from \"./MenuOrRecetteIngredient.vue\";\n\nimport { C } from \"../../logic/controller\";\nimport { Recette, RecetteIngredient } from \"../../logic/types\";\nimport { New, EditMode } from \"../../logic/types2\";\nimport { Watch } from \"vue-property-decorator\";\nconst EditRecetteProps = Vue.extend({\n  props: {\n    mode: String as () => EditMode,\n    initialRecette: Object as () => Recette\n  }\n});\n\n@Component({\n  components: { TooltipBtn, MenuOrRecetteIngredient }\n})\nexport default class EditRecette extends EditRecetteProps {\n  // recette actuellement éditée\n  recette: Recette = JSON.parse(JSON.stringify(this.initialRecette));\n\n  showEditIngredient = false;\n  editedIngredient: RecetteIngredient | null = null;\n\n  $refs!: {\n    editIngredient: MenuOrRecetteIngredient;\n  };\n  get title() {\n    if (this.mode == \"edit\") {\n      return \"Modifier la recette\";\n    }\n    return \"Ajouter une recette\";\n  }\n\n  formatRecetteProprietaire = C.formatter.formatMenuOrRecetteProprietaire;\n\n  getIngredient(ing: RecetteIngredient) {\n    return C.data.ingredients[ing.id_ingredient];\n  }\n\n  editIngredient(ing: RecetteIngredient) {\n    this.editedIngredient = ing;\n    this.showEditIngredient = true;\n  }\n\n  editIngredientDone(edited: RecetteIngredient) {\n    const ings = this.recette.ingredients;\n    if (ings == null) return;\n    ings.forEach((ing, index) => {\n      if (ing.id_ingredient == edited.id_ingredient) {\n        this.$set(ings, index, edited);\n      }\n    });\n    this.showEditIngredient = false;\n  }\n\n  removeIngredient(toRemove: RecetteIngredient) {\n    this.recette.ingredients = (this.recette.ingredients || []).filter(\n      ing => ing.id_ingredient != toRemove.id_ingredient\n    );\n  }\n\n  onDragoverIngredients(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isIngredient = event.dataTransfer.types.includes(\"id-ingredient\");\n    if (isIngredient) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropIngredient(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idIngredient = Number(event.dataTransfer.getData(\"id-ingredient\"));\n    const ingredients = this.recette.ingredients || [];\n    const matchingIngredients = ingredients.filter(\n      r => r.id_ingredient == idIngredient\n    );\n    let newIngredient: RecetteIngredient;\n    if (matchingIngredients.length > 0) {\n      newIngredient = matchingIngredients[0];\n    } else {\n      newIngredient = {\n        id_recette: this.recette.id,\n        id_ingredient: idIngredient,\n        quantite: 0,\n        cuisson: \"\"\n      };\n      ingredients.push(newIngredient);\n      this.recette.ingredients = ingredients;\n    }\n    this.editedIngredient = newIngredient;\n    this.showEditIngredient = true;\n  }\n\n  // permet de donner le focus automatiquement\n  @Watch(\"showEditIngredient\")\n  onEditIngredient(b: boolean) {\n    if (b) {\n      setTimeout(() => {\n        const ed = this.$refs.editIngredient;\n        if (ed) ed.focus();\n      }, 50);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRecette.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRecette.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditRecette.vue?vue&type=template&id=060990e0&scoped=true&\"\nimport script from \"./EditRecette.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditRecette.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"060990e0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VSubheader,VTextField,VTextarea,VToolbar,VToolbarItems,VToolbarTitle})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\nimport Vue from \"vue\";\nimport ListeMenus from \"../components/menus/ListeMenus.vue\";\nimport ListeRecettes from \"../components/menus/ListeRecettes.vue\";\nimport ListeIngredients from \"../components/menus/ListeIngredients.vue\";\nimport EditMenu from \"../components/menus/EditMenu.vue\";\nimport EditRecette from \"../components/menus/EditRecette.vue\";\nimport { C } from \"../logic/controller\";\nimport { Menu, Recette, Ingredient } from \"../logic/types\";\nimport { IngredientOptions, EditMode, New } from \"../logic/types2\";\nimport {\n  StateMenus,\n  DefautRecette,\n  DefautMenu\n} from \"../components/menus/types\";\n\n@Component({\n  components: {\n    ListeMenus,\n    ListeRecettes,\n    ListeIngredients,\n    EditMenu,\n    EditRecette\n  }\n})\nexport default class Menus extends Vue {\n  state: StateMenus = {\n    mode: \"visu\",\n    selection: { menu: null, recette: null, ingredient: null }\n  };\n\n  editMode: EditMode = \"new\"; // s'applique au menu, recette ou ingrédient\n\n  async mounted() {\n    await C.data.loadAllMenus();\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(\n        \"Les menus, recettes et ingrédients ont bien été chargés.\"\n      );\n    }\n  }\n\n  startEditMenu(menu: Menu) {\n    this.state.selection.menu = menu;\n    this.state.mode = \"editMenu\";\n    this.editMode = \"edit\";\n  }\n\n  startCreateMenu() {\n    if (C.idUtilisateur == null) return;\n    const newMenu: Menu = JSON.parse(JSON.stringify(DefautMenu));\n    newMenu.id_proprietaire.Int64 = C.idUtilisateur;\n    this.state.selection.menu = newMenu;\n    this.editMode = \"new\";\n    this.state.mode = \"editMenu\";\n  }\n\n  async editMenuDone(menu: Menu) {\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      await C.data.updateMenu(menu);\n      message = \"Le menu a bien été mis à jour.\";\n    } else {\n      await C.data.createMenu(menu);\n      message = \"Le menu a bien été ajouté.\";\n    }\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n    }\n    this.state.selection.menu = null;\n    this.state.mode = \"visu\";\n  }\n\n  startEditRecette(recette: Recette) {\n    this.state.selection.recette = recette;\n    this.editMode = \"edit\";\n    this.state.mode = \"editRecette\";\n  }\n\n  startCreateRecette() {\n    if (C.idUtilisateur == null) return;\n    const newRecette: Recette = JSON.parse(JSON.stringify(DefautRecette));\n    newRecette.id_proprietaire.Int64 = C.idUtilisateur;\n    this.state.selection.recette = newRecette;\n    this.editMode = \"new\";\n    this.state.mode = \"editRecette\";\n  }\n\n  async editRecetteDone(recette: Recette) {\n    let message = \"\";\n    if (this.editMode == \"edit\") {\n      await C.data.updateRecette(recette);\n      message = \"La recette a bien été mise à jour.\";\n    } else {\n      await C.data.createRecette(recette);\n      message = \"La recette a bien été ajoutée.\";\n    }\n    if (C.notifications.getError() == null) {\n      C.notifications.setMessage(message);\n    }\n    this.state.selection.recette = null;\n    this.state.mode = \"visu\";\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Menus.vue?vue&type=template&id=2389092e&\"\nimport script from \"./Menus.vue?vue&type=script&lang=ts&\"\nexport * from \"./Menus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSlideXReverseTransition } from 'vuetify/lib/components/transitions';\ninstallComponents(component, {VCol,VContainer,VFadeTransition,VRow,VSlideXReverseTransition})\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n"],"sourceRoot":""}