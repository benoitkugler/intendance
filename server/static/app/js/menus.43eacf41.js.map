{"version":3,"sources":["webpack:///./src/views/Menus.vue?f1f6","webpack:///./src/components/menus/ListeMenus.vue?f30a","webpack:///./src/components/menus/shared.ts","webpack:///./src/components/menus/ListeMenus.vue","webpack:///./src/components/menus/ListeMenus.vue?c6d2","webpack:///./src/components/menus/ListeMenus.vue?3a39","webpack:///./src/components/menus/ListeRecettes.vue?e4ca","webpack:///./src/components/menus/ListeRecettes.vue","webpack:///./src/components/menus/ListeRecettes.vue?beef","webpack:///./src/components/menus/ListeRecettes.vue?e396","webpack:///./src/components/menus/ListeIngredients.vue?52f3","webpack:///./src/components/menus/EditIngredient.vue?b490","webpack:///./src/components/utils/UniteField.vue?2875","webpack:///./src/components/utils/UniteField.vue","webpack:///./src/components/utils/UniteField.vue?8a32","webpack:///./src/components/utils/UniteField.vue?576d","webpack:///./src/components/utils/ConditionnementField.vue?858a","webpack:///./src/components/utils/ConditionnementField.vue","webpack:///./src/components/utils/ConditionnementField.vue?e258","webpack:///./src/components/utils/ConditionnementField.vue?0f18","webpack:///./src/components/menus/types.ts","webpack:///./src/components/menus/EditIngredient.vue","webpack:///./src/components/menus/EditIngredient.vue?791b","webpack:///./src/components/menus/EditIngredient.vue?ab2f","webpack:///./src/components/produits/AssociationIngredient.vue?e3f9","webpack:///./src/components/produits/DetailsProduit.vue?dca0","webpack:///./src/components/produits/DetailsProduit.vue","webpack:///./src/components/produits/DetailsProduit.vue?996f","webpack:///./src/components/produits/DetailsProduit.vue?f5f6","webpack:///./src/components/produits/AssociationIngredient.vue","webpack:///./src/components/produits/AssociationIngredient.vue?afd8","webpack:///./src/components/produits/AssociationIngredient.vue?128b","webpack:///./src/components/menus/ListeIngredients.vue","webpack:///./src/components/menus/ListeIngredients.vue?b533","webpack:///./src/components/menus/ListeIngredients.vue?acc4","webpack:///./src/components/menus/EditMenu.vue?0dae","webpack:///./src/components/menus/EditMenu.vue","webpack:///./src/components/menus/EditMenu.vue?ad40","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/components/menus/EditMenu.vue?ea1a","webpack:///./src/components/menus/EditRecette.vue?36d5","webpack:///./src/components/menus/EditRecette.vue","webpack:///./src/components/menus/EditRecette.vue?96b4","webpack:///./src/components/menus/EditRecette.vue?1db9","webpack:///./src/views/Menus.vue","webpack:///./src/views/Menus.vue?d71d","webpack:///./src/views/Menus.vue?b68d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","state","mode","directives","name","rawName","value","expression","key","ref","C","on","idMenu","selection","startEditMenu","startCreateMenu","editMode","editedMenu","editMenuCancel","editMenuDone","_e","idRecette","startEditRecette","startCreateRecette","editedRecette","editRecetteCancel","editRecetteDone","idIngredient","staticRenderFns","model","callback","$$v","confirmeSupprime","_v","supprime","$event","$emit","search","height","menus","length","args","_l","menu","id","class","classItem","scopedSlots","_u","fn","props","_s","formatMenuName","formatMenuProprietaire","showButtons","active","stopPropagation","Props","extend","String","Object","kind","idItem","$vuetify","goTo","container","$refs","list","formatter","formatMenuOrRecetteProprietaire","searchMenu","id_utilisateur","Valid","Int64","idUtilisateur","api","DeleteMenu","components","TooltipBtn","Toolbar","type","default","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDialog","VList","VListItem","VListItemAction","VListItemContent","VListItemGroup","VListItemSubtitle","VListItemTitle","VRow","VSpacer","title","recettes","recette","ev","onDragStart","nom","formatRecetteProprietaire","showActions","predicat","filter","baseRecettes","values","getMenuRecettes","getMenu","searchRecettes","DeleteRecette","event","dataTransfer","IdRecette","effectAllowed","showEditIngredient","editedIngredient","editIngredientDone","showEditProduits","editedIngredientProduit","startCreateIngredient","ingredients","ingredient","domProps","subtitle","startEditProduits","startEditIngredient","nativeOn","indexOf","_k","keyCode","current","$set","conditionnement","allowedUnitesConditionnement","btnTitle","disabled","unites","unite","label","UniteFieldProps","Boolean","Array","prop","VSelect","onChange","_n","allowedUnites","ConditionnementFieldProps","UniteField","VTextField","DefautIngredient","Litres","categorie","quantite","callories","DefautRecette","mode_emploi","DefautMenu","commentaire","EditIngredientProps","initialIngredient","copy","initial","ing","Zero","b","items","Piece","u","input","$el","querySelector","select","ConditionnementField","VForm","VSwitch","loading","produit","isDefault","setDefault","formatFournisseur","prix","formatConditionnement","deleteProduit","newProduit","addProduit","optionsLivraisons","rules","idRequired","asE","item","text","innerProduit","required","validate","DetailsProduitProps","duplique","i","v","livraisons","map","livraison","formatLivraison","form","AssociationIngredientProps","activated","ingredientProduits","cond","id_livraison","reference_fournisseur","colisage","notifications","spin","produits","defaults","GetIngredientProduits","res","undefined","loadProduits","AjouteIngredientProduit","id_ingredient","DeleteProduit","newState","SetDefautProduit","id_produit","DetailsProduit","VCardSubtitle","VSimpleTable","VSkeletonLoader","options","cuisson","getIngredient","sort","a","Number","baseIngredients","getAllIngredients","getRecetteIngredients","getMenuIngredients","searchIngredients","checkProduits","DeleteIngredient","check_produits","IdIngredient","UpdateIngredient","CreateIngredient","getError","EditIngredient","AssociationIngredient","onDragoverRecettes","onDropRecette","removeRecette","EditMenuProps","initialMenu","toRemove","isRecette","types","includes","preventDefault","dropEffect","hasRecette","push","ListeLienIngredients","baseMixins","mixins","autoGrow","noResize","rowHeight","validator","isNaN","parseFloat","rows","parseInt","computed","classes","noResizeHandle","watch","lazyValue","$nextTick","mounted","setTimeout","methods","calculateInputHeight","minHeight","Math","genInput","onInput","onKeyDown","isFocused","e","VSubheader","VTextarea","VToolbar","VToolbarItems","VToolbarTitle","staticStyle","EditRecetteProps","initialRecette","MenuProps","loadAllMenus","selectIngredient","$route","query","listeIngredients","goToItem","newMenu","UpdateMenu","out","CreateMenu","listeMenus","newRecette","UpdateRecette","CreateRecette","listeRecettes","ListeMenus","ListeRecettes","ListeIngredients","EditMenu","EditRecette","VContainer"],"mappings":"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","file":"js/menus.43eacf41.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"py-1 px-2\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"wrap\":\"\"}},[(_vm.state.mode == 'visu' || _vm.state.mode == 'editMenu')?_c('v-col',{attrs:{\"md\":\"4\",\"sm\":\"6\"}},[_c('transition-group',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\",\"duration\":\"200\"}},[_c('liste-menus',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.mode == 'visu'),expression:\"state.mode == 'visu'\"}],key:\"liste\",ref:\"listeMenus\",attrs:{\"C\":_vm.C,\"height\":\"75vh\",\"state\":_vm.state},on:{\"change\":function (idMenu) { return (_vm.state.selection.idMenu = idMenu); },\"edit\":_vm.startEditMenu,\"new\":_vm.startCreateMenu}}),_c('edit-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.mode == 'editMenu'),expression:\"state.mode == 'editMenu'\"}],key:\"edit\",attrs:{\"C\":_vm.C,\"mode\":_vm.editMode,\"initialMenu\":_vm.editedMenu},on:{\"undo\":_vm.editMenuCancel,\"done\":_vm.editMenuDone}})],1)],1):_vm._e(),_c('v-col',[_c('liste-recettes',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.mode == 'visu' || _vm.state.mode == 'editMenu'),expression:\"state.mode == 'visu' || state.mode == 'editMenu'\"}],key:\"liste\",ref:\"listeRecettes\",attrs:{\"height\":\"75vh\",\"C\":_vm.C,\"state\":_vm.state},on:{\"change\":function (idRecette) { return (_vm.state.selection.idRecette = idRecette); },\"edit\":_vm.startEditRecette,\"new\":_vm.startCreateRecette}}),_c('edit-recette',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.mode == 'editRecette'),expression:\"state.mode == 'editRecette'\"}],key:\"edit\",attrs:{\"C\":_vm.C,\"mode\":_vm.editMode,\"initialRecette\":_vm.editedRecette},on:{\"undo\":_vm.editRecetteCancel,\"done\":_vm.editRecetteDone}})],1),_c('v-col',{attrs:{\"md\":\"4\",\"sm\":\"12\"}},[_c('liste-ingredients',{ref:\"listeIngredients\",attrs:{\"height\":\"75vh\",\"C\":_vm.C,\"state\":_vm.state},on:{\"change\":function (idIngredient) { return (_vm.state.selection.idIngredient = idIngredient); }}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression de ce menu ? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprime}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter un menu...\",\"title\":\"Menus\",\"showAdd\":_vm.state.mode == 'visu'},on:{\"add\":function($event){return _vm.$emit('new')}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{ref:\"list\",staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[(_vm.menus.length === 0)?_c('v-list-item',[_c('v-list-item-content',[_c('i',[_vm._v(\" Aucun menu.\")])])],1):_vm._e(),_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.idMenu},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.menus),function(menu){return _c('v-list-item',{key:menu.id,class:_vm.classItem(menu.id),attrs:{\"value\":menu.id},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.formatMenuName(menu)))]),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatMenuProprietaire(menu)))])])],1),(_vm.showButtons(props.active, menu))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier ce menu\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit', menu)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer ce menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { StateMenus, SelectionMenu } from \"./types\";\nimport { Controller } from \"@/logic/controller\";\n\nexport type ListKind = keyof SelectionMenu;\nconst Props = Vue.extend({\n  props: {\n    height: String,\n    state: Object as () => StateMenus,\n    kind: String as () => ListKind,\n    C: Object as () => Controller,\n  },\n});\n\n@Component({})\nexport class BaseList extends Props {\n  // à implémenter par les composants\n  $refs!: {\n    list: HTMLElement;\n  };\n\n  private classItem(idItem: number) {\n    return this.kind + idItem;\n  }\n\n  // change l'item courant et scroll\n  goToItem(idItem: number) {\n    this.state.selection[this.kind] = idItem;\n    try {\n      this.$vuetify.goTo(\".\" + this.classItem(idItem), {\n        container: this.$refs.list,\n      });\n    } catch {\n      // élément inconnu, on ignore\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { Controller } from \"@/logic/controller\";\nimport { Menu } from \"@/logic/api\";\nimport { StateMenus } from \"./types\";\nimport { searchFunction } from \"../utils/utils\";\nimport { BaseList, ListKind } from \"./shared\";\n\n@Component({\n  components: { TooltipBtn, Toolbar },\n  props: {\n    C: Object as () => Controller,\n    kind: {\n      type: String as () => ListKind,\n      default: \"idMenu\",\n    },\n  },\n})\nexport default class ListeMenus extends BaseList {\n  confirmeSupprime = false;\n  formatMenuName = this.C.formatter.formatMenuName;\n  formatMenuProprietaire = this.C.formatter.formatMenuOrRecetteProprietaire;\n\n  search = \"\";\n\n  get menus() {\n    return this.C.searchMenu(this.search);\n  }\n\n  showButtons(active: boolean, menu: Menu) {\n    return (\n      active &&\n      (!menu.id_utilisateur.Valid ||\n        menu.id_utilisateur.Int64 == this.C.state.idUtilisateur)\n    );\n  }\n\n  async supprime() {\n    this.confirmeSupprime = false;\n    if (this.state.selection.idMenu == null) return;\n    await this.C.api.DeleteMenu({ id: this.state.selection.idMenu });\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeMenus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeMenus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeMenus.vue?vue&type=template&id=c371547e&\"\nimport script from \"./ListeMenus.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeMenus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Confirmez-vous la suppression de cette recette ? \"),_c('br'),_c('div',{staticClass:\"my-3\"},[_c('small',[_vm._v(\" Si vous souhaitez seulement l'enlever d'un menu, passez plutôt en \"),_c('b',[_vm._v(\"mode édition\")]),_vm._v(\". \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.supprime}},[_vm._v(\"Supprimer\")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter une recette...\",\"title\":_vm.title,\"showAdd\":_vm.state.mode == 'visu' && _vm.state.selection.idMenu == null},on:{\"add\":function($event){return _vm.$emit('new')}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{ref:\"list\",staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[(_vm.recettes.length === 0)?_c('v-list-item',[_c('v-list-item-content',[_c('i',[_vm._v(\" Aucune recette.\")])])],1):_vm._e(),_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.idRecette},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.recettes),function(recette){return _c('v-list-item',{key:recette.id,class:_vm.classItem(recette.id),attrs:{\"value\":recette.id},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-list-item-content',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function (ev) { return _vm.onDragStart(ev, recette); }}},[_c('v-list-item-title',[_c('v-list-item-title',[_vm._v(_vm._s(recette.nom))])],1),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatRecetteProprietaire(recette)))])])],1),(_vm.showActions(props.active, recette))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier cette recette\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit', recette)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer cette recette\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { Controller } from \"@/logic/controller\";\nimport { Recette } from \"@/logic/api\";\nimport { StateMenus } from \"./types\";\nimport levenshtein from \"js-levenshtein\";\nimport { searchFunction } from \"../utils/utils\";\nimport { DragKind, setDragData } from \"../utils/utils_drag\";\nimport { ListKind, BaseList } from \"./shared\";\n\n@Component({\n  components: { TooltipBtn, Toolbar },\n  props: {\n    kind: {\n      type: String as () => ListKind,\n      default: \"idRecette\",\n    },\n  },\n})\nexport default class ListeRecettes extends BaseList {\n  confirmeSupprime = false;\n\n  search = \"\";\n\n  private searchRecettes(recettes: Recette[], search: string) {\n    const predicat = searchFunction(search);\n    return recettes.filter((recette) => predicat(recette.nom));\n  }\n\n  get recettes() {\n    let baseRecettes: Recette[];\n    if (this.state.mode == \"editMenu\") {\n      baseRecettes = Object.values(this.C.api.recettes);\n    } else if (this.state.selection.idMenu != null) {\n      baseRecettes = this.C.getMenuRecettes(\n        this.C.getMenu(this.state.selection.idMenu)\n      );\n    } else {\n      baseRecettes = Object.values(this.C.api.recettes);\n    }\n    return this.searchRecettes(baseRecettes, this.search);\n  }\n\n  get title() {\n    if (this.state.mode == \"editMenu\") {\n      return \"Choisir une recette\";\n    }\n    if (this.state.selection.idMenu != null) {\n      return \"Recettes liées au menu\";\n    }\n    return \"Toutes les recettes\";\n  }\n  formatRecetteProprietaire = this.C.formatter.formatMenuOrRecetteProprietaire;\n\n  showActions(active: boolean, recette: Recette) {\n    if (this.state.selection.idMenu != null) return false;\n    return (\n      active &&\n      (!recette.id_utilisateur.Valid ||\n        recette.id_utilisateur.Int64 == this.C.state.idUtilisateur)\n    );\n  }\n\n  async supprime() {\n    this.confirmeSupprime = false;\n    if (this.state.selection.idRecette == null) return;\n    await this.C.api.DeleteRecette({ id: this.state.selection.idRecette });\n    this.$emit(\"change\", null);\n  }\n\n  onDragStart(event: DragEvent, recette: Recette) {\n    if (!event.dataTransfer) return;\n    setDragData(event.dataTransfer, DragKind.IdRecette, recette.id);\n    event.dataTransfer.effectAllowed = \"copy\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeRecettes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeRecettes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeRecettes.vue?vue&type=template&id=516a232e&\"\nimport script from \"./ListeRecettes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeRecettes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.showEditIngredient),callback:function ($$v) {_vm.showEditIngredient=$$v},expression:\"showEditIngredient\"}},[_c('edit-ingredient',{attrs:{\"initialIngredient\":_vm.editedIngredient,\"mode\":_vm.editMode},on:{\"edit\":_vm.editIngredientDone}})],1),_c('v-dialog',{attrs:{\"scrollable\":\"\",\"width\":\"90%\"},model:{value:(_vm.showEditProduits),callback:function ($$v) {_vm.showEditProduits=$$v},expression:\"showEditProduits\"}},[_c('association-ingredient',{attrs:{\"C\":_vm.C,\"ingredient\":_vm.editedIngredientProduit,\"activated\":_vm.showEditProduits}})],1),_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.confirmeSupprime),callback:function ($$v) {_vm.confirmeSupprime=$$v},expression:\"confirmeSupprime\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\",\"color\":\"warning\"}},[_vm._v(\" Confirmer la suppression \")]),_c('v-card-text',[_vm._v(\" Vous avez demandé la suppression de cet ingrédient. \"),_c('br'),_vm._v(\" Souhaitez-vous vérifiez qu'aucun produit n'y est associé ? Dans le cas contraire, les éventuelles associations ingrédient/produit seront supprimées. \"),_c('div',{staticClass:\"my-3\"},[_c('small',[_vm._v(\" Si vous souhaitez seulement enlever l'ingrédient d'un menu ou d'une recette, passez plutôt en \"),_c('b',[_vm._v(\"mode édition\")]),_vm._v(\". \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.supprime(false)}}},[_vm._v(\" Supprimer l'ingrédient et les liens produits \")]),_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.supprime(true)}}},[_vm._v(\" Vérifier les liens avant de supprimer \")])],1)],1)],1),_c('toolbar',{attrs:{\"tooltipAdd\":\"Ajouter un ingrédient...\",\"title\":_vm.title,\"showAdd\":_vm.state.mode == 'visu' &&\n      _vm.state.selection.idMenu == null &&\n      _vm.state.selection.idRecette == null},on:{\"add\":_vm.startCreateIngredient},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-list',{ref:\"list\",staticClass:\"overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":_vm.height}},[(_vm.ingredients.length === 0)?_c('v-list-item',[_c('v-list-item-content',[_c('i',[_vm._v(\" Aucun ingrédient.\")])])],1):_vm._e(),_c('v-list-item-group',{attrs:{\"value\":_vm.state.selection.idIngredient},on:{\"change\":function (args) { return _vm.$emit('change', args); }}},_vm._l((_vm.ingredients),function(ingredient){return _c('v-list-item',{key:ingredient.ingredient.id,class:_vm.classItem(ingredient.ingredient.id),attrs:{\"value\":ingredient.ingredient.id},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-list-item-content',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function (ev) { return _vm.onDragStart(ev, ingredient.ingredient); }}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(ingredient.ingredient.nom)+\" \")]),_c('v-list-item-subtitle',{domProps:{\"innerHTML\":_vm._s(_vm.subtitle(ingredient))}})],1),(_vm.showActions(props.active))?_c('v-list-item-action',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"cart\",\"tooltip\":\"Produits liés à cet ingrédient...\",\"color\":\"accent\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditProduits(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"pencil\",\"tooltip\":\"Modifier cet ingrédient...\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditIngredient(ingredient)}}})],1),_c('v-col',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Supprimer cet ingrédient\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmeSupprime = true}}})],1)],1)],1):_vm._e()]}}],null,true)})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('edit', _vm.current)}}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Détails de l'ingrédient \")]),_c('v-card-text',[_c('v-form',[_c('v-row',[_c('v-col',[_c('v-text-field',{ref:\"nom\",attrs:{\"label\":\"Nom\"},model:{value:(_vm.current.nom),callback:function ($$v) {_vm.$set(_vm.current, \"nom\", $$v)},expression:\"current.nom\"}})],1),_c('v-col',[_c('unite-field',{model:{value:(_vm.current.unite),callback:function ($$v) {_vm.$set(_vm.current, \"unite\", $$v)},expression:\"current.unite\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-switch',{attrs:{\"label\":\"Conditionnement requis\"},model:{value:(_vm.conditionnement),callback:function ($$v) {_vm.conditionnement=$$v},expression:\"conditionnement\"}})],1),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('conditionnement-field',{attrs:{\"disabled\":!_vm.conditionnement,\"allowedUnites\":_vm.allowedUnitesConditionnement},model:{value:(_vm.current.conditionnement),callback:function ($$v) {_vm.$set(_vm.current, \"conditionnement\", $$v)},expression:\"current.conditionnement\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":[],\"label\":\"Catégorie\"},model:{value:(_vm.current.categorie),callback:function ($$v) {_vm.$set(_vm.current, \"categorie\", $$v)},expression:\"current.categorie\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Callories\",\"required\":\"\"},model:{value:(_vm.current.callories),callback:function ($$v) {_vm.$set(_vm.current, \"callories\", $$v)},expression:\"current.callories\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('edit', _vm.current)}}},[_vm._v(_vm._s(_vm.btnTitle))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{attrs:{\"disabled\":_vm.disabled,\"items\":_vm.unites,\"value\":_vm.unite,\"label\":_vm.label},on:{\"change\":function (args) { return _vm.$emit('change', args); }}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { UniteLabels } from \"@/logic/api\";\nimport { enumStringToOptions } from \"@/logic/types\";\n\nconst UniteFieldProps = Vue.extend({\n  props: {\n    unite: String,\n    label: {\n      type: String,\n      default: \"Unité\",\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    unites: {\n      type: Array,\n      default: function () {\n        return enumStringToOptions(UniteLabels);\n      },\n    },\n  },\n  model: {\n    prop: \"unite\",\n    event: \"change\",\n  },\n});\n\n@Component({})\nexport default class UniteField extends UniteFieldProps {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UniteField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UniteField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UniteField.vue?vue&type=template&id=42af5b1a&scoped=true&\"\nimport script from \"./UniteField.vue?vue&type=script&lang=ts&\"\nexport * from \"./UniteField.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42af5b1a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"disabled\":_vm.disabled,\"label\":\"Conditionnement - Quantité\",\"type\":\"number\",\"hint\":\"Conditionnement d'un exemplaire\"},on:{\"change\":_vm.onChange},model:{value:(_vm.conditionnement.quantite),callback:function ($$v) {_vm.$set(_vm.conditionnement, \"quantite\", _vm._n($$v))},expression:\"conditionnement.quantite\"}})],1),_c('v-col',{staticClass:\"ml-3\"},[_c('unite-field',{attrs:{\"disabled\":_vm.disabled,\"label\":\"Conditionnement - Unité\",\"unites\":_vm.allowedUnites},on:{\"change\":_vm.onChange},model:{value:(_vm.conditionnement.unite),callback:function ($$v) {_vm.$set(_vm.conditionnement, \"unite\", $$v)},expression:\"conditionnement.unite\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport UniteField from \"./UniteField.vue\";\nimport { Conditionnement } from \"@/logic/api\";\nimport { EnumItem } from \"@/logic/types\";\n\nconst ConditionnementFieldProps = Vue.extend({\n  props: {\n    conditionnement: Object as () => Conditionnement,\n    disabled: Boolean,\n    allowedUnites: Array as () => EnumItem[],\n  },\n  model: {\n    prop: \"conditionnement\",\n    event: \"change\",\n  },\n});\n\n@Component({\n  components: { UniteField },\n})\nexport default class ConditionnementField extends ConditionnementFieldProps {\n  onChange() {\n    this.$emit(\"change\", this.conditionnement);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConditionnementField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConditionnementField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConditionnementField.vue?vue&type=template&id=c8fb7398&scoped=true&\"\nimport script from \"./ConditionnementField.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConditionnementField.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8fb7398\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCol,VRow,VTextField})\n","import {\n  Ingredient,\n  RecetteComplet,\n  MenuComplet,\n  Unite,\n  New,\n} from \"@/logic/api\";\n\ntype ModeMenu = \"visu\" | \"editMenu\" | \"editRecette\" | \"editIngredient\";\nexport interface SelectionMenu {\n  idMenu: number | null;\n  idRecette: number | null;\n  idIngredient: number | null;\n}\nexport interface StateMenus {\n  mode: ModeMenu;\n  selection: SelectionMenu;\n}\n\nexport const DefautIngredient: New<Ingredient> = {\n  nom: \"\",\n  unite: Unite.Litres,\n  categorie: \"\",\n  conditionnement: { unite: Unite.Litres, quantite: 0 },\n  callories: {},\n};\n\nexport const DefautRecette: New<RecetteComplet> = {\n  id_utilisateur: { Valid: true, Int64: -1 },\n  ingredients: [],\n  mode_emploi: \"\",\n  nom: \"\",\n};\n\nexport const DefautMenu: New<MenuComplet> = {\n  commentaire: \"\",\n  id_utilisateur: { Valid: true, Int64: -1 },\n  ingredients: [],\n  recettes: [],\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Watch } from \"vue-property-decorator\";\n\nimport UniteField from \"../utils/UniteField.vue\";\nimport ConditionnementField from \"../utils/ConditionnementField.vue\";\n\nimport { Ingredient, Unite, UniteLabels } from \"@/logic/api\";\nimport {\n  IngredientOptions,\n  EditMode,\n  deepcopy,\n  enumStringToOptions,\n} from \"@/logic/types\";\nimport { DefautIngredient } from \"./types\";\n\nconst EditIngredientProps = Vue.extend({\n  props: {\n    initialIngredient: Object as () => IngredientOptions | null,\n    mode: String as () => EditMode,\n  },\n});\n\n@Component({\n  components: { UniteField, ConditionnementField },\n})\nexport default class EditIngredient extends EditIngredientProps {\n  current = this.copy(this.initialIngredient);\n\n  private copy(initial: IngredientOptions | null): Ingredient {\n    const ing =\n      initial == null ? { ...DefautIngredient, id: -1 } : initial.ingredient;\n    return deepcopy(ing);\n  }\n\n  get btnTitle() {\n    return this.mode == \"edit\" ? \"Valider\" : \"Créer\";\n  }\n\n  get conditionnement() {\n    return this.current.conditionnement.unite != Unite.Zero;\n  }\n  set conditionnement(b: boolean) {\n    if (!b) {\n      this.current.conditionnement = { unite: Unite.Zero, quantite: 0 };\n    } else {\n      this.current.conditionnement.unite =\n        this.current.unite ||\n        (this.initialIngredient && this.initialIngredient.ingredient.unite) ||\n        Unite.Litres;\n    }\n  }\n\n  get allowedUnitesConditionnement() {\n    const items = enumStringToOptions(UniteLabels);\n    if (this.current.unite == Unite.Piece) {\n      // Pour le conditionnement, l'unité Pièce n'apporte aucune information\n      return items.filter((u) => u.value != Unite.Piece);\n    }\n    // le conditionnement doit être compatible avec l'unité.\n    return items.filter((u) => u.value == this.current.unite);\n  }\n\n  @Watch(\"initialIngredient\")\n  onPropChange() {\n    this.current = this.copy(this.initialIngredient);\n  }\n\n  $refs!: {\n    nom: Vue;\n  };\n\n  focus() {\n    const input = this.$refs.nom.$el.querySelector(\"input\");\n    if (input != null) input.select();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditIngredient.vue?vue&type=template&id=13b9c0b0&scoped=true&\"\nimport script from \"./EditIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13b9c0b0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ingredient != null)?_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_vm._v(\" Produits associés à l'ingrédient \"+_vm._s(_vm.ingredient.nom)+\" \")]),_c('v-card-subtitle',[_vm._v(\" Vous pouvez choisir ici quels produits concrets sont associés à l'ingrédient générique. \")]),_c('v-card-text',[_c('v-row',[_c('v-col',[_c('v-skeleton-loader',{staticClass:\"h-100\",attrs:{\"type\":\"paragraph\",\"loading\":_vm.loading}},[_c('v-simple-table',{attrs:{\"dense\":\"\",\"fixed-header\":\"\"}},[_c('thead',[_c('tr',[_c('th'),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Fournisseur\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Nom\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Prix\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Conditionnement\")]),_c('th')])]),_c('tbody',_vm._l((_vm.produits),function(produit){return _c('tr',{key:produit.id},[_c('td',{staticClass:\"px-1\"},[_c('tooltip-btn',{attrs:{\"small\":\"\",\"mdi-icon\":\"star\",\"color\":_vm.isDefault(produit) ? 'yellow' : '',\"tooltip\":_vm.isDefault(produit)\n                        ? 'Retirer ce produit des favoris'\n                        : 'Définir ce produit par défaut'},on:{\"click\":function($event){return _vm.setDefault(produit)}}})],1),_c('td',{domProps:{\"innerHTML\":_vm._s(_vm.formatFournisseur(produit))}}),_c('td',[_vm._v(_vm._s(produit.nom))]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(produit.prix)+\" €\")]),_c('td',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.formatConditionnement(produit.conditionnement))+\" \")]),_c('td',{staticClass:\"px-1\"},[_c('tooltip-btn',{attrs:{\"small\":\"\",\"mdi-icon\":\"close\",\"color\":\"red\",\"tooltip\":\"Supprimer ce produit\"},on:{\"click\":function($event){return _vm.deleteProduit(produit)}}})],1)])}),0)])],1)],1),_c('v-col',[_c('details-produit',{attrs:{\"C\":_vm.C,\"produit\":_vm.newProduit},on:{\"add\":_vm.addProduit}})],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\"Détails du produit\")]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.optionsLivraisons,\"label\":\"Fournisseur\",\"rules\":[_vm.rules.idRequired]},scopedSlots:_vm._u([{key:\"item\",fn:function(props){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.asE(props.item).text)}})]}},{key:\"selection\",fn:function(props){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.asE(props.item).text)}})]}}]),model:{value:(_vm.innerProduit.id_livraison),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"id_livraison\", $$v)},expression:\"innerProduit.id_livraison\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Nom\",\"rules\":[_vm.rules.required]},model:{value:(_vm.innerProduit.nom),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"nom\", $$v)},expression:\"innerProduit.nom\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Prix\",\"type\":\"number\",\"suffix\":\"€\",\"rules\":[_vm.rules.required],\"hint\":\"Prix d'un exemplaire\"},model:{value:(_vm.innerProduit.prix),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"prix\", _vm._n($$v))},expression:\"innerProduit.prix\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Référence fournisseur\",\"hint\":\"Optionnel\"},model:{value:(_vm.innerProduit.reference_fournisseur),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"reference_fournisseur\", $$v)},expression:\"innerProduit.reference_fournisseur\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('conditionnement-field',{model:{value:(_vm.innerProduit.conditionnement),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"conditionnement\", $$v)},expression:\"innerProduit.conditionnement\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"Colisage\",\"type\":\"number\",\"hint\":\"Nombre minimum d'exemplaires livrables\",\"min\":1,\"persistent-hint\":\"\"},model:{value:(_vm.innerProduit.colisage),callback:function ($$v) {_vm.$set(_vm.innerProduit, \"colisage\", _vm._n($$v))},expression:\"innerProduit.colisage\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.validate}},[_vm._v(\"Ajouter ce produit\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport ConditionnementField from \"../utils/ConditionnementField.vue\";\n\nimport { Produit, New } from \"@/logic/api\";\nimport { Controller } from \"@/logic/controller\";\nimport { sortByText } from \"../utils/utils\";\nimport { deepcopy, NullId, toNullableId, EnumItem } from \"@/logic/types\";\nimport { Watch } from \"vue-property-decorator\";\n\nconst DetailsProduitProps = Vue.extend({\n  props: {\n    C: Object as () => Controller,\n    // contraint le produit possible\n    produit: Object as () => Produit,\n  },\n});\n\ntype VForm = Vue & { validate: () => boolean };\n\n@Component({\n  components: { ConditionnementField },\n})\nexport default class DetailsProduit extends DetailsProduitProps {\n  innerProduit: Produit = this.duplique();\n  $refs!: {\n    form: VForm;\n  };\n\n  asE = (i: EnumItem) => i;\n\n  @Watch(\"produit\")\n  onChange() {\n    this.innerProduit = this.duplique();\n  }\n\n  duplique() {\n    return deepcopy<Produit>(this.produit);\n  }\n\n  get optionsLivraisons() {\n    const items: EnumItem<number>[] = Object.values(this.C.api.livraisons).map(\n      (livraison) => {\n        return {\n          text: this.C.formatter.formatLivraison(livraison),\n          value: livraison.id,\n        };\n      }\n    );\n    return items;\n  }\n\n  rules = {\n    required: (v: any) => !!v || \"Champ requis\",\n    idRequired: (id: number) => id >= 0 || \"Champ requis\",\n  };\n\n  validate() {\n    if (this.$refs.form.validate()) {\n      this.$emit(\"add\", this.innerProduit);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsProduit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsProduit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DetailsProduit.vue?vue&type=template&id=0528abfc&scoped=true&\"\nimport script from \"./DetailsProduit.vue?vue&type=script&lang=ts&\"\nexport * from \"./DetailsProduit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0528abfc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VForm,VRow,VSelect,VSpacer,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport DetailsProduit from \"./DetailsProduit.vue\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\n\nimport { Ingredient, IngredientProduits, Produit, Unite } from \"@/logic/api\";\nimport { Controller } from \"@/logic/controller\";\nimport { Watch } from \"vue-property-decorator\";\nimport { New } from \"@/logic/api\";\nimport { Formatter } from \"@/logic/formatter\";\n\nconst AssociationIngredientProps = Vue.extend({\n  props: {\n    C: Object as () => Controller,\n    ingredient: Object as () => Ingredient | null,\n    activated: Boolean,\n  },\n});\n\n@Component({\n  components: { DetailsProduit, TooltipBtn },\n})\nexport default class AssociationIngredient extends AssociationIngredientProps {\n  formatConditionnement = Formatter.formatConditionnement;\n\n  get newProduit(): New<Produit> {\n    let cond = { quantite: 0, unite: Unite.Litres };\n    if (this.ingredient != null) {\n      cond = this.ingredient.conditionnement;\n      if (this.ingredient.unite != Unite.Piece) {\n        // les unités doivent être indentiques\n        cond.unite = this.ingredient.unite;\n      }\n    }\n    return {\n      id_livraison: -1,\n      nom: \"\",\n      conditionnement: cond,\n      prix: 0,\n      reference_fournisseur: \"\",\n      colisage: 1,\n    };\n  }\n\n  get loading() {\n    return this.C.notifications.spin;\n  }\n\n  ingredientProduits: IngredientProduits | null = null;\n\n  get produits() {\n    if (this.ingredientProduits != null) {\n      return this.ingredientProduits.produits || [];\n    }\n    return [];\n  }\n\n  formatFournisseur(produit: Produit) {\n    return this.C.formatter.formatFournisseur(produit);\n  }\n\n  isDefault(produit: Produit) {\n    if (this.ingredientProduits == null) return false;\n    return (this.ingredientProduits.defaults || {})[produit.id];\n  }\n\n  private async loadProduits() {\n    if (this.ingredient == null) return;\n    const res = await this.C.api.GetIngredientProduits({\n      id: this.ingredient.id,\n    });\n    if (res == undefined) return;\n    this.ingredientProduits = res;\n  }\n\n  mounted() {\n    this.loadProduits();\n  }\n\n  @Watch(\"activated\")\n  onChangeIngredient(b: boolean) {\n    if (!b) return;\n    this.loadProduits();\n  }\n\n  async addProduit(produit: Produit) {\n    if (this.ingredient == null) return;\n    const res = await this.C.api.AjouteIngredientProduit({\n      produit: produit,\n      id_ingredient: this.ingredient.id,\n    });\n    if (res) {\n      this.ingredientProduits = res;\n    }\n  }\n\n  async deleteProduit(produit: Produit) {\n    if (this.ingredient == null) return;\n    await this.C.api.DeleteProduit({ id: produit.id });\n    await this.loadProduits();\n  }\n\n  async setDefault(produit: Produit) {\n    const newState = !this.isDefault(produit);\n    if (this.ingredient == null) return;\n    const res = await this.C.api.SetDefautProduit({\n      id_ingredient: this.ingredient.id,\n      id_produit: produit.id,\n      on: newState,\n    });\n    if (res) {\n      this.ingredientProduits = res;\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssociationIngredient.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssociationIngredient.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssociationIngredient.vue?vue&type=template&id=03e05c2f&scoped=true&\"\nimport script from \"./AssociationIngredient.vue?vue&type=script&lang=ts&\"\nexport * from \"./AssociationIngredient.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03e05c2f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCardSubtitle,VCardText,VCardTitle,VCol,VRow,VSimpleTable,VSkeletonLoader})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport Component from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\n\nimport EditIngredient from \"./EditIngredient.vue\";\nimport AssociationIngredient from \"../produits/AssociationIngredient.vue\";\nimport Toolbar from \"../utils/Toolbar.vue\";\n\nimport { Controller } from \"@/logic/controller\";\nimport { Ingredient, New } from \"@/logic/api\";\nimport { IngredientOptions, EditMode } from \"@/logic/types\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\nimport levenshtein from \"js-levenshtein\";\nimport { StateMenus, DefautIngredient } from \"./types\";\nimport { searchFunction } from \"../utils/utils\";\nimport { DragKind, setDragData } from \"../utils/utils_drag\";\nimport { BaseList, ListKind } from \"./shared\";\n\n@Component({\n  components: { TooltipBtn, EditIngredient, AssociationIngredient, Toolbar },\n  props: {\n    kind: {\n      type: String as () => ListKind,\n      default: \"idIngredient\",\n    },\n  },\n})\nexport default class ListeIngredients extends BaseList {\n  confirmeSupprime = false;\n\n  showEditIngredient = false;\n  editMode: EditMode = \"new\";\n  editedIngredient: IngredientOptions = {\n    ingredient: { ...DefautIngredient, id: -1 },\n  };\n\n  showEditProduits = false;\n\n  search = \"\";\n\n  $refs!: {\n    list: HTMLElement;\n  };\n\n  private subtitle(ingredient: IngredientOptions) {\n    if (ingredient.options) {\n      return `${ingredient.options.quantite} <i>${\n        ingredient.ingredient.unite\n      }</i> - Cuisson : ${ingredient.options.cuisson || \"-\"}`;\n    }\n    return `<i>${ingredient.ingredient.unite}</i>`;\n  }\n\n  private get title() {\n    if (this.state.mode == \"editMenu\" || this.state.mode == \"editRecette\") {\n      return \"Choisir un ingrédient\";\n    }\n    if (this.state.selection.idRecette != null) {\n      return \"Ingrédients liés à la recette\";\n    } else if (this.state.selection.idMenu != null) {\n      return \"Ingrédients liés au menu\";\n    }\n    return \"Tous les ingrédients\";\n  }\n\n  private get editedIngredientProduit() {\n    if (this.state.selection.idIngredient == null) return null;\n    return this.C.getIngredient(this.state.selection.idIngredient);\n  }\n\n  // filtre suivant la recherche\n  private searchIngredients(ingredients: IngredientOptions[], search: string) {\n    const predicat = searchFunction(search);\n    // cas spécial pour l'unité\n    return ingredients\n      .filter((ing) => {\n        return search == ing.ingredient.unite || predicat(ing.ingredient.nom);\n      })\n      .sort((a, b) => Number(a.ingredient.nom < b.ingredient.nom));\n  }\n\n  private get ingredients() {\n    let baseIngredients: IngredientOptions[];\n    if (this.state.mode == \"editMenu\" || this.state.mode == \"editRecette\") {\n      baseIngredients = this.C.getAllIngredients();\n    } else if (this.state.selection.idRecette != null) {\n      baseIngredients = this.C.getRecetteIngredients(\n        this.state.selection.idRecette\n      );\n    } else if (this.state.selection.idMenu != null) {\n      baseIngredients = this.C.getMenuIngredients(this.state.selection.idMenu);\n    } else {\n      baseIngredients = this.C.getAllIngredients();\n    }\n    return this.searchIngredients(baseIngredients, this.search);\n  }\n\n  private showActions(active: boolean) {\n    return (\n      this.state.selection.idMenu == null &&\n      this.state.selection.idRecette == null &&\n      active\n    );\n  }\n\n  private supprime(checkProduits: boolean) {\n    this.confirmeSupprime = false;\n    if (this.state.selection.idIngredient == null) return;\n    this.C.api.DeleteIngredient({\n      id: this.state.selection.idIngredient,\n      check_produits: checkProduits,\n    });\n  }\n\n  private onDragStart(event: DragEvent, ingredient: Ingredient) {\n    if (!event.dataTransfer) return;\n    setDragData(event.dataTransfer, DragKind.IdIngredient, ingredient.id);\n    event.dataTransfer.effectAllowed = \"copy\";\n  }\n\n  private startEditIngredient(ing: IngredientOptions) {\n    this.$emit(\"change\", ing);\n    this.editedIngredient = ing;\n    this.editMode = \"edit\";\n    this.showEditIngredient = true;\n  }\n\n  private async editIngredientDone(ing: Ingredient) {\n    this.showEditIngredient = false;\n    if (this.editMode == \"edit\") {\n      ing = (await this.C.api.UpdateIngredient(ing)) as Ingredient;\n    } else {\n      ing = (await this.C.api.CreateIngredient(ing)) as Ingredient;\n    }\n    if (this.C.notifications.getError() == null) {\n      this.state.selection.idIngredient = ing.id;\n    }\n    this.$emit(\"change\", null);\n  }\n\n  private startCreateIngredient() {\n    this.$emit(\"change\", { ingredient: DefautIngredient });\n    this.editMode = \"new\";\n    this.showEditIngredient = true;\n  }\n\n  private startEditProduits(ingredient: IngredientOptions) {\n    this.showEditProduits = true;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListeIngredients.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListeIngredients.vue?vue&type=template&id=dc1194a0&\"\nimport script from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListeIngredients.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"check-outline\",\"tooltip\":\"Valider\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('done', _vm.menu)}}}),_c('tooltip-btn',{attrs:{\"mdi-icon\":\"undo\",\"tooltip\":\"Abandonner les modifications\"},on:{\"click\":function($event){return _vm.$emit('undo')}}})],1)],1),_c('v-textarea',{staticClass:\"pa-2 mt-4 my-3 mb-0\",attrs:{\"label\":\"Commentaire\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(_vm.menu.commentaire),callback:function ($$v) {_vm.$set(_vm.menu, \"commentaire\", $$v)},expression:\"menu.commentaire\"}}),_c('div',{on:{\"dragover\":_vm.onDragoverRecettes,\"drop\":_vm.onDropRecette}},[_c('v-list',{staticClass:\"mt-0 pt-0 overflow-y-auto\",attrs:{\"dense\":\"\",\"max-height\":\"60vh\"}},[_c('v-subheader',[_vm._v(\"Recettes du menu\")]),(_vm.recettes.length == 0)?_c('v-list-item',[_c('v-list-item-subtitle',[_c('i',[_vm._v(\"Cliquer-déplacer pour ajouter une recette...\")])])],1):_vm._e(),_vm._l((_vm.recettes),function(recette){return _c('v-list-item',{key:recette.id,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){return [_c('v-list-item-content',[_c('v-list-item-title',[_c('v-list-item-title',[_vm._v(_vm._s(recette.nom))])],1),_c('v-list-item-subtitle',[_c('i',[_vm._v(\" \"+_vm._s(_vm.formatRecetteProprietaire(recette)))])])],1),_c('v-list-item-action',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"close\",\"tooltip\":\"Retirer cette recette du menu\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeRecette(recette)}}})],1)]}}],null,true)})})],2)],1),_c('liste-lien-ingredients',{attrs:{\"C\":_vm.C,\"subheader\":\"Ingrédients additionnels\"},model:{value:(_vm.menu.ingredients),callback:function ($$v) {_vm.$set(_vm.menu, \"ingredients\", $$v)},expression:\"menu.ingredients\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\n\nimport { Menu, Recette, LienIngredient, MenuComplet, New } from \"@/logic/api\";\nimport { EditMode, deepcopy } from \"@/logic/types\";\nimport { Watch } from \"vue-property-decorator\";\nimport ListeLienIngredients from \"../utils/ListeLienIngredients.vue\";\nimport { DragKind, getDragData } from \"../utils/utils_drag\";\nimport { Controller } from \"@/logic/controller\";\n\nconst EditMenuProps = Vue.extend({\n  props: {\n    C: Object as () => Controller,\n    mode: String as () => EditMode,\n    initialMenu: Object as () => New<MenuComplet>,\n  },\n});\n\n@Component({\n  components: { TooltipBtn, ListeLienIngredients },\n})\nexport default class EditMenu extends EditMenuProps {\n  // menu actuellement édité\n  menu: New<MenuComplet> = deepcopy(this.initialMenu);\n\n  @Watch(\"initialMenu\")\n  onMenuChange() {\n    this.menu = deepcopy(this.initialMenu);\n  }\n\n  get title() {\n    if (this.mode == \"edit\") {\n      return \"Modifier le menu\";\n    }\n    return \"Ajouter un menu\";\n  }\n\n  // résoud les recettes à partir des ids\n  get recettes() {\n    return this.C.getMenuRecettes(this.menu);\n  }\n\n  formatRecetteProprietaire = this.C.formatter.formatMenuOrRecetteProprietaire;\n\n  removeRecette(toRemove: Recette) {\n    this.menu.recettes = (this.menu.recettes || []).filter(\n      (idRecette) => idRecette != toRemove.id\n    );\n  }\n\n  onDragoverRecettes(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    const isRecette = event.dataTransfer.types.includes(DragKind.IdRecette);\n    if (isRecette) {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = \"copy\";\n    }\n  }\n\n  onDropRecette(event: DragEvent) {\n    if (!event.dataTransfer) return;\n    event.preventDefault();\n    const idRecette = getDragData(event.dataTransfer, DragKind.IdRecette);\n    const recettes = this.menu.recettes || [];\n    const hasRecette = recettes.includes(idRecette);\n    if (hasRecette) return;\n    recettes.push(idRecette);\n    this.menu.recettes = recettes;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=ts&\"","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./EditMenu.vue?vue&type=template&id=75c5e286&scoped=true&\"\nimport script from \"./EditMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75c5e286\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VSpacer,VSubheader,VTextarea,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-toolbar-items',[_c('tooltip-btn',{attrs:{\"mdi-icon\":\"check-outline\",\"tooltip\":\"Valider\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$emit('done', _vm.recette)}}}),_c('tooltip-btn',{attrs:{\"mdi-icon\":\"undo\",\"tooltip\":\"Abandonner les modifications\"},on:{\"click\":function($event){return _vm.$emit('undo')}}})],1)],1),_c('v-row',{staticClass:\"px-2\"},[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Nom de la recette\",\"required\":\"\"},model:{value:(_vm.recette.nom),callback:function ($$v) {_vm.$set(_vm.recette, \"nom\", $$v)},expression:\"recette.nom\"}}),_c('v-textarea',{attrs:{\"label\":\"Mode d'emploi\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(_vm.recette.mode_emploi),callback:function ($$v) {_vm.$set(_vm.recette, \"mode_emploi\", $$v)},expression:\"recette.mode_emploi\"}})],1),_c('v-col',[_c('liste-lien-ingredients',{staticClass:\"mt-0 pt-0 overflow-y-auto\",staticStyle:{\"max-height\":\"60vh\"},attrs:{\"C\":_vm.C,\"subheader\":\"Ingrédients\"},model:{value:(_vm.recette.ingredients),callback:function ($$v) {_vm.$set(_vm.recette, \"ingredients\", $$v)},expression:\"recette.ingredients\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport TooltipBtn from \"../utils/TooltipBtn.vue\";\n\nimport { Controller } from \"@/logic/controller\";\nimport { New, Recette, RecetteComplet, LienIngredient } from \"@/logic/api\";\nimport { EditMode, deepcopy } from \"@/logic/types\";\nimport { Watch } from \"vue-property-decorator\";\n\nimport ListeLienIngredients from \"../utils/ListeLienIngredients.vue\";\n\nconst EditRecetteProps = Vue.extend({\n  props: {\n    C: Object as () => Controller,\n    mode: String as () => EditMode,\n    initialRecette: Object as () => RecetteComplet,\n  },\n});\n\n@Component({\n  components: { TooltipBtn, ListeLienIngredients },\n})\nexport default class EditRecette extends EditRecetteProps {\n  // recette actuellement éditée\n  recette: RecetteComplet = deepcopy(this.initialRecette);\n\n  @Watch(\"initialRecette\")\n  onRecetteChange() {\n    this.recette = deepcopy(this.initialRecette);\n  }\n\n  get title() {\n    if (this.mode == \"edit\") {\n      return \"Modifier la recette\";\n    }\n    return \"Ajouter une recette\";\n  }\n\n  formatRecetteProprietaire = this.C.formatter.formatMenuOrRecetteProprietaire;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRecette.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRecette.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditRecette.vue?vue&type=template&id=5df69d9a&scoped=true&\"\nimport script from \"./EditRecette.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditRecette.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5df69d9a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VRow,VSpacer,VTextField,VTextarea,VToolbar,VToolbarItems,VToolbarTitle})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\nimport Vue from \"vue\";\nimport ListeMenus from \"../components/menus/ListeMenus.vue\";\nimport ListeRecettes from \"../components/menus/ListeRecettes.vue\";\nimport ListeIngredients from \"../components/menus/ListeIngredients.vue\";\nimport EditMenu from \"../components/menus/EditMenu.vue\";\nimport EditRecette from \"../components/menus/EditRecette.vue\";\nimport { Controller } from \"../logic/controller\";\nimport {\n  Menu,\n  Recette,\n  Ingredient,\n  RecetteComplet,\n  MenuComplet,\n  New,\n} from \"../logic/api\";\nimport { IngredientOptions, EditMode, deepcopy } from \"../logic/types\";\nimport {\n  StateMenus,\n  DefautRecette,\n  DefautMenu,\n} from \"../components/menus/types\";\nimport { Watch } from \"vue-property-decorator\";\nimport { ClickOutside } from \"vuetify/lib\";\n\nconst MenuProps = Vue.extend({\n  props: {\n    C: Object as () => Controller,\n  },\n});\n\n@Component({\n  components: {\n    ListeMenus,\n    ListeRecettes,\n    ListeIngredients,\n    EditMenu,\n    EditRecette,\n  },\n})\nexport default class Menus extends MenuProps {\n  state: StateMenus = {\n    mode: \"visu\",\n    selection: { idMenu: null, idRecette: null, idIngredient: null },\n  };\n\n  editMode: EditMode = \"new\"; // s'applique au menu, recette ou ingrédient\n\n  // ces champs vont être mis à jour avant édition\n  editedMenu: New<Menu> = DefautMenu;\n  editedRecette: New<Recette> = DefautRecette;\n\n  $refs!: {\n    listeMenus: ListeMenus;\n    listeRecettes: ListeRecettes;\n    listeIngredients: ListeIngredients;\n  };\n\n  async mounted() {\n    await this.C.api.loadAllMenus();\n    this.selectIngredient();\n  }\n\n  activated() {\n    if (this.C.notifications.spin) {\n      return; // données en cours de chargement\n    }\n    this.selectIngredient();\n  }\n\n  private selectIngredient() {\n    const idIngredient = Number(this.$route.query[\"idIngredient\"]);\n    if (idIngredient) {\n      this.state.mode = \"visu\";\n      // pour afficher tout les ingrédients\n      this.state.selection.idRecette = null;\n      this.state.selection.idMenu = null;\n      this.$refs.listeIngredients.goToItem(idIngredient);\n    }\n  }\n\n  startEditMenu(menu: Menu) {\n    this.editedMenu = menu;\n    this.state.selection.idMenu = menu.id;\n    this.state.mode = \"editMenu\";\n    this.editMode = \"edit\";\n  }\n\n  startCreateMenu() {\n    if (this.C.state.idUtilisateur == null) return;\n    const newMenu: Menu = { ...deepcopy(DefautMenu), id: -1 };\n    newMenu.id_utilisateur.Int64 = this.C.state.idUtilisateur;\n    this.editedMenu = newMenu;\n    this.editMode = \"new\";\n    this.state.mode = \"editMenu\";\n  }\n\n  editMenuCancel() {\n    this.state.mode = \"visu\";\n  }\n\n  async editMenuDone(menu: MenuComplet) {\n    let out: MenuComplet | undefined;\n    if (this.editMode == \"edit\") {\n      out = await this.C.api.UpdateMenu(menu);\n    } else {\n      out = await this.C.api.CreateMenu(menu);\n    }\n    this.state.mode = \"visu\";\n    if (out !== undefined) {\n      this.$refs.listeMenus.goToItem(out.id);\n    }\n  }\n\n  startEditRecette(recette: Recette) {\n    this.editedRecette = recette;\n    // this.state.selection.idRecette = recette.id;\n    this.editMode = \"edit\";\n    this.state.mode = \"editRecette\";\n  }\n\n  startCreateRecette() {\n    const newRecette: Recette = { ...deepcopy(DefautRecette), id: -1 };\n    newRecette.id_utilisateur.Int64 = this.C.state.idUtilisateur;\n    this.editedRecette = newRecette;\n    this.editMode = \"new\";\n    this.state.mode = \"editRecette\";\n  }\n  editRecetteCancel() {\n    this.state.mode = \"visu\";\n  }\n\n  async editRecetteDone(recette: RecetteComplet) {\n    let out: RecetteComplet | undefined;\n    if (this.editMode == \"edit\") {\n      out = await this.C.api.UpdateRecette(recette);\n    } else {\n      out = await this.C.api.CreateRecette(recette);\n    }\n    this.state.mode = \"visu\";\n    if (out !== undefined) {\n      this.$refs.listeRecettes.goToItem(out.id);\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Menus.vue?vue&type=template&id=9b86472e&\"\nimport script from \"./Menus.vue?vue&type=script&lang=ts&\"\nexport * from \"./Menus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VRow})\n"],"sourceRoot":""}